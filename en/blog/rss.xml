<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="rss.xsl"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>KO HYEON LIM Blog</title>
        <link>https://indianapoly.github.io/en/blog</link>
        <description>KO HYEON LIM Blog</description>
        <lastBuildDate>Sun, 20 Jul 2025 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Grafana + Prometheus + MySQL Exporterë¥¼ í™œìš©í•œ MySQL ëª¨ë‹ˆí„°ë§ ì„¤ì •ê¸°]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title</guid>
            <pubDate>Sun, 20 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<p>ìµœê·¼ì— ì¸í”„ë¼ ê´€ë ¨ëœ ìˆ˜ì—…ì„ ì§„í–‰í•˜ë©´ì„œ ë‚´ ìŠ¤ìŠ¤ë¡œ í•  ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ê°€ ë­”ì§€, ì–´ë–»ê²Œ í•˜ë©´ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì„ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆì„ì§€ ê³ ë¯¼ì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ê·¸ ê²°ê³¼ DBë¥¼ ë§Œë“¤ê³  DBì— ë°ì´í„°ê°€ ë§ì´ ëª°ë¦¬ê²Œ ë˜ì—ˆì„ ë•Œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” íë¦„ì„ ë§Œë“¤ë©´ ì¢‹ê² ë‹¤ ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤.</p>
<p>ë”°ë¼ì„œ MySQLì„ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ Prometheusì™€ Grafanaë¥¼ ì—°ë™í•´ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì„±í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ê·¸ ì „ì²´ ê³¼ì •ì„ ì •ë¦¬í•´ë´¤ì–´ìš”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-ì „ì²´-ì•„í‚¤í…ì²˜">ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#%EF%B8%8F-%EC%A0%84%EC%B2%B4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98" class="hash-link" aria-label="Direct link to ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜" title="Direct link to ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜">â€‹</a></h2>
<p>ì¶”í›„ì— ì¢€ ë” ë³µì¡í•œ ì•„í‚¤í…ì²˜ë„ ë§Œì ¸ë³´ë©´ì„œ ê³„ì†í•´ì„œ í™•ì¥í•´ë‚˜ê°€ë³´ë©´ ì¢‹ì„ê±° ê°™ì€ ìƒê°ì´ë“­ë‹ˆë‹¤!</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MySQL â† mysqld_exporter â†’ Prometheus â†’ Grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  â†‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">phpMyAdmin (ê´€ë¦¬ìš©)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-í”„ë¡œì íŠ¸-êµ¬ì¡°">ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0" class="hash-link" aria-label="Direct link to ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°" title="Direct link to ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°">â€‹</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">grafana/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ provisioning/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ dashboards/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ dashboard.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ datasources/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â””â”€â”€ datasource.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ mysql/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ mysql_data/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ mysqld-exporter/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ my.cnf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ prometheus/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ prometheus.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ docker-compose.yml</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-docker-compose-ì„¤ì •">ğŸ³ Docker Compose ì„¤ì •<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-docker-compose-%EC%84%A4%EC%A0%95" class="hash-link" aria-label="Direct link to ğŸ³ Docker Compose ì„¤ì •" title="Direct link to ğŸ³ Docker Compose ì„¤ì •">â€‹</a></h2>
<p>ì „ì²´ ìŠ¤íƒì„ í•œ ë²ˆì— ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ docker-compose.ymlì„ êµ¬ì„±í–ˆì–´ìš”.</p>
<p>ë³¼ë¥¨ ì„¤ì •ì‹œ íŒŒì¼ ìœ„ì¹˜ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ í•˜ë‚˜ì˜ íŒŒì¼ ë‚´ì—ì„œ ê´€ë ¨ëœ íŒŒì¼ë“¤ì„ ëª¨ë‘ ê´€ë¦¬í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.(ì´ë ‡ê²Œ í•˜ë‹ˆê¹ í™•ì‹¤íˆ ìƒëŒ€ê²½ë¡œë¡œ ê´€ë¦¬í•˜ê¸° ì‰½ë‹¤ëŠ” ì ì´ ì¢‹ì•˜ìŠµë‹ˆë‹¤.) ê·¸ë¦¬ê³  $<!-- -->ë¡œ í‘œì‹œí•œ ë‚´ìš©ì— ëŒ€í•´ì„œëŠ” ì¤‘ìš”íŒŒì¼ì´ê¸° ë•Œë¬¸ì— .envë¡œ íŒŒì¼ì„ ì„¤ì •í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. .env íŒŒì¼ì— ëŒ€í•œ ë‚´ìš©ì€ ì•„ë˜ì— ë³´ë©´ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.8"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./mysql/mysql_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3306:3306"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">phpmyadmin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> phpmyadmin/phpmyadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> phpmyadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">platform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> linux/amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"8080:80"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_HOST</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_PORT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mysqld-exporter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prom/mysqld</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysqld_exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./mysqld</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">exporter/my.cnf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/mysql/my.cnf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">ro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"9104:9104"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"--config.my-cnf=/etc/mysql/my.cnf"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">prometheus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prom/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./prometheus/prometheus.yml</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/prometheus/prometheus.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"9090:9090"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysqld</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">grafana</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> grafana/grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">GF_SECURITY_ADMIN_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">GF_SECURITY_ADMIN_USER</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">GF_SECURITY_ADMIN_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">GF_SECURITY_ADMIN_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./grafana/provisioning/dashboards</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/grafana/provisioning/dashboards</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./grafana/provisioning/datasources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/grafana/provisioning/datasources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3000:3000"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mysql_data</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<p>.env ì„¤ì • íŒŒì¼ì´ì—ìš”. MYSQLì—ì„œ rootë¡œ ì ‘ê·¼í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” passwordì™€ ì‚¬ìš©í•  databaseë¥¼ ì§€ì •ì„ í•´ì¤ë‹ˆë‹¤. Grafanaì™€ ê°™ì€ ê²½ìš°ì—ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ê°€ adminìœ¼ë¡œ ì„¤ì •ì´ ë˜ì–´ìˆì–´ìš”. ê·¸ë¦¬ê³  ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ë¼ëŠ” ë©”ì„¸ì§€ê°€ ë‚˜ì˜¤ëŠ”ë° docker ì»¨í…Œì´ë„ˆë¥¼ ë‚´ë¦¬ê³  ë‹¤ì‹œ ì‹¤í–‰ì„ í•˜ê²Œ ë˜ë©´ ê³„ì†í•´ì„œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•˜ë¼ëŠ” ì°½ì´ ë‚˜ì™€ì„œ ì„¤ì •í•´ì£¼ëŠ”ê²Œ í¸í–ˆìŠµë‹ˆë‹¤.</p>
<div class="language-.env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-.env codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_ROOT_PASSWORD=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_DATABASE=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GF_SECURITY_ADMIN_USER=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GF_SECURITY_ADMIN_PASSWORD=</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ì£¼ìš”-ì„¤ì •-íŒŒì¼ë“¤">ğŸ”§ ì£¼ìš” ì„¤ì • íŒŒì¼ë“¤<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%EC%A3%BC%EC%9A%94-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC%EB%93%A4" class="hash-link" aria-label="Direct link to ğŸ”§ ì£¼ìš” ì„¤ì • íŒŒì¼ë“¤" title="Direct link to ğŸ”§ ì£¼ìš” ì„¤ì • íŒŒì¼ë“¤">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-mysqld_exporter-ì„¤ì •-mycnf">1. mysqld_exporter ì„¤ì • (my.cnf)<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#1-mysqld_exporter-%EC%84%A4%EC%A0%95-mycnf" class="hash-link" aria-label="Direct link to 1. mysqld_exporter ì„¤ì • (my.cnf)" title="Direct link to 1. mysqld_exporter ì„¤ì • (my.cnf)">â€‹</a></h3>
<p>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ userì™€ passwordëŠ” ë‚´ê°€ ì ‘ê·¼í•˜ê³ ìí•˜ëŠ” mysqlì˜ ë‚´ìš©ì´ì–´ì•¼ ë¼ìš”. ì¦‰ userì— exporterê°€ ì„¤ì •ì´ ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ access deniedê°€ ì„¤ì •ì´ ë  ìˆ˜ ìˆì–´ìš”. ì´ë¥¼ ìœ ì˜í•´ì„œ ì‘ì„±í•´ì£¼ì–´ì•¼ í•´ìš”. ì•„ë˜ ë‚´ìš©ì—ì„œ ì´ì™€ ê´€ë ¨ëœ ë¬¸ì œ í•´ê²°ì„ ì ì–´ë‘ì—ˆìŠµë‹ˆë‹¤.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[client]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user=exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password=exporter_password</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-prometheus-ì„¤ì •-prometheusyml">2. Prometheus ì„¤ì • (prometheus.yml)<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#2-prometheus-%EC%84%A4%EC%A0%95-prometheusyml" class="hash-link" aria-label="Direct link to 2. Prometheus ì„¤ì • (prometheus.yml)" title="Direct link to 2. Prometheus ì„¤ì • (prometheus.yml)">â€‹</a></h3>
<p>Prometheusê°€ íƒ€ê²Ÿìœ¼ë¡œ í•˜ëŠ” mysqld-expoertë¥¼ ì„¤ì •ì„ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scrape_interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">scrape_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"mysqld-exporter"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">static_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"mysqld-exporter:9104"</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-grafana-ë°ì´í„°ì†ŒìŠ¤-ìë™-ì„¤ì •-datasourceyml">3. Grafana ë°ì´í„°ì†ŒìŠ¤ ìë™ ì„¤ì • (datasource.yml)<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#3-grafana-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%86%8C%EC%8A%A4-%EC%9E%90%EB%8F%99-%EC%84%A4%EC%A0%95-datasourceyml" class="hash-link" aria-label="Direct link to 3. Grafana ë°ì´í„°ì†ŒìŠ¤ ìë™ ì„¤ì • (datasource.yml)" title="Direct link to 3. Grafana ë°ì´í„°ì†ŒìŠ¤ ìë™ ì„¤ì • (datasource.yml)">â€‹</a></h3>
<p>Grafanaë¥¼ ì²˜ìŒ ì‹¤í–‰ì„ í•˜ê²Œ ë˜ë©´ data sourceë¥¼ ì •í•˜ëŠ” ê³¼ì •ì´ ìˆìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•Šê¸° ë•Œë¬¸ì— ë‹¹ì—°íˆ ëŒ€ì‹œë³´ë“œê°€ ì •ìƒì ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•Šì•„ìš”. ì•„ë˜ íŒŒì¼ì„ ì„¤ì •ì„ í•´ì£¼ë©´ Grafanaê°€ ì‹¤í–‰í•  ë•Œ ìë™ìœ¼ë¡œ Prometheusë¥¼ ì„¤ì •í•´ì¤ë‹ˆë‹¤.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">datasources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">access</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//prometheus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9090</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">isDefault</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ì£¼ìš”-ë¬¸ì œë“¤ê³¼-í•´ê²°ì±…">ğŸš¨ ì£¼ìš” ë¬¸ì œë“¤ê³¼ í•´ê²°ì±…<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%EC%A3%BC%EC%9A%94-%EB%AC%B8%EC%A0%9C%EB%93%A4%EA%B3%BC-%ED%95%B4%EA%B2%B0%EC%B1%85" class="hash-link" aria-label="Direct link to ğŸš¨ ì£¼ìš” ë¬¸ì œë“¤ê³¼ í•´ê²°ì±…" title="Direct link to ğŸš¨ ì£¼ìš” ë¬¸ì œë“¤ê³¼ í•´ê²°ì±…">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-mysqld_exporter-access-denied-ë¬¸ì œ-í•´ê²°">1. mysqld_exporter <code>access denied</code> ë¬¸ì œ í•´ê²°<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#1-mysqld_exporter-access-denied-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0" class="hash-link" aria-label="Direct link to 1-mysqld_exporter-access-denied-ë¬¸ì œ-í•´ê²°" title="Direct link to 1-mysqld_exporter-access-denied-ë¬¸ì œ-í•´ê²°">â€‹</a></h3>
<p><strong>ë¬¸ì œ</strong>: mysqld_exporter ì‹¤í–‰ ì‹œ ë‹¤ìŒ ì˜¤ë¥˜ ë°œìƒ</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ERROR] Access denied for user 'exporter'@'localhost'</span><br></span></code></pre></div></div>
<p><strong>í•´ê²°ì±…</strong>:</p>
<p>exporterê°€ ì ‘ê·¼í•  userì™€ í•´ë‹¹ userì˜ passwordë¥¼ my.cnfì— ì˜ ì„¤ì • í•´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. my.cnfì— exporterë¥¼ ì„¤ì •ì„ í•´ë‘ì—ˆëŠ”ë° mysql userì— exporterê°€ ì—†ë‹¤ë©´ ë‹¹ì—°íˆ ì—ëŸ¬ê°€ ë‚˜ìš”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-grafanaì—ì„œ-prometheus-ì—°ê²°-ì‹¤íŒ¨">2. Grafanaì—ì„œ Prometheus ì—°ê²° ì‹¤íŒ¨<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#2-grafana%EC%97%90%EC%84%9C-prometheus-%EC%97%B0%EA%B2%B0-%EC%8B%A4%ED%8C%A8" class="hash-link" aria-label="Direct link to 2. Grafanaì—ì„œ Prometheus ì—°ê²° ì‹¤íŒ¨" title="Direct link to 2. Grafanaì—ì„œ Prometheus ì—°ê²° ì‹¤íŒ¨">â€‹</a></h3>
<p><strong>ë¬¸ì œ</strong>: Grafanaì—ì„œ <code>http://localhost:9090</code>ìœ¼ë¡œ ì„¤ì •í–ˆë”ë‹ˆ ì—°ê²° ì‹¤íŒ¨</p>
<p><strong>í•´ê²°ì±…</strong>: ë„ì»¤ ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œëŠ” ì„œë¹„ìŠ¤ ì´ë¦„ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ í•µì‹¬ì´ì—ˆìŠµë‹ˆë‹¤.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">âŒ http://localhost:9090</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ… http://prometheus:9090</span><br></span></code></pre></div></div>
<p><strong>ì´ìœ </strong>: ë„ì»¤ ì»¨í…Œì´ë„ˆì—ì„œ <code>localhost</code>ëŠ” ìê¸° ìì‹ (ì»¨í…Œì´ë„ˆ ë‚´ë¶€)ì„ ì˜ë¯¸í•˜ë¯€ë¡œ, ê°™ì€ ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ì ‘ê·¼í•  ë•ŒëŠ” ì„œë¹„ìŠ¤ëª…ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-grafana-ì„¤ì •-ìë™í™”">3. Grafana ì„¤ì • ìë™í™”<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#3-grafana-%EC%84%A4%EC%A0%95-%EC%9E%90%EB%8F%99%ED%99%94" class="hash-link" aria-label="Direct link to 3. Grafana ì„¤ì • ìë™í™”" title="Direct link to 3. Grafana ì„¤ì • ìë™í™”">â€‹</a></h3>
<p>2ë²ˆê³¼ ê°™ì´ ìˆ˜ë™ ì„¤ì •ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê³¼ì •ì— ìˆì–´ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ë„ ìˆê³ , ì»¨í…Œì´ë„ˆê°€ down ëœ ìƒíƒœì—ì„œ ë‹¤ì‹œ ì‹¤í–‰ì„ í•œë‹¤ë©´ ë§¤ë²ˆ í•´ì£¼ëŠ” ê³¼ì •ì´ ê·€ì°®ì•„ì§ˆ ìˆ˜ ìˆì–´ data sourceë¥¼ ìë™í™” í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><code>provisioning</code> ë””ë ‰í„°ë¦¬ë¥¼ í™œìš©í•œ ìë™í™” êµ¬í˜„:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./grafana/provisioning/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ dashboards/     # ëŒ€ì‹œë³´ë“œ ìë™ ë¡œë”©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ datasources/    # ë°ì´í„°ì†ŒìŠ¤ ìë™ ì„¤ì •</span><br></span></code></pre></div></div>
<p>ì´ë ‡ê²Œ í•˜ë©´ ì»¨í…Œì´ë„ˆ ì´ˆê¸° ì‹¤í–‰ ì‹œ ëª¨ë“  ì„¤ì •ì´ ìë™ìœ¼ë¡œ ì ìš©ë¨</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-phpmyadmin-ì¶”ê°€ë¡œ-ê´€ë¦¬-í¸ì˜ì„±-í–¥ìƒ">4. phpMyAdmin ì¶”ê°€ë¡œ ê´€ë¦¬ í¸ì˜ì„± í–¥ìƒ<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#4-phpmyadmin-%EC%B6%94%EA%B0%80%EB%A1%9C-%EA%B4%80%EB%A6%AC-%ED%8E%B8%EC%9D%98%EC%84%B1-%ED%96%A5%EC%83%81" class="hash-link" aria-label="Direct link to 4. phpMyAdmin ì¶”ê°€ë¡œ ê´€ë¦¬ í¸ì˜ì„± í–¥ìƒ" title="Direct link to 4. phpMyAdmin ì¶”ê°€ë¡œ ê´€ë¦¬ í¸ì˜ì„± í–¥ìƒ">â€‹</a></h3>
<p>í„°ë¯¸ë„ ê¸°ë°˜ MySQL ê´€ë¦¬ì˜ ë¶ˆí¸í•¨ì„ í•´ê²°í•˜ê¸° ìœ„í•´ phpMyAdmin ì¶”ê°€í–ˆì–´ìš”.:</p>
<ul>
<li>í¬íŠ¸: 8080 (ë³´í†µ ì˜ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— docker ps -a ë¥¼ í™œìš©í•´ì„œ í•´ë‹¹ í¬íŠ¸ë¥¼ ì¡ê³  ìˆëŠ” ì»¨í…Œì´ë„ˆê°€ ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì–´ì•¼ í•´ìš”.)</li>
<li>ì‹œê°ì  í…Œì´ë¸” ê´€ë¦¬</li>
<li>ì‚¬ìš©ì ê¶Œí•œ ì„¤ì • ê°„í¸í™”</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-grafana-mysql-overview-dashboard-ë°ì´í„°-í‘œì‹œ-ë¬¸ì œ">5. Grafana MySQL Overview Dashboard ë°ì´í„° í‘œì‹œ ë¬¸ì œ<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#5-grafana-mysql-overview-dashboard-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%91%9C%EC%8B%9C-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="Direct link to 5. Grafana MySQL Overview Dashboard ë°ì´í„° í‘œì‹œ ë¬¸ì œ" title="Direct link to 5. Grafana MySQL Overview Dashboard ë°ì´í„° í‘œì‹œ ë¬¸ì œ">â€‹</a></h3>
<p><strong>ë¬¸ì œ</strong>: ëª¨ë“  íŒ¨ë„ì´ <code>No data</code> í‘œì‹œ</p>
<p><strong>ì›ì¸</strong>: í…œí”Œë¦¿ ë³€ìˆ˜ì™€ ì¿¼ë¦¬ ê°„ ì—°ë™ ë¬¸ì œê°€ ìˆì—ˆì–´ìš”.</p>
<ul>
<li><code>$host</code> ë³€ìˆ˜ ì„¤ì • ì˜¤ë¥˜ê°€ ìˆì–´ prometheusë¡œ ë¶€í„° ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¤ì§€ ëª»í•´ì„œ No dataê°€ ë³´ì˜€ì–´ìš”.</li>
</ul>
<p><strong>í•´ê²°ì±…</strong>:</p>
<ol>
<li>
<p><strong>$host ë³€ìˆ˜ ì¬ì„¤ì •</strong>:</p>
<ul>
<li>Query type: <code>Label values</code></li>
<li>Metric: <code>mysql_global_status_threads_connected</code></li>
<li>Label: <code>instance</code></li>
</ul>
</li>
<li>
<p><strong>ë³€ìˆ˜ ìƒˆë¡œê³ ì¹¨ ì„¤ì •</strong>:</p>
<ul>
<li><code>On dashboard load</code>ë¡œ ì„¤ì •</li>
<li>ë˜ëŠ” íŒ¨ë„ì—ì„œ ìˆ˜ë™ <code>Run query</code> ì‹¤í–‰</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ìµœì¢…-êµ¬ì„±-ê²°ê³¼">ğŸ“Š ìµœì¢… êµ¬ì„± ê²°ê³¼<a href="https://indianapoly.github.io/en/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%EC%B5%9C%EC%A2%85-%EA%B5%AC%EC%84%B1-%EA%B2%B0%EA%B3%BC" class="hash-link" aria-label="Direct link to ğŸ“Š ìµœì¢… êµ¬ì„± ê²°ê³¼" title="Direct link to ğŸ“Š ìµœì¢… êµ¬ì„± ê²°ê³¼">â€‹</a></h2>
<p><a href="https://github.com/indianaPoly/mysql-monitoring" target="_blank" rel="noopener noreferrer">ì „ì²´ ì½”ë“œ ë³´ëŸ¬ ê°ˆë˜ìš”</a></p>
<p>ì„¤ì • ì™„ë£Œ í›„ Grafana ëŒ€ì‹œë³´ë“œì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥í•œ ì§€í‘œë“¤ì€ ì•„ë˜ì™€ ê°™ì•„ìš”:</p>
<ul>
<li><strong>MySQL Uptime</strong>: ì„œë²„ ê°€ë™ ì‹œê°„</li>
<li><strong>Threads Connected/Running</strong>: ì—°ê²°ëœ ìŠ¤ë ˆë“œ ìˆ˜</li>
<li><strong>QPS (Queries per Second)</strong>: ì´ˆë‹¹ ì¿¼ë¦¬ ìˆ˜</li>
<li><strong>InnoDB Buffer Pool</strong>: ë²„í¼ í’€ ì‚¬ìš©ëŸ‰</li>
<li><strong>Connections</strong>: ì—°ê²° ìƒíƒœ</li>
<li><strong>Table Locks</strong>: í…Œì´ë¸” ì ê¸ˆ í˜„í™©</li>
<li><strong>Thread Cache</strong>: ìŠ¤ë ˆë“œ ìºì‹œ ìƒíƒœ</li>
</ul>
<p>ëŒ€ì‹œë³´ë“œ ìƒˆë¡œê³ ì¹¨ ê°„ê²©ì„ <code>5ì´ˆ</code>ë¡œ ì„¤ì •í•˜ì—¬ ì‹¤ì‹œê°„ì— ê°€ê¹Œìš´ ëª¨ë‹ˆí„°ë§ í™˜ê²½ êµ¬ì¶•í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤! ì•„ë˜ëŠ” êµ¬ì„± í›„ ê²°ê³¼ë¬¼ì…ë‹ˆë‹¤.</p>
<img src="https://indianapoly.github.io/img/blog/docker/2025-07-20/img1.png" width="600">]]></content:encoded>
            <category>TIL</category>
            <category>Docker</category>
        </item>
        <item>
            <title><![CDATA[Terraformìœ¼ë¡œ EKS ë°°í¬ ì‹œ ë°œìƒí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ì¶©ëŒ í•´ê²° ê°€ì´ë“œ]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title</guid>
            <pubDate>Sat, 19 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ë¬¸ì œ-ìƒí™©">ğŸš¨ ë¬¸ì œ ìƒí™©<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9" class="hash-link" aria-label="Direct link to ğŸš¨ ë¬¸ì œ ìƒí™©" title="Direct link to ğŸš¨ ë¬¸ì œ ìƒí™©">â€‹</a></h2>
<p>Terraformìœ¼ë¡œ EKS í´ëŸ¬ìŠ¤í„°ë¥¼ ë°°í¬í•˜ë˜ ì¤‘ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ë“¤ì´ ì—°ì†ìœ¼ë¡œ ë°œìƒí–ˆì–´ìš”:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating EC2 EIP: operation error EC2: AllocateAddress,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 400, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api error AddressLimitExceeded: The maximum number of addresses has been reached.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating KMS Alias (alias/eks/cwave): operation error KMS: CreateAlias,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 400, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AlreadyExistsException: An alias with the name arn:aws:kms:ap-northeast-2:368677659737:alias/eks/cwave already exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating EKS Cluster (cwave): operation error EKS: CreateCluster,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 409, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResourceInUseException: Cluster already exists with name: cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating IAM Role (efs-csi): operation error IAM: CreateRole,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 409, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EntityAlreadyExists: Role with name efs-csi already exists.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ë¬¸ì œ-ì›ì¸-ë¶„ì„">ğŸ” ë¬¸ì œ ì›ì¸ ë¶„ì„<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EB%AC%B8%EC%A0%9C-%EC%9B%90%EC%9D%B8-%EB%B6%84%EC%84%9D" class="hash-link" aria-label="Direct link to ğŸ” ë¬¸ì œ ì›ì¸ ë¶„ì„" title="Direct link to ğŸ” ë¬¸ì œ ì›ì¸ ë¶„ì„">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ê·¼ë³¸-ì›ì¸-ê°œë°œ-í™˜ê²½-í˜¼ë™ìœ¼ë¡œ-ì¸í•œ-ë¦¬ì†ŒìŠ¤-ì¤‘ë³µ">ê·¼ë³¸ ì›ì¸: ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#%EA%B7%BC%EB%B3%B8-%EC%9B%90%EC%9D%B8-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%ED%98%BC%EB%8F%99%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A4%91%EB%B3%B5" class="hash-link" aria-label="Direct link to ê·¼ë³¸ ì›ì¸: ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ" title="Direct link to ê·¼ë³¸ ì›ì¸: ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ">â€‹</a></h3>
<p><strong>ì‹¤ì œ ë°œìƒ ê³¼ì •:</strong></p>
<ol>
<li>ê°œë°œ í™˜ê²½ì— <code>local</code>ê³¼ <code>aws</code> ë‘ ê°œì˜ í´ë”ê°€ ì¡´ì¬</li>
<li>ì§€ê¸ˆê¹Œì§€ local í™˜ê²½ê³¼ aws í™˜ê²½ì„ ì°©ê°í•´ì„œ ê°œë°œì„ ì§„í–‰</li>
<li>local í™˜ê²½ì—ì„œ ìƒì„±í•œ Terraform ë¦¬ì†ŒìŠ¤ë¥¼ ì •í™•í•˜ê²Œ ì‚­ì œí•˜ì§€ ì•ŠìŒ</li>
<li>aws í´ë”ë¡œ ì´ë™í•´ì„œ ë‹¤ì‹œ <code>terraform apply</code>ë¥¼ ì‹œë„</li>
<li><strong>ê²°ê³¼</strong>: ë™ì¼í•œ ë¦¬ì†ŒìŠ¤ëª…ìœ¼ë¡œ ì¸í•œ ì¤‘ë³µ ìƒì„± ì‹œë„ë¡œ ì¶©ëŒ ë°œìƒí–ˆì–´ìš”</li>
</ol>
<p><strong>í´ë” êµ¬ì¡° ì˜ˆì‹œ:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ local/          # ë¡œì»¬ ê°œë°œìš© (ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì”ì¡´)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ terraform.tfstate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ aws/            # AWS í™˜ê²½ìš© (ìƒˆë¡œ ë°°í¬ ì‹œë„)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ terraform.tfstate</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ì„¸ë¶€-ì›ì¸ë“¤">ì„¸ë¶€ ì›ì¸ë“¤<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#%EC%84%B8%EB%B6%80-%EC%9B%90%EC%9D%B8%EB%93%A4" class="hash-link" aria-label="Direct link to ì„¸ë¶€ ì›ì¸ë“¤" title="Direct link to ì„¸ë¶€ ì›ì¸ë“¤">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-eip-í•œë„-ì´ˆê³¼-ë¬¸ì œ">1. EIP í•œë„ ì´ˆê³¼ ë¬¸ì œ<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#1-eip-%ED%95%9C%EB%8F%84-%EC%B4%88%EA%B3%BC-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="Direct link to 1. EIP í•œë„ ì´ˆê³¼ ë¬¸ì œ" title="Direct link to 1. EIP í•œë„ ì´ˆê³¼ ë¬¸ì œ">â€‹</a></h4>
<p>AWS ê³„ì •ë‹¹ EIP(Elastic IP) í• ë‹¹ í•œë„ê°€ ìˆê³  ì œê°€ í™•ì¸í–ˆì„ ë•ŒëŠ” 5ê°œê°€ í• ë‹¹ í•œë„ê°€ ìˆì—ˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í˜„ì¬ EIP ì‚¬ìš©ëŸ‰ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-ë¦¬ì†ŒìŠ¤-ì¤‘ë³µ-ë¬¸ì œ">2. ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ ë¬¸ì œ<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#2-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A4%91%EB%B3%B5-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="Direct link to 2. ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ ë¬¸ì œ" title="Direct link to 2. ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ ë¬¸ì œ">â€‹</a></h4>
<p>EKS í´ëŸ¬ìŠ¤í„°ë¥¼ ì‚­ì œí–ˆì§€ë§Œ ê´€ë ¨ ë¦¬ì†ŒìŠ¤ë“¤(IAM ì—­í• , KMS ë³„ì¹­ ë“±)ì€ ìë™ìœ¼ë¡œ ì‚­ì œë˜ì§€ ì•Šì•˜ì–´ìš”.</p>
<p><strong>ì™œ ì´ëŸ° ì¼ì´ ë°œìƒí•˜ëŠ”ê°€?</strong></p>
<ul>
<li>EKS í´ëŸ¬ìŠ¤í„° ì‚­ì œ ì‹œ <strong>IAM ì—­í• ì€ ìë™ìœ¼ë¡œ ì‚­ì œë˜ì§€ ì•Šì•„ìš”.</strong></li>
<li>KMS ë³„ì¹­ë„ ë§ˆì°¬ê°€ì§€ë¡œ ìˆ˜ë™ ì‚­ì œê°€ í•„ìš”í•´ìš”.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-terraform-ìƒíƒœ-íŒŒì¼-ë¶„ë¦¬ë¡œ-ì¸í•œ-ë¬¸ì œ">3. Terraform ìƒíƒœ íŒŒì¼ ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#3-terraform-%EC%83%81%ED%83%9C-%ED%8C%8C%EC%9D%BC-%EB%B6%84%EB%A6%AC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="Direct link to 3. Terraform ìƒíƒœ íŒŒì¼ ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ" title="Direct link to 3. Terraform ìƒíƒœ íŒŒì¼ ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ">â€‹</a></h4>
<ul>
<li><code>local/terraform.tfstate</code>ì™€ <code>aws/terraform.tfstate</code>ê°€ ê°ê° ê´€ë¦¬ë¼ìš”.</li>
<li>ì‹¤ì œ AWS ë¦¬ì†ŒìŠ¤ëŠ” ë™ì¼í•˜ì§€ë§Œ Terraform ìƒíƒœëŠ” ë¶„ë¦¬ë˜ì–´ ìˆì–´ìš”.</li>
<li>ìƒˆë¡œìš´ í´ë”ì—ì„œ ë°°í¬ ì‹œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆëŠ” ê²ƒì„ íŒŒì•…í–ˆì–´ìš”.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-í•´ê²°-ê³¼ì •">ğŸ› ï¸ í•´ê²° ê³¼ì •<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#%EF%B8%8F-%ED%95%B4%EA%B2%B0-%EA%B3%BC%EC%A0%95" class="hash-link" aria-label="Direct link to ğŸ› ï¸ í•´ê²° ê³¼ì •" title="Direct link to ğŸ› ï¸ í•´ê²° ê³¼ì •">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1ë‹¨ê³„-eip-ì‚¬ìš©ëŸ‰-í™•ì¸-ë°-ë¶„ì„">1ë‹¨ê³„: EIP ì‚¬ìš©ëŸ‰ í™•ì¸ ë° ë¶„ì„<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#1%EB%8B%A8%EA%B3%84-eip-%EC%82%AC%EC%9A%A9%EB%9F%89-%ED%99%95%EC%9D%B8-%EB%B0%8F-%EB%B6%84%EC%84%9D" class="hash-link" aria-label="Direct link to 1ë‹¨ê³„: EIP ì‚¬ìš©ëŸ‰ í™•ì¸ ë° ë¶„ì„" title="Direct link to 1ë‹¨ê³„: EIP ì‚¬ìš©ëŸ‰ í™•ì¸ ë° ë¶„ì„">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># EIP ëª©ë¡ê³¼ ì—°ê²° ìƒíƒœ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2 --output table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ê° EIPê°€ ë¬´ì—‡ì— ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-network-interfaces --region ap-northeast-2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network-interface-ids eni-xxxx eni-yyyy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query 'NetworkInterfaces[*].{NetworkInterfaceId:NetworkInterfaceId,Description:Description,Status:Status}'</span><br></span></code></pre></div></div>
<p><strong>ê²°ê³¼ ë¶„ì„:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"NetworkInterfaceId"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"eni-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"Description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Interface for NAT Gateway nat-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"Status"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"in-use"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ... 5ê°œì˜ EIPê°€ ëª¨ë‘ NAT Gatewayì— ì—°ê²°ë¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2ë‹¨ê³„-terraform-ìƒíƒœ-í™•ì¸">2ë‹¨ê³„: Terraform ìƒíƒœ í™•ì¸<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#2%EB%8B%A8%EA%B3%84-terraform-%EC%83%81%ED%83%9C-%ED%99%95%EC%9D%B8" class="hash-link" aria-label="Direct link to 2ë‹¨ê³„: Terraform ìƒíƒœ í™•ì¸" title="Direct link to 2ë‹¨ê³„: Terraform ìƒíƒœ í™•ì¸">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í˜„ì¬ Terraformì—ì„œ ê´€ë¦¬í•˜ëŠ” EIP í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan | grep eip</span><br></span></code></pre></div></div>
<p><strong>ê²°ê³¼:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws_eip.nat["c"]: Refreshing state... [id=eipalloc-id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws_eip.nat["a"]: Refreshing state... [id=eipalloc-id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># aws_eip.nat["b"] will be created &lt;- ì´ ë¶€ë¶„ì´ ë¬¸ì œ!</span><br></span></code></pre></div></div>
<p><strong>ë°œê²¬í•œ ë¬¸ì œì :</strong></p>
<ul>
<li><code>nat["a"]</code>ì™€ <code>nat["c"]</code>ëŠ” ì´ë¯¸ Terraform ìƒíƒœì— ì¡´ì¬í•´ìš”.</li>
<li><code>nat["b"]</code>ë§Œ ìƒˆë¡œ ìƒì„±í•˜ë ¤ê³  í•´ì„œ EIP í•œë„ ì´ˆê³¼ ë°œìƒê°€ ë°œìƒí–ˆì–´ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3ë‹¨ê³„-eip-ë¬¸ì œ-í•´ê²°">3ë‹¨ê³„: EIP ë¬¸ì œ í•´ê²°<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#3%EB%8B%A8%EA%B3%84-eip-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0" class="hash-link" aria-label="Direct link to 3ë‹¨ê³„: EIP ë¬¸ì œ í•´ê²°" title="Direct link to 3ë‹¨ê³„: EIP ë¬¸ì œ í•´ê²°">â€‹</a></h3>
<p><strong>ë°©ë²• 1: ê¸°ì¡´ EIP ì¬ì‚¬ìš©</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ì‚¬ìš© ê°€ëŠ¥í•œ EIP í™•ì¸ (a, cê°€ ì•„ë‹Œ ê²ƒë“¤)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># íŠ¹ì • EIPê°€ ì–´ë–¤ NAT Gatewayì— ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-nat-gateways --region ap-northeast-2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query 'NatGateways[?NatGatewayAddresses[0].AllocationId==`eipalloc-id`].{NatGatewayId:NatGatewayId,State:State}'</span><br></span></code></pre></div></div>
<p><strong>ê²°ê³¼:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"NatGatewayId"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nat-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"State"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"deleted"</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ì´ë¯¸ ì‚­ì œë¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"NatGatewayId"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nat-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"State"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"available"</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ì‚¬ìš© ì¤‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>í•´ê²° ë‹¨ê³„:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. ì‚¬ìš© ì¤‘ì¸ NAT Gateway ì‚­ì œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 delete-nat-gateway --nat-gateway-id nat-id --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. ì‚­ì œ ì™„ë£Œ ëŒ€ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-nat-gateways --region ap-northeast-2 --nat-gateway-ids nat-id --query 'NatGateways[0].State'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. í•´ì œëœ EIPë¥¼ Terraformìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import 'aws_eip.nat["b"]' eipalloc-id</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4ë‹¨ê³„-ê¸°ì¡´-ë¦¬ì†ŒìŠ¤-import">4ë‹¨ê³„: ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ Import<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#4%EB%8B%A8%EA%B3%84-%EA%B8%B0%EC%A1%B4-%EB%A6%AC%EC%86%8C%EC%8A%A4-import" class="hash-link" aria-label="Direct link to 4ë‹¨ê³„: ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ Import" title="Direct link to 4ë‹¨ê³„: ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ Import">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># EKS í´ëŸ¬ìŠ¤í„° ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.eks.aws_eks_cluster.this[0] cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># KMS ë³„ì¹­ ê°€ì ¸ì˜¤ê¸° (ë”°ì˜´í‘œ ì£¼ì˜!)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import 'module.eks.module.kms.aws_kms_alias.this["cluster"]' alias/eks/cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># IAM ì—­í• ë“¤ ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.attach_efs_csi_role.aws_iam_role.this[0] efs-csi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.ebs_csi_irsa.aws_iam_role.this[0] cwave-ebs-csi-controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.lb_controller_role.aws_iam_role.this[0] eks-aws-lb-controller-role</span><br></span></code></pre></div></div>
<p><strong>Import ì‹œ ì£¼ì˜ì‚¬í•­:</strong></p>
<ul>
<li>ì¸ë±ìŠ¤ê°€ ìˆëŠ” ë¦¬ì†ŒìŠ¤ëŠ” ë”°ì˜´í‘œë¡œ ê°ì‹¸ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”.</li>
<li>ì •í™•í•œ ë¦¬ì†ŒìŠ¤ ì´ë¦„ê³¼ ID í™•ì¸ í•„ìˆ˜ì…ë‹ˆë‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5ë‹¨ê³„-terraform-ì ìš©">5ë‹¨ê³„: Terraform ì ìš©<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#5%EB%8B%A8%EA%B3%84-terraform-%EC%A0%81%EC%9A%A9" class="hash-link" aria-label="Direct link to 5ë‹¨ê³„: Terraform ì ìš©" title="Direct link to 5ë‹¨ê³„: Terraform ì ìš©">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ê³„íš í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë¬¸ì œì—†ìœ¼ë©´ ì ìš©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-kubectl-ì—°ê²°-ë¬¸ì œ-í•´ê²°">ğŸ”§ kubectl ì—°ê²° ë¬¸ì œ í•´ê²°<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#-kubectl-%EC%97%B0%EA%B2%B0-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0" class="hash-link" aria-label="Direct link to ğŸ”§ kubectl ì—°ê²° ë¬¸ì œ í•´ê²°" title="Direct link to ğŸ”§ kubectl ì—°ê²° ë¬¸ì œ í•´ê²°">â€‹</a></h2>
<p>ë°°í¬ ì™„ë£Œ í›„ kubectl ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ DNS ì˜¤ë¥˜ ë°œìƒ:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Error: dial tcp: lookup .gr7.ap-northeast-2.eks.amazonaws.com on 127.0.0.11:53: no such host</span><br></span></code></pre></div></div>
<p><strong>í•´ê²° ë°©ë²•:</strong></p>
<p>ì—…ë°ì´í„°ë¥¼ ìƒˆë¡œ í•´ì¤Œìœ¼ë¡œì¨ ê¸°ì¡´ contextë¥¼ switchë¥¼ ì§„í–‰í•´ì£¼ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># kubeconfig ì—…ë°ì´íŠ¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws eks update-kubeconfig --region ap-northeast-2 --name cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì—°ê²° í…ŒìŠ¤íŠ¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -A</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-êµí›ˆ-ë°-ì˜ˆë°©-ë°©ë²•">ğŸ“ êµí›ˆ ë° ì˜ˆë°© ë°©ë²•<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EA%B5%90%ED%9B%88-%EB%B0%8F-%EC%98%88%EB%B0%A9-%EB%B0%A9%EB%B2%95" class="hash-link" aria-label="Direct link to ğŸ“ êµí›ˆ ë° ì˜ˆë°© ë°©ë²•" title="Direct link to ğŸ“ êµí›ˆ ë° ì˜ˆë°© ë°©ë²•">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ê°œë°œ-í™˜ê²½-ê´€ë¦¬-ì›ì¹™">1. ê°œë°œ í™˜ê²½ ê´€ë¦¬ ì›ì¹™<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#1-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EA%B4%80%EB%A6%AC-%EC%9B%90%EC%B9%99" class="hash-link" aria-label="Direct link to 1. ê°œë°œ í™˜ê²½ ê´€ë¦¬ ì›ì¹™" title="Direct link to 1. ê°œë°œ í™˜ê²½ ê´€ë¦¬ ì›ì¹™">â€‹</a></h3>
<ul>
<li><strong>í™˜ê²½ë³„ í´ë” ë¶„ë¦¬ ì‹œ ëª…í™•í•œ ë„¤ì´ë° ì‚¬ìš©</strong></li>
<li><strong>í˜„ì¬ ì‘ì—… ì¤‘ì¸ í™˜ê²½ì„ í•­ìƒ í™•ì¸</strong></li>
<li><strong>í™˜ê²½ ì „í™˜ ì‹œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ í›„ ì§„í–‰</strong></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í™˜ê²½ í™•ì¸ ìŠµê´€í™”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pwd                    # í˜„ì¬ ì‘ì—… ë””ë ‰í„°ë¦¬ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace show  # Terraform ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws sts get-caller-identity  # í˜„ì¬ AWS ê³„ì •/ì—­í•  í™•ì¸</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ì•ˆì „í•œ-í™˜ê²½-ì „í™˜-ì ˆì°¨">2. ì•ˆì „í•œ í™˜ê²½ ì „í™˜ ì ˆì°¨<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#2-%EC%95%88%EC%A0%84%ED%95%9C-%ED%99%98%EA%B2%BD-%EC%A0%84%ED%99%98-%EC%A0%88%EC%B0%A8" class="hash-link" aria-label="Direct link to 2. ì•ˆì „í•œ í™˜ê²½ ì „í™˜ ì ˆì°¨" title="Direct link to 2. ì•ˆì „í•œ í™˜ê²½ ì „í™˜ ì ˆì°¨">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ê¸°ì¡´ í™˜ê²½ ì •ë¦¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform destroy -auto-approve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ìƒíƒœ íŒŒì¼ ë°±ì—…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp terraform.tfstate terraform.tfstate.backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ìƒˆ í™˜ê²½ìœ¼ë¡œ ì´ë™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ../aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë¦¬ì†ŒìŠ¤ í™•ì¸ í›„ ë°°í¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-ë¦¬ì†ŒìŠ¤-ì •ë¦¬-ì‹œ-ì£¼ì˜ì ">3. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì‹œ ì£¼ì˜ì <a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#3-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%A6%AC-%EC%8B%9C-%EC%A3%BC%EC%9D%98%EC%A0%90" class="hash-link" aria-label="Direct link to 3. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì‹œ ì£¼ì˜ì " title="Direct link to 3. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì‹œ ì£¼ì˜ì ">â€‹</a></h3>
<ul>
<li>EKS í´ëŸ¬ìŠ¤í„° ì‚­ì œ ì‹œ IAM ì—­í• , KMS ë³„ì¹­ ë“±ì€ ìˆ˜ë™ìœ¼ë¡œ ì‚­ì œí•´ì£¼ì–´ì•¼ í•´ìš”.</li>
<li>ë§Œì•½ ì‚­ì œí•´ì£¼ì–´ì•¼ í•˜ëŠ”ê²Œ ë§ë‹¤ë©´ Terraform importë¥¼ í™œìš©í•˜ì—¬ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-eip-ê´€ë¦¬">4. EIP ê´€ë¦¬<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#4-eip-%EA%B4%80%EB%A6%AC" class="hash-link" aria-label="Direct link to 4. EIP ê´€ë¦¬" title="Direct link to 4. EIP ê´€ë¦¬">â€‹</a></h3>
<ul>
<li>AWS ê³„ì •ì˜ EIP í•œë„ë¥¼ ë¯¸ë¦¬ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”.</li>
<li>ë¶ˆí•„ìš”í•œ EIPëŠ” ì •ê¸°ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  í•„ìš”ì‹œ AWS Supportë¥¼ í†µí•´ í•œë„ ì¦ê°€ ìš”ì²­í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-terraform-ìƒíƒœ-ê´€ë¦¬">5. Terraform ìƒíƒœ ê´€ë¦¬<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#5-terraform-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC" class="hash-link" aria-label="Direct link to 5. Terraform ìƒíƒœ ê´€ë¦¬" title="Direct link to 5. Terraform ìƒíƒœ ê´€ë¦¬">â€‹</a></h3>
<ul>
<li><code>terraform plan</code>ìœ¼ë¡œ ìƒì„±ë  ë¦¬ì†ŒìŠ¤ë¥¼ ë¯¸ë¦¬ í™•ì¸í•˜ëŠ” ìŠµê´€ì´ ì •ë§ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
<li>ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ì™€ì˜ ì¶©ëŒ ê°€ëŠ¥ì„± ê²€í†  ë° Importë¥¼ í™œìš©í•œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì¬ì‚¬ìš©ì„ ê³ ë ¤í•  ìˆ˜ ìˆì–´ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-ì•ˆì „í•œ-ë°°í¬-ì „ëµ">6. ì•ˆì „í•œ ë°°í¬ ì „ëµ<a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#6-%EC%95%88%EC%A0%84%ED%95%9C-%EB%B0%B0%ED%8F%AC-%EC%A0%84%EB%9E%B5" class="hash-link" aria-label="Direct link to 6. ì•ˆì „í•œ ë°°í¬ ì „ëµ" title="Direct link to 6. ì•ˆì „í•œ ë°°í¬ ì „ëµ">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan                    # ìƒì„±ë  ë¦¬ì†ŒìŠ¤ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses        # EIP ì‚¬ìš©ëŸ‰ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws iam list-roles               # ê¸°ì¡´ IAM ì—­í•  í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws kms list-aliases             # ê¸°ì¡´ KMS ë³„ì¹­ í™•ì¸</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ê²°ë¡ ">ğŸ¯ ê²°ë¡ <a href="https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EA%B2%B0%EB%A1%A0" class="hash-link" aria-label="Direct link to ğŸ¯ ê²°ë¡ " title="Direct link to ğŸ¯ ê²°ë¡ ">â€‹</a></h2>
<p>ì´ë²ˆ ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì€ <strong>ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ</strong>ì´ì—ˆìŠµë‹ˆë‹¤. localê³¼ aws í™˜ê²½ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ì§€ ì•Šê³  ê°œë°œí•˜ë‹¤ê°€, ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ìƒˆë¡œìš´ í™˜ê²½ì— ë°°í¬ë¥¼ ì‹œë„í•œ ê²ƒì´ ë¬¸ì œì˜ ì‹œì‘ì´ì—ˆìŠµë‹ˆë‹¤.</p>
<p>Terraformìœ¼ë¡œ AWS ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•  ë•ŒëŠ” ë‹¤ìŒ ì‚¬í•­ë“¤ì„ ë°˜ë“œì‹œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤:</p>
<ol>
<li><strong>í™˜ê²½ ë¶„ë¦¬ì™€ ëª…í™•í•œ ì‹ë³„</strong></li>
<li><strong>ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ì™€ì˜ ì¶©ëŒ ê°€ëŠ¥ì„±</strong></li>
<li><strong>Terraform Importë¥¼ í™œìš©í•œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì¬ì‚¬ìš©</strong></li>
</ol>
<p>íŠ¹íˆ EKSì™€ ê°™ì€ ë³µì¡í•œ ì„œë¹„ìŠ¤ëŠ” ì—¬ëŸ¬ AWS ì„œë¹„ìŠ¤ì™€ ì—°ë™ë˜ì–´ ìˆì–´, ì‚­ì œ ì‹œì—ë„ ì¼ë¶€ ë¦¬ì†ŒìŠ¤ê°€ ë‚¨ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ìƒí™©ì—ì„œëŠ” <strong>Terraform Import</strong>ë¥¼ í™œìš©í•˜ì—¬ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ì¸ í•´ê²°ì±…ì…ë‹ˆë‹¤.</p>
<hr>
<p><strong>ê´€ë ¨ ëª…ë ¹ì–´ ëª¨ìŒ:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í™˜ê²½ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace show</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws sts get-caller-identity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># EIP ê´€ë ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 release-address --allocation-id eipalloc-xxx --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Terraform Import</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import 'resource_address' resource_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform state list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># EKS ê´€ë ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws eks update-kubeconfig --region ap-northeast-2 --name cluster-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config current-context</span><br></span></code></pre></div></div>]]></content:encoded>
            <category>TIL</category>
            <category>Terraform</category>
        </item>
        <item>
            <title><![CDATA[Kubernetes Basic(3)]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title</guid>
            <pubDate>Thu, 17 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secret">Secret<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#secret" class="hash-link" aria-label="Direct link to Secret" title="Direct link to Secret">â€‹</a></h2>
<ul>
<li>ìƒì„±í•˜ëŠ” ë°©ë²•ì€ clië¡œ í•˜ê±°ë‚˜ .yml íŒŒì¼ì„ ì‘ì„±í•´ì„œ ë§Œë“œëŠ” ë°©ë²•ì´ ìˆì–´ìš”.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic my-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--from-literal=username=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--from-literal=password=1234</span><br></span></code></pre></div></div>
<p>clië¡œ ê°’ì„ í™•ì¸ì„ í•´ì£¼ë ¤ë©´, ì•„ë˜ cli ëª…ë ¹ì„ í†µí•´ì„œ ymlì„ ì¶œë ¥í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secret my-secret -o yaml</span><br></span></code></pre></div></div>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-17/img1.png">
<p>ì—¬ê¸°ì„œ ì¶œë ¥ë˜ëŠ” ë°ì´í„° ì—­ì‹œ base64ë¡œ ì¸ì½”ë”©ì´ ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ í™•ì¸í•´ì£¼ê¸° ìœ„í•´ì„œëŠ”
ë³µí˜¸í™”í•´ì£¼ì–´ì•¼ í•´ìš”.</p>
<p>yml íŒŒì¼ë¡œ ë„£ì–´ì¤„ë•ŒëŠ” base64 ì¸ì½”ë”©ëœ ê°’ì„ ë„£ì–´ì£¼ì–´ì•¼ í•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> YWRtaW4= </span><span class="token comment" style="color:#999988;font-style:italic"># admin (base64 ì¸ì½”ë”©)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MTIzNA== </span><span class="token comment" style="color:#999988;font-style:italic"># 1234 (base64 ì¸ì½”ë”©)</span><br></span></code></pre></div></div>
<p>ìœ„ì™€ ê°™ì´ ì„¤ì •ì„ í•˜ê³  ë‚œ ì´í›„ì— í™˜ê²½ë³€ìˆ˜ë¡œ ë„˜ê²¨ì¤„ ìˆ˜ë„ ìˆê³ , ë³¼ë¥¨ìœ¼ë¡œ ë„˜ê²¨ì¤„ ìˆ˜ë„ ìˆì–´ìš”.</p>
<p>í™˜ê²½ë³€ìˆ˜ë¡œ ë„˜ê²¨ ì¤„ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì´ keyê°’ì„ ì§€ì •í•´ì„œ ë„˜ê²¨ì£¼ì–´ì•¼ í•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mycontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> USERNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><br></span></code></pre></div></div>
<p>ë³¼ë¥¨ìœ¼ë¡œ ë„˜ê²¨ì£¼ëŠ” ê²ƒì€ ë”°ë¡œ keyë¥¼ ì„¤ì •í•´ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìƒì„±í•œ secretë¥¼ ì „ì²´ ë„˜ê²¨ì£¼ì–´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mycontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/etc/secret"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">readOnly</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">secret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="statefulset">StateFulSet<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#statefulset" class="hash-link" aria-label="Direct link to StateFulSet" title="Direct link to StateFulSet">â€‹</a></h2>
<ul>
<li>
<p>ìƒì„±ëœ Podë§ˆë‹¤ ë³„ë„ì˜ ë””ìŠ¤í¬ ê³µê°„ì„ ê°€ì ¸ì•¼í•˜ëŠ” ê²½ìš°ì— ì£¼ë¡œ ì‚¬ìš©í•´ìš”. ë¶„ì‚° ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° í˜¸ìŠ¤íŠ¸ëª…ê³¼ IP ë“±ì´ ë°”ë€Œë©´ ì•ˆë¼ìš”.</p>
</li>
<li>
<p>ReplicaSetì˜ ê²½ìš°ì—ëŠ” ìƒì„± ë° ì‚­ì œê°€ ë™ì‹œì— ì§„í–‰ë˜ëŠ” ë°˜ë©´ì—, StatefullSetì€ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰ë˜ì–´ì„œ ì‹œê°„ ì¡°ì ˆì´ ê°€ëŠ¥í•´ìš”.</p>
</li>
<li>
<p>Podë¥¼ ì‚­ì œí•˜ëŠ” ê²½ìš° ID ê°’ì´ ê°€ì¥ í° ê²ƒë¶€í„° ì‚­ì œê°€ ë¼ìš”. ì œì¼ ë§ˆì§€ë§‰ì— ìƒì„±ëœ Podê°€ ë¨¼ì € ì‚­ì œê°€ ë˜ê³  ë§ˆìŠ¤í„°ì˜ ê²½ìš°ì—ëŠ” ê°€ì¥ ë§ˆì§€ë§‰ì— ì‚­ì œê°€ ë¼ìš”.</p>
</li>
<li>
<p>ìŠ¤ì¼€ì¼ë¦¬ì—ì„œ Podê°€ ì‚­ì œê°€ ë˜ë©´ í•´ë‹¹ Podê°€ ë¬¼ê³  ìˆëŠ” PVCëŠ” Podì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆì–´ìš”. ë”°ë¼ì„œ Podë¥¼ ìƒì„±í•˜ë©´ ì´ì „ê³¼ ë™ì¼í•œ IDë¡œ ì¬ìƒì„±ì´ ë¼ìš”.</p>
</li>
</ul>
<p>â€¼ DeploymentëŠ” Elastic Block Storeë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ìš”. ë§Œì•½ Deploymentì— ë””ìŠ¤í¬ë¥¼ ë¶™íˆë¼ê³  í•œë‹¤ë©´ EFSë¥¼ ë¶™í˜€ì•¼ í•´ìš”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize--helm-ì°¨íŠ¸">Kustomize / Helm ì°¨íŠ¸<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#kustomize--helm-%EC%B0%A8%ED%8A%B8" class="hash-link" aria-label="Direct link to Kustomize / Helm ì°¨íŠ¸" title="Direct link to Kustomize / Helm ì°¨íŠ¸">â€‹</a></h2>
<p>2ê°œë¥¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ê±°ì˜ ê°™ì´ ì‚¬ìš©í•˜ì§€ ì•Šì•„ìš”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize">Kustomize<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#kustomize" class="hash-link" aria-label="Direct link to Kustomize" title="Direct link to Kustomize">â€‹</a></h3>
<ul>
<li>base + overlayë¥¼ ì¡°í•©í•˜ì—¬ í™˜ê²½ë³„ ë°°í¬ YAMLì„ kustomize build ëª…ë ¹ìœ¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kustomize/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ base/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ overlays/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ dev/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ kustomization.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ stage/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ prod/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ aws/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ gcp/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="helm-chart">Helm chart<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#helm-chart" class="hash-link" aria-label="Direct link to Helm chart" title="Direct link to Helm chart">â€‹</a></h3>
<ul>
<li>
<p>ì˜ˆë¥¼ ë“¤ì–´ì„œ MYSQL ê°œë°œìê°€ ymlì„ ì œê³µì„ í•˜ê³  ì†Œë¹„ìê°€ í™˜ê²½ë³€ìˆ˜ë‚˜ ì„¤ì • ë“±ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ :</p>
<ul>
<li>ê°œë°œìê°€ Helm ì°¨íŠ¸ë¥¼ í™œìš©í•˜ë©´ ë³€ê²½ ê°€ëŠ¥í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•´ì¤˜ìš”. ì´ë¥¼ í†µí•´ì„œ ì‚¬ìš©ìëŠ” í™˜ê²½ë³€ìˆ˜ë‚˜ ì„¤ì •ì„ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.</li>
</ul>
</li>
</ul>
<p><strong>ì„¤ì¹˜ ë°©ë²•</strong></p>
<p>ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ìˆœì„œëŒ€ë¡œ ì…ë ¥ì„ í•´ì£¼ë©´ helm chartë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 get_helm.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./get_helm.sh</span><br></span></code></pre></div></div>
<p>ì˜ ì„¤ì¹˜ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ mysqlë¥¼ ê²€ìƒ‰ì„ í•´ë³´ë©´ ì˜ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm show chart stable/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appVersion: 5.7.30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deprecated: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description: DEPRECATED - Fast, reliable, scalable, and easy to use open-source relational</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  database system.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">home: https://www.mysql.com/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">icon: https://www.mysql.com/common/logos/logo-mysql-170x115.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keywords:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name: mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- https://github.com/kubernetes/charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- https://github.com/docker-library/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: 1.6.9</span><br></span></code></pre></div></div>
<p><strong>helm chart ìƒì„±í•˜ê¸°</strong></p>
<p>í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ìƒì„±í•´ì£¼ì„¸ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm create &lt;ì´ë¦„&gt;</span><br></span></code></pre></div></div>
<p>templates í´ë”ì—ì„œ deployment.ymlì™€ service.ymlì„ ìƒì„±ì„ í•´ì¤˜ìš”. _helpers.tplì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ íŒŒì¼ë“¤ì€ ì‚­ì œë¥¼ ì§„í–‰í•´ì¤˜ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># deployment.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.replicas </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.environment </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.image </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.tag </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.port </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.environment </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># service.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.port </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span></code></pre></div></div>
<p>ê¸°ì¡´ì˜ values.yamlì„ ì „ì²´ ì‚­ì œë¥¼ í•´ì¤˜ìš”. ê·¸ëŸ°ë‹¤ìŒì— ì•„ë˜ë¥¼ ë„£ì–´ì¤˜ìš”. ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìëŠ” ì—¬ê¸°ì— ì§€ì •ëœ ë³€ìˆ˜ë§Œ ê±´ë“¤ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤˜ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre></div></div>
<p>ìœ„ì—ì„œ ì‘ì—…í•œ ê²ƒì„ ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ì¤˜ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm install nginxstd ./nginxstd</span><br></span></code></pre></div></div>
<p>íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•´ì£¼ê³  íŒŒì¼ì„ ì´ë™ì‹œì¼œì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  helm repository íŒŒì¼ì„ ìƒì„±í•´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm package ./nginxstd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv ./nginx-std-0.1.0.tgz ./prod/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë¦¬í¬ì§€í† ë¦¬ íŒŒì¼ ìƒì„± (index.yaml)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">heml repo index ./prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># íŒŒì¼ ìƒì„± í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ./prod/index.yaml</span><br></span></code></pre></div></div>
<p>ìœ„ ì‘ì—…ê¹Œì§€ ë‹¤ í–ˆë‹¤ë©´ Github Repositoryë¥¼ ë§Œë“¤ì–´ìš”. ê·¸ë¦¬ê³  Repositoryì— ìš°ë¦¬ê°€ ì‘ì—…í•œ ê²ƒì„ ì˜¬ë ¤ì¤˜ìš”. Githubì— ì •ìƒì ìœ¼ë¡œ ë“±ë¡ì´ ì™„ë£Œê°€ ë˜ì—ˆë‹¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ repositoryë¥¼ ì¶”ê°€ì‹œì¼œì¤ë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add helm-prod &lt;ìì‹  github ì£¼ì†Œì— ì˜¬ë¼ê°€ ìˆëŠ” helm Repository&gt;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì‹¤ìŠµ">ì‹¤ìŠµ<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="Direct link to ì‹¤ìŠµ" title="Direct link to ì‹¤ìŠµ">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mysql-db-secret-ìƒì„±-ë°-ì‚¬ìš©">MySQL DB Secret ìƒì„± ë° ì‚¬ìš©<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#mysql-db-secret-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%82%AC%EC%9A%A9" class="hash-link" aria-label="Direct link to MySQL DB Secret ìƒì„± ë° ì‚¬ìš©" title="Direct link to MySQL DB Secret ìƒì„± ë° ì‚¬ìš©">â€‹</a></h3>
<p>Secretë¥¼ ìƒì„±í•˜ëŠ”ë° ìš”êµ¬ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ì•„ìš”. í•´ë‹¹ ë‚´ìš©ì„ ë„£ê¸° ìœ„í•´ì„œëŠ” ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ base64ë¡œ ì¸ì½”ë”©ì„ ì§„í–‰í•´ì•¼í•´ìš”.</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_USER: user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_PASSWORD: pw1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_ROOT_PASSWORD: rootpw9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_DATABASE: mydb</span><br></span></code></pre></div></div>
<p>ì²« ë²ˆì§¸ë¡œ Secretë¥¼ ìƒì„±ì„ í•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dXNlcjE= </span><span class="token comment" style="color:#999988;font-style:italic">#user1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cHcxMjM0 </span><span class="token comment" style="color:#999988;font-style:italic">#pw1234</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cm9vdHB3OTg3Ng== </span><span class="token comment" style="color:#999988;font-style:italic">#rootpw9876</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bXlkYg== </span><span class="token comment" style="color:#999988;font-style:italic">#mydb</span><br></span></code></pre></div></div>
<p><code>kubectl apply -f ./íŒŒì¼ì´ë¦„</code> ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ì„ í•˜ë©´ ìƒì„±ì´ ë¼ìš”.</p>
<p>ìƒì„±ì„ í•´ì¤€ë‹¤ìŒì— í™˜ê²½ë³€ìˆ˜ ë°©ë²•ì„ ì‚¬ìš©í•´ì„œ Podë¥¼ ìƒì„±ì„ í•´ì¤„ê±°ì—ìš”. ì´ ë•Œ secretKeyRefì˜ ì´ë¦„ì„ ìƒì„±í•œ secretì˜ ì´ë¦„ìœ¼ë¡œ ì§€ì •ì„ í•´ì£¼ë©´ ë¼ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_USER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_USER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_DATABASE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_DATABASE</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="statefulset-1">StatefulSet<a href="https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#statefulset-1" class="hash-link" aria-label="Direct link to StatefulSet" title="Direct link to StatefulSet">â€‹</a></h3>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StatefulSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">serviceName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hyeonlim/nodejs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumeClaimTemplates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteOnce</span><br></span></code></pre></div></div>
<p>í•´ë‹¹ ì‘ì—…ì„ í†µí•´ì„œ ì•„ë˜ì™€ ê°™ì€ ë¦¬ìŠ¤ì†Œë¥¼ ê°€ì§€ëŠ” PVCë¥¼ ë§Œë“¤ì–´ì£¼ê³ , volumeClaimTemplatesë¥¼ í†µí•´ì„œ Pod ë§ˆë‹¤ ë…ë¦½ì ì¸ PVCë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteOnce</span><br></span></code></pre></div></div>
<p>ìœ„ ì‘ì—…ì´ ë§ˆë¬´ë¦¬ê°€ ë˜ê³  ë‚˜ë©´ load balancerë¥¼ ì„¤ì •í•˜ì—¬ íŠ¸ë˜í”½ì„ Pod ë³„ë¡œ ë¶„ì‚°ì„ ì§„í–‰í•´ì¤˜ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodesjs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-nlb-target-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> internet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">facing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sessionAffinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span></code></pre></div></div>
<p>âœ… ì¤‘ìš”í•œ ì </p>
<ul>
<li>
<p>StatefulSet Podë§ˆë‹¤ ë°ì´í„°ê°€ ë‹¤ë¥´ë©´, ë¡œë“œë°¸ëŸ°ì„œë¡œ ì ‘ê·¼í•œ ì‚¬ìš©ìë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë°›ê²Œ ë¼ìš”. ë”°ë¼ì„œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ</p>
<ul>
<li>
<p>Shared Storage (NFS, S3)ë¥¼ ì‚¬ìš©í•´ìš”.</p>
</li>
<li>
<p>ì‚¬ìš©ì ë§ˆë‹¤ Pod ì ‘ì†ì„ ê³ ì •ì„ ì‹œí‚¬ ìˆ˜ ìˆì–´ìš”. sticky sessionì´ë¼ê³  í•´ìš”. ì•„ë˜ì™€ ê°™ì€ ì˜ˆì‹œë¡œ ì„¤ì •ì„ í•´ì¤„ ìˆ˜ ìˆì–´ìš”.</p>
</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">sessionAffinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClientIP</span><br></span></code></pre></div></div>
</li>
</ul>]]></content:encoded>
            <category>TIL</category>
            <category>Kubernetes</category>
        </item>
        <item>
            <title><![CDATA[Kubernetes Basic(2)]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title</guid>
            <pubDate>Wed, 16 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="volume">volume<a href="https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#volume" class="hash-link" aria-label="Direct link to volume" title="Direct link to volume">â€‹</a></h2>
<ul>
<li>
<p><code>Persistent Volume Access Mode</code>ì˜ ëª¨ë¸ì€ ì•„ë˜ 4ê°œì˜ ëª¨ë“œê°€ ìˆì–´ìš”.</p>
<ul>
<li>ReadWriteOnce (RWO)</li>
<li>ReadOnlyMany (ROX) : ë¡œê·¸ë¥¼ ì£¼ë¡œ ì½ì„ ë•Œ ì‚¬ìš©í•´ìš”.</li>
<li>ReadWriteMany (RWX) : ë¶„ì‚°í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•´ìš”.</li>
<li>ReadWriteOncePOD (RWOP)</li>
</ul>
</li>
<li>
<p>ì»¨í…Œì´ë„ˆëŠ” ë³¼ë¥¨ì„ ë§ˆìš´íŠ¸ë¥¼ í•˜ë©´ POD ì•ˆì—ì„œëŠ” ê³µìœ ê°€ ê°€ëŠ¥í•´ì ¸ìš”. ë…¸ë“œ ì…ì¥ì—ì„œ ë³´ë©´ í•´ë‹¹ ë…¸ë“œì— ì†í•´ìˆëŠ” PODì— ëŒ€í•´ì„œëŠ” ê°™ì´ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”.</p>
</li>
<li>
<p>pv-w-pvc ì™€ pv-w-scì˜ ì°¨ì´ì ì„ ì•„ì‹œë‚˜ìš”?</p>
<ul>
<li>pv-w-pvcëŠ” AWSì˜ Elastic Blokc Store ì˜ ë””ìŠ¤í¬ ì¤‘ í•˜ë‚˜ë¥¼ ë³¼ë¥¨ìœ¼ë¡œ ì„¤ì •í•´ìš”. zoneì— í•´ë‹¹í•˜ëŠ” ë³¼ë¥¨ì„ ì„¤ì •í•˜ê³  í•´ë‹¹ ë³¼ë¥¨ì„ pvë¡œ í•´ì•¼ì§€ë§Œ k8sê°€ í•´ë‹¹ ë³¼ë¥¨ì„ ì¸ì‹ì„ í•´ìš”.
pvcë¥¼ ì„¤ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” storageClassNameì„ ë¹ˆë¬¸ìì—´ë¡œ ë‘ë©´ ë¼ìš”.<!-- -->
<ul>
<li>pvcëŠ” podì™€ ìƒê´€ì´ ì—†ì–´ìš”. podê°€ ì‚­ì œëœë‹¤ê³  í•´ì„œ pvcê°€ ì‚­ì œë˜ëŠ” ê²ƒì€ ì•„ë‹ˆì—ìš”.</li>
</ul>
</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">storageClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">""</span><br></span></code></pre></div></div>
<ul>
<li>pv-w-scëŠ” sc(awsì—ì„œëŠ” gp2ë¼ê³  í•´ìš”.)ë¥¼ ì„¤ì •ë§Œ í•´ë‘ë©´ pv-w-pvcì˜ ê³¼ì •ì„ ìë™ìœ¼ë¡œ ì„¤ì •í•´ìš”. ì´í›„ ê³¼ì •ì€ pvcì™€ ë™ì¼í•˜ê²Œ ì§„í–‰ì´ ë˜ìš”. ì´ë ‡ê²Œ ì§„í–‰ì„ ë””ìŠ¤í¬ë¥¼ ì‚­ì œí•˜ê³  ìƒì„±í•˜ëŠ” ì±…ì„ì´ ê°œë°œìë¡œ ì—­í• ì´ ë„˜ì–´ê°€ë©´ì„œ ê´€ë¦¬ìì˜ ê´€ë¦¬ ë¶€ë‹´ì´ ì¤„ì–´ë“¤ì–´ìš”.<!-- -->
<ul>
<li>gp2ë¥¼ defaultë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‘ì„±ì„ í•´ì¤˜ìš”.</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  kubectl patch storageclass gp2 -p '{"metadata": {"annotations":{"storageclass.kubernetes.io/is-default-class":"true"}}}'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ul>
<li>ë”°ë¼ì„œ pvcëŠ” ì •ì  í”„ë¡œë¹„ì €ë‹ì´ë¼ê³  í•˜ê³ , scëŠ” ë™ì  í”„ë¡œë¹„ì €ë‹ì´ë¼ê³  í•´ìš”.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cicd">CICD<a href="https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#cicd" class="hash-link" aria-label="Direct link to CICD" title="Direct link to CICD">â€‹</a></h2>
<ul>
<li>AWSì—ëŠ” code deploy(CI), commit, code pipe line(CD) ì´ë ‡ê²Œ 3ê°€ì§€ì˜ ì„œë¹„ìŠ¤ê°€ ìˆì–´ìš”.<!-- -->
<ul>
<li>commitì€ ê³§ ì—†ì–´ì§ˆ ì˜ˆì •ì´ì—ìš”.</li>
<li>code deployë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì‚°ì¶œëœ ê²°ê³¼ë¬¼(ì••ì¶• íŒŒì¼)ì„ S3ì— ì €ì¥ì„ í•´ì•¼í•´ìš”. - app.spec.yml íŒŒì¼ì´ ìˆì–´ì•¼ í•´ì—¬.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ci-continuous-integration">CI: continuous Integration<a href="https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#ci-continuous-integration" class="hash-link" aria-label="Direct link to CI: continuous Integration" title="Direct link to CI: continuous Integration">â€‹</a></h3>
<p>CIì˜ ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ì•„ìš”.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ë¹Œë“œ -&gt; í…ŒìŠ¤íŠ¸(í…ŒìŠ¤íŠ¸ì˜ ì¢…ë¥˜ì—ëŠ” ìœ ë‹› í…ŒìŠ¤íŠ¸, e2e í…ŒìŠ¤íŠ¸, ë¶€í•˜ í…ŒìŠ¤íŠ¸ê°€ ìˆì–´ìš”) -&gt; ì·¨ì•½ì  ê²€ì‚¬ (ì½”ë“œ ì •ì  ë¶„ì„) -&gt; ì½”ë“œ ë¦¬ë·° | ì½”ë“œ ì»¨ë°´ì…˜</span><br></span></code></pre></div></div>
<ul>
<li>ì˜ˆì „ì—ëŠ” ìµœì¢…ì‚°ì¶œë¬¼ì´ Artifactì´ ë‚˜ì™”ì–´ìš”. ArtifactëŠ” .jar ì´ëŸ°ê²Œ ìˆì–´ìš”.</li>
<li>ìš”ì¦˜ì—ëŠ” ìµœì¢…ì‚°ì¶œë¬¼ì´ container imageê°€ ë‚˜ì™€ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cd-continuous-delivery-deployment">CD: continuous Delivery, Deployment<a href="https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#cd-continuous-delivery-deployment" class="hash-link" aria-label="Direct link to CD: continuous Delivery, Deployment" title="Direct link to CD: continuous Delivery, Deployment">â€‹</a></h3>
<ul>
<li>
<p>DeliveryëŠ” ë§ˆì§€ë§‰ ë°°í¬ëŠ” ì‚¬ë¦¼ì´ ì§ì ‘ ì§„í–‰ì„ í•´ìš”. í•˜ì§€ë§Œ DeploymentëŠ” ë°°í¬í•˜ëŠ” ì „ê³¼ì •ì´ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìš”.</p>
</li>
<li>
<p>ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” CI,CD íˆ´ì€ github action, gitlab runner, Jenkins, CircleCI pipe, bitbucket pipeline ë“±ì´ í™œìš©ì´ ë¼ìš”.</p>
<ul>
<li>github action : ë§ì´ ì‚¬ìš©ë˜ëŠ” ì´ìœ ëŠ” ì ‘ê·¼í•˜ê¸° ì‰½ê¸° ë•Œë¬¸ì´ì—ìš”. ì½”ë“œê°€ ê³µê°œê°€ ë˜ì–´ìˆì–´ ë³´ì•ˆìƒ ë¬¸ì œê°€ ìˆì„ ê±° ê°™ì§€ë§Œ ë§¤ì¼ fetchê°€ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— ë³´ì•ˆìƒ ì•ˆì „í•´ìš”.</li>
<li>gitlab runner : ì„¤ì¹˜í•´ì„œ ì‚¬ìš©ì„ í•´ìš”. (ê³µê³µê¸°ê´€ ê°™ì€ë°ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•´ìš”.)</li>
<li>Circle CI : ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì—ì„œ ë§ì´ ì‚¬ìš©í•´ìš”.</li>
<li>Jenkins: ìŠ¤í¬ë¦½íŠ¸í˜•ìœ¼ë¡œ ì‘ì„±ë˜ê¸° ë•Œë¬¸ì— ëª…ë ¹í˜•ì´ì—ìš”.</li>
</ul>
</li>
<li>
<p>CDë§Œ ì „ë¬¸ì ìœ¼ë¡œ í•˜ëŠ” ë„êµ¬ë“¤ì´ ìˆëŠ”ë° ë‚˜ì˜¨ ì´ìœ ëŠ” ì»¨í…Œì´ë„ˆê°€ ë‚˜ì˜¤ë©´ì„œ ë°°í¬ ì „ëµì´ ë‹¤ì–‘í•˜ê²Œ ìƒê²¼ê¸° ë•Œë¬¸ì´ì—ìš”.</p>
<ul>
<li>ArgoCD (ì œì¼ ë¹ ë¥´ë‹¤ëŠ” ì  ë•Œë¬¸ì— ì œì¼ ë§ì´ ì‚¬ìš©í•´ìš”.)</li>
<li>FluxCD</li>
<li>Spinnake (ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì´ ì í•©í•´ìš”.)</li>
<li>JenkinsX</li>
</ul>
</li>
</ul>
<hr>
<h1>ì‹¤ìŠµ</h1>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ëœë¤ìœ¼ë¡œ-ëª…ì–¸ì„-ë³´ì—¬ì£¼ëŠ”-ê°„ë‹¨í•œ-ì„œë¹„ìŠ¤empty-dir">ëœë¤ìœ¼ë¡œ ëª…ì–¸ì„ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ì„œë¹„ìŠ¤(empty dir)<a href="https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#%EB%9E%9C%EB%8D%A4%EC%9C%BC%EB%A1%9C-%EB%AA%85%EC%96%B8%EC%9D%84-%EB%B3%B4%EC%97%AC%EC%A3%BC%EB%8A%94-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%84%9C%EB%B9%84%EC%8A%A4empty-dir" class="hash-link" aria-label="Direct link to ëœë¤ìœ¼ë¡œ ëª…ì–¸ì„ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ì„œë¹„ìŠ¤(empty dir)" title="Direct link to ëœë¤ìœ¼ë¡œ ëª…ì–¸ì„ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ì„œë¹„ìŠ¤(empty dir)">â€‹</a></h3>
<p>ì†ë„ê°€ ëŠë¦¬ë‹¤ê³  í•œë‹¤ë©´ ì´ê²ƒì„ ì‚¬ìš©í•´ì„œ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ìš”.
medium: Memoryë¥¼ ì„¤ì •ì„ í•˜ë©´ OSì˜ ë©”ëª¨ë¦¬ ê¸°ë°˜ íŒŒì¼ì‹œìŠ¤í…œì„ ì‚¬ìš©í•´ìš”. ë”°ë¼ì„œ ë””ìŠ¤í¬ë³´ë‹¤ ë” ë¹ ë¥¸ I/O ì„±ëŠ¥ì„ ì œê³µí•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cache</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">emptyDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">medium</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sizeLimit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 64Mi</span><br></span></code></pre></div></div>
<p>í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ ê²½ìš° contextëŠ” awsë¡œ ì„¤ì •ì´ ë˜ì–´ìˆì–´ìš”.</p>
<p>ì™œ í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” emptyDirì´ ì ì ˆí• ê¹Œìš”?</p>
<ul>
<li>ëª…ì–¸ ë°ì´í„°ë“¤ì€ íœ˜ë°œì„±/ì„ì‹œ ì½˜í…ì¸ ì´ë¯€ë¡œ, Podê°€ ì¬ì‹œì‘ë˜ë©´ ìƒˆë¡œ ìƒì„±ë˜ì–´ë„ ë¬´ë°©í•´ìš”.</li>
<li>html-generatorê°€ ìƒì„±í•˜ê³ , nginxê°€ ì½ì–´ì•¼í•˜ë¯€ë¡œ ê³µìœ  ìŠ¤í† ë¦¬ì§€ê°€ í•„ìš”í•´ìš”. ê·¸ëŸ°ë° ì™¸ë¶€ ìŠ¤í† ë¦¬ì§€ ì—°ë™ì´ ë¶ˆí•„ìš”í•˜ê¸° ë•Œë¬¸ì´ê¸°ë„ í•´ìš”.</li>
<li>ì†ë„ ì—­ì‹œ ë¹ ë¥´ë‹¤ëŠ” ì¥ì ì´ ìˆì–´ìš”.</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ì•¼í•´ìš”.</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">generator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/htdocs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /usr/share/nginx/html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">readOnly</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">emptyDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># fortune-lb.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># annotationsì„ ì„¤ì • í•´ì£¼ì§€ ì•Šìœ¼ë©´ awsì—ì„œëŠ” ì™¸ë¶€ì— ì ‘ì†ì„ í—ˆìš©í•˜ì§€ ì•Šì•„ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># VPC ì™¸ë¶€ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë„ë¡ í•´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ë…¸ë“œê°€ ì•„ë‹ˆë¼ POD IPë¡œ ì§ì ‘ ì „ë‹¬í•´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-nlb-target-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ê³µì¸ IPë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> internet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">facing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-arg-vs-yaml-env-vs-configmap-env-ë¹„êµ-ì‹¤ìŠµ">Docker ARG vs Yaml ENV vs CONFIGMAP ENV ë¹„êµ ì‹¤ìŠµ<a href="https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#docker-arg-vs-yaml-env-vs-configmap-env-%EB%B9%84%EA%B5%90-%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="Direct link to Docker ARG vs Yaml ENV vs CONFIGMAP ENV ë¹„êµ ì‹¤ìŠµ" title="Direct link to Docker ARG vs Yaml ENV vs CONFIGMAP ENV ë¹„êµ ì‹¤ìŠµ">â€‹</a></h3>
<p>Docker ARGì˜ ê²½ìš°ì—ëŠ” argsë¥¼ ì„¤ì •í•˜ì—¬ ë„˜ê²¨ì¤„ ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - image: hyeonlim/fortune:args</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args: ["5"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: html-generator</span><br></span></code></pre></div></div>
<p>ymlì„ í†µí•´ì„œë„ argsë¥¼ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆì–´ìš”. ì„¤ì •ì€ yml íŒŒì¼ì— ì•„ë˜ì™€ ê°™ì´ ì„¤ì •ì„ í•´ì£¼ë©´ ë¼ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ì»¨í…Œì´ë„ˆì˜ ë§¤ê°œë³€ìˆ˜ê°€ ì•„ë‹ˆë¼ í™˜ê²½ë³€ìˆ˜ë¡œ ë“¤ì–´ê°€ìš”. ë”°ë¼ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì „ë‹¬ì„ í•  ìˆ˜ ìˆì–´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> INTERVAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"30"</span><br></span></code></pre></div></div>
<p>CONFIGMAPì„ ìƒì„±ì„ í•´ì¤„ ìˆ˜ ìˆì–´ìš”. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸ë„ ê°€ëŠ¥í•´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create configmap fortune-config --from-literal=sleep-interval=7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get cm fortune-config</span><br></span></code></pre></div></div>
<p>ì•„ë˜ ì‚¬ì§„ì˜ clië¥¼ ì…ë ¥í•˜ê²Œ ë˜ë©´ ì‚¬ì§„ê³¼ ê°™ì´ ê°’ì´ ë“¤ì–´ê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-16/img1.png">
<ul>
<li>Kubernetes Podì—ì„œ ConfigMapì˜ ê°’ì„ í™˜ê²½ ë³€ìˆ˜ë¡œ ì£¼ì…í•  ë•Œ ì‚¬ìš©í•˜ì§€ë§Œ ëª©ì ê³¼ ë²”ìœ„ê°€ ë‹¬ë¼ìš”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-16/img2.png">
<ul>
<li>í•´ë‹¹ ì‚¬ì§„ì—ì„œëŠ” íŠ¹ì • Keyë§Œ í™˜ê²½ ë³€ìˆ˜ë¡œ ì£¼ì…ì´ ë˜ê³  ê°œë³„ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì´ í•„ìš”í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•´ìš”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-16/img3.png">
<ul>
<li>í•´ë‹¹ ì‚¬ì§„ì€ ConfigMapì˜ ëª¨ë“  Keyë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ìë™ ì£¼ì…í•´ìš”. ëª¨ë“  ì„¤ì •ì„ í•œêº¼ë²ˆì— ì£¼ì…í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•´ìš”.</li>
</ul>]]></content:encoded>
            <category>TIL</category>
            <category>Kubernetes</category>
        </item>
        <item>
            <title><![CDATA[ê°œë°œí•˜ê¸° ì „ ì•„ì´ë””ì–´ íšŒì˜ ì´ë ‡ê²Œ í•´ë³´ì.]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title</guid>
            <pubDate>Wed, 16 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<p>cloudwaveì—ì„œ ì§„í–‰í–ˆë˜ idea íšŒì˜ì™€ ê´€ë ¨ëœ íšŒê³ ì—ìš”. ì•ìœ¼ë¡œ ë„ì›€ì´ ë  ê±° ê°™ì•„ì„œ ê¸°ë¡ í•´ë‘ì–´ìš”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì£¼ì œ">ì£¼ì œ<a href="https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title#%EC%A3%BC%EC%A0%9C" class="hash-link" aria-label="Direct link to ì£¼ì œ" title="Direct link to ì£¼ì œ">â€‹</a></h2>
<p><code>ëŒ€í•™ìƒì„ ìœ„í•œ ì™„ë²½í•œ ì•„ì¹¨ ë£¨í‹´ì— ëŒ€í•œ ê³ ë¯¼</code> ì´ì—ìš”. ì´ ë•Œ ìˆ˜ë©´ì„ ì‹œê°„ì„ ì˜ ì§€í‚¤ê³  ì¶”ê°€ì ìœ¼ë¡œ ê±´ê°•í•œ ë£¨í‹´ì„ ë§Œë“œëŠ” ê²ƒì´ ëª©í‘œì¸ ê²ƒì„ ìŠì§€ ë§ì•„ì•¼ í•´ìš”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="process">process<a href="https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title#process" class="hash-link" aria-label="Direct link to process" title="Direct link to process">â€‹</a></h2>
<ol>
<li>
<p><code>07ì‹œ ê¸°ìƒ</code>, <code>09ì‹œ ìë¦¬ ì°©ì„</code> í•´ë‹¹ 2ê°œì˜ ì‹œì‘ì ê³¼ ëì ì€ ê³ ì •ì„ í•œ ìƒíƒœì—ì„œ í†µí•™ ì‹œê°„ì´ 1ì‹œê°„ì„ì„ ê³ ë ¤í•´ì„œ ê°ìì˜ ì•„ì¹¨ ë£¨í‹´ì„ ë§Œë“¤ì–´ìš”.
ex. ê¸°ìƒ -&gt; ì‹ì‚¬ -&gt; ì˜·ì„ ì…ëŠ”ë‹¤ -&gt; ì§‘ì„ ë‚˜ê°„ë‹¤ -&gt; ì§€í•˜ì² ì„ íƒ„ë‹¤ -&gt; .. -&gt; ìë¦¬ì— ì°©ì„í•œë‹¤.</p>
<p>ì´ë ‡ê²Œ ê°ìë§Œì˜ ë£¨í‹´ì„ ë§Œë“¤ì—ˆì–´ìš”.</p>
</li>
<li>
<p>ê°ì ë§Œë“  ë£¨í‹´ë“¤ì„ íŒ€ì›ë“¤ì—ê²Œ ì„¤ëª…ì„ í•´ìš”. ì´ë•Œ íŒ€ì›ë“¤ì€ ëª¨ë“  ì§ˆë¬¸ì— ëŒ€í•´ì„œ ì˜ë¬¸ì„ ê°€ì§€ê³  í•˜ë‚˜í•˜ë‚˜ ë¬¼ì–´ë³´ëŠ” ì‘ì—…ì„ ì§„í–‰ì„ í•´ìš”.</p>
</li>
<li>
<p>ê·¸ë¦¬ê³  ë§Œë“  ë£¨í‹´ ì¤‘ ì œì¼ ê´œì°®ë‹¤ ì•„ë‹ˆë©´ í•´ë³´ê³  ì‹¶ë‹¤ í•˜ëŠ” ì‚¬ëŒì´ ì†ì„ ë“¤ì–´ìš”. í•´ë‹¹ ì†ì„ ë“  ì‚¬ëŒì€ ì´ì œ Product Ownerê°€ ë¼ìš”.</p>
</li>
<li>
<p>ê°ì ë§Œë“  ë£¨í‹´ë“¤ì„ ëª¨ë‘ í•©ì³ìš”. ë™ì¼í•œ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ì„œëŠ” í•˜ë‚˜ì˜ ë¬¸ì œë¡œ ì²˜ë¦¬ë¥¼ í•˜ê³ , ë¶„ì•¼ê°€ ë‹¤ë¥´ë©´ ë¬´ì¡°ê±´ ë¶„ë¦¬ ì‹œí‚¤ëŠ”ê²Œ ì¤‘ìš”í•´ìš”.</p>
</li>
<li>
<p>4ë²ˆì—ì„œ ë§Œë“  ê²°ê³¼ë¬¼ì„ ë°”íƒ•ìœ¼ë¡œ íˆ¬í‘œë¥¼ ì§„í–‰ì„ í•´ìš”. ë¨¼ì € POê°€ ì•„ë‹Œ ì‚¬ëŒë“¤ì´ xê°œì˜ íˆ¬í‘œê¶Œì„ ê°€ì§€ê³  ê¼­ ìˆì–´ì•¼ í•˜ëŠ” ê²ƒë“¤ì— ëŒ€í•´ì„œ íˆ¬í‘œë¥¼ ì§„í–‰í•´ìš”. ê·¸ë¦¬ê³  POëŠ” íˆ¬í‘œê¶Œì˜ ìˆ˜ì™€ ê´€ê³„ ì—†ì´ íˆ¬í‘œë¥¼ í•˜ëŠ”ë° ì´ ë•Œ POê°€ ì„ íƒí•œ ê²ƒì€ ë¬´ì¡°ê±´ ì±„íƒì´ ë˜ê¸° ë•Œë¬¸ì— POì˜ ì„ íƒìœ¼ë¡œ ì œí’ˆì˜ ë°©í–¥ì„±ì´ ë°”ë€” ìˆ˜ë„ ìˆì–´ìš”.</p>
</li>
<li>
<p>íˆ¬í‘œë¥¼ í•œ ê²ƒì„ ë°”íƒ•ìœ¼ë¡œ 4ë²ˆì— ë§Œë“  íë¦„ ë°‘ì— ê²€ì€ ì¤„ì„ í•˜ë‚˜ ë§Œë“¤ê³ , í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì¶œë°œ ì‹œê°„ì„ 07ì‹œ 30ë¶„ì— ì¶œë°œí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³€ê²½ì„ í–ˆì„ ë•Œ, 5ë²ˆì˜ ê²°ê³¼ì—ì„œ ê¼­ í•„ìš” ì—†ëŠ” ê²ƒë“¤ì„ ì•„ë˜ ì¹¸ìœ¼ë¡œ ë‚´ë ¤ìš”. ì´ ë•Œ POì˜ ì„ íƒì€ ì ˆëŒ€ ë‚´ë¦¬ì§€ ì•Šì•„ìš”.</p>
</li>
<li>
<p>6ë²ˆì˜ ê²°ê³¼ë¬¼ ë°‘ì— ê²€ì€ ì¤„ì„ í•˜ë‚˜ ë˜ ë§Œë“¤ê³ , ê·¸ ë‹¤ìŒì— í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¶œ ì‹œê°„ì´ 07ì‹œ 50ë¶„ì´ë¼ê³  í–ˆì„ ë•Œ ê¼­ í•„ìš”í•œ ê²ƒë“¤ë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ëŠ” ë‚´ë¦¬ëŠ” ì‘ì—…ì„ ì§„í–‰ì„ í•´ìš”.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ìš°ë¦¬ê°€-í–ˆë˜-ê²ƒì—-ëŒ€í•œ-ê²°ê³¼ë¬¼">ìš°ë¦¬ê°€ í–ˆë˜ ê²ƒì— ëŒ€í•œ ê²°ê³¼ë¬¼<a href="https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title#%EC%9A%B0%EB%A6%AC%EA%B0%80-%ED%96%88%EB%8D%98-%EA%B2%83%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B2%B0%EA%B3%BC%EB%AC%BC" class="hash-link" aria-label="Direct link to ìš°ë¦¬ê°€ í–ˆë˜ ê²ƒì— ëŒ€í•œ ê²°ê³¼ë¬¼" title="Direct link to ìš°ë¦¬ê°€ í–ˆë˜ ê²ƒì— ëŒ€í•œ ê²°ê³¼ë¬¼">â€‹</a></h2>
<ul>
<li>
<p>ê·¸ëŸ¬ë©´ ì´ 3ê°œì˜ ì˜ì—­ì´ ë‚˜ì˜¤ê²Œ ë˜ëŠ”ë° ì´ ë•Œ 07ì‹œ 50ë¶„ì¼ ë•Œ ê¼­ í•˜ëŠ” ê²ƒì´ MVPê°€ ë˜ê³  ì´ëŠ” fixê°€ ë¼ìš”. ê·¸ë¦¬ê³  ì•„ë¦¬ 07ì‹œ 30ë¶„ì— ì§„í–‰í•˜ëŠ” ê²ƒì´ release 1 ë˜ê³  ê·¸ ì´í›„ëŠ” release 2ê°€ ë¼ìš”.</p>
</li>
<li>
<p>ìš°ë¦¬ëŠ” í•´ë‹¹ ê³¼ì •ì„ í•´ì˜¤ë©´ì„œ ê¸°ëŠ¥ì„ ì‹œê°„ ìˆœìœ¼ë¡œ í‘œì‹œë¥¼ í–ˆì–´ìš”. ì™œëƒí•˜ë©´ ì™„ë£Œ ì‹œê°„ì€ ê³ ì •ì´ ë˜ì–´ìˆê¸° ë•Œë¬¸ì´ì—ìš”. ë˜í•œ ë°œì‚°í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ê³ , ë™ì¼í•œ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ì„œ ì˜ê²¬ì„ í•©ì¹˜ë©´ì„œ ìˆ˜ë ´í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ì–´ìš”.</p>
</li>
<li>
<p>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ ê° releaseëŠ” 1ê°œì˜ ê¸°ëŠ¥ì„ í•´ì•¼í•´ìš”. ì¦‰ ìë™ì°¨ë¥¼ ë§Œë“œëŠ” MVPê°€ ìˆì—ˆë‹¤ê³  í•œë‹¤ë©´. ë‹¤ìŒ releaseëŠ” ë°”í€´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì˜¤í† ë°”ì´ë‚˜ í˜¹ì€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ í•˜ëŠ” ê²ƒì´ ë§Œë“¤ì–´ì ¸ì•¼ í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”.</p>
</li>
<li>
<p>ë˜í•œ ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” ì•„ì§ ì•ˆì •í•œê²Œ ìˆëŠ”ë° ë°”ë¡œ í˜ë¥´ì†Œë‚˜ì—ìš”. ëŒ€í•™ìƒì„ íƒ€ê²Ÿìœ¼ë¡œ í–ˆëŠ”ë° ì–´ë–¤ ëŒ€í•™ìƒì„ íƒ€ê²Ÿìœ¼ë¡œ í–ˆëŠ”ì§€ ê¸°ì¤€ì´ ì—†ì–´ìš”. í˜ë¥´ì†Œë‚˜ê°€ ì—†ë‹¤ë©´ ì œí’ˆì´ ì–´ë– í•œ ë°©í–¥ìœ¼ë¡œ ë‚˜ì•„ê°€ëŠ”ì§€ì— ëŒ€í•´ì„œ ë¶ˆëª…í™•í•´ì§€ê³  í”„ë¡œì íŠ¸ê°€ ì›í•˜ëŠ” ë°©í–¥ì„±ìœ¼ë¡œ í˜ëŸ¬ê°€ì§€ ëª»í•  ìˆ˜ ìˆì–´ìš”.</p>
</li>
</ul>]]></content:encoded>
            <category>TIL</category>
            <category>Etc</category>
        </item>
        <item>
            <title><![CDATA[kubernetes Basic (1)]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title</guid>
            <pubDate>Tue, 15 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#deployment" class="hash-link" aria-label="Direct link to Deployment" title="Direct link to Deployment">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-recreate-ì¬ê°€ë™-ë°©ì‹-v1--v2">1. RECREATE (ì¬ê°€ë™ ë°©ì‹: v1 â†’ v2)<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#1-recreate-%EC%9E%AC%EA%B0%80%EB%8F%99-%EB%B0%A9%EC%8B%9D-v1--v2" class="hash-link" aria-label="Direct link to 1. RECREATE (ì¬ê°€ë™ ë°©ì‹: v1 â†’ v2)" title="Direct link to 1. RECREATE (ì¬ê°€ë™ ë°©ì‹: v1 â†’ v2)">â€‹</a></h3>
<p>íŠ¹ì§•: ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ë°œìƒ</p>
<p>ì¥ì : ì„¤ì •ì´ ì‰¬ì›€</p>
<p>ë¹„ê³ : í˜„ì—…ì—ì„œ ê°€ì¥ í”íˆ ì‚¬ìš©ë˜ë©°, ì„œë¹„ìŠ¤ ì¤‘ë‹¨ì„ ê°ìˆ˜í•´ì•¼ í•˜ëŠ” ë°©ì‹</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ramped-rolling-update">2. RAMPED (Rolling Update)<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#2-ramped-rolling-update" class="hash-link" aria-label="Direct link to 2. RAMPED (Rolling Update)" title="Direct link to 2. RAMPED (Rolling Update)">â€‹</a></h3>
<p>íŠ¹ì§•: ìˆœì°¨ì ìœ¼ë¡œ ì—°ê²° ì‹œë„ â†’ ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤ ì œê³µ</p>
<p>ì„¤ì • ë°©ë²•:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RollingUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">maxSurge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ì˜ˆ) 1 â†’ replicas + maxSurge ë§Œí¼ pod ìƒì„± ê°€ëŠ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">maxUnavailable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ì˜ˆ) 1 â†’ replicas ì¤‘ ë™ì‹œì— ì¤‘ë‹¨ ê°€ëŠ¥í•œ pod ìˆ˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â‡’ ìœ„ 2ê°œì˜ ì˜µì…˜ì„ í†µí•´ì„œ ì¬ê°€ë™ ì†ë„ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŒ</span><br></span></code></pre></div></div>
<p>ì¶”ê°€ ì„¤ì •<!-- -->:Sticky<!-- --> session: ë²„ì „ ê°„ ì´ë™ ë°©ì§€</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-blue--green-ë°°í¬">3. Blue / Green ë°°í¬<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#3-blue--green-%EB%B0%B0%ED%8F%AC" class="hash-link" aria-label="Direct link to 3. Blue / Green ë°°í¬" title="Direct link to 3. Blue / Green ë°°í¬">â€‹</a></h3>
<p>íŠ¹ì§•: selectorì˜ ë²„ì „ ë³€ê²½ìœ¼ë¡œ ì „ì²´ êµì²´</p>
<p>ì‚¬ìš© ëª©ì :ê°œë°œ ë²„ì „ì„ ìš´ì˜ì— ë°”ë¡œ ë°˜ì˜í•´ì•¼ í•˜ëŠ” ìƒí™©</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-canary-ë°°í¬">4. Canary ë°°í¬<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#4-canary-%EB%B0%B0%ED%8F%AC" class="hash-link" aria-label="Direct link to 4. Canary ë°°í¬" title="Direct link to 4. Canary ë°°í¬">â€‹</a></h3>
<p>íŠ¹ì§•: rampedì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ì¼ë¶€ íŠ¸ë˜í”½ìœ¼ë¡œ ë¨¼ì € ì•ˆì •ì„± ê²€ì¦ í›„ ì „ì²´ ì´ì „</p>
<p>ì„¤ì •: replicas: 9(v1), 1(v2) ì„¤ì •, RouteRuleì˜ route â†’ weight ì„¤ì •ìœ¼ë¡œ ì†ì‰½ê²Œ ì„¤ì • ê°€ëŠ¥</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-ab-í…ŒìŠ¤íŠ¸">5. A/B í…ŒìŠ¤íŠ¸<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#5-ab-%ED%85%8C%EC%8A%A4%ED%8A%B8" class="hash-link" aria-label="Direct link to 5. A/B í…ŒìŠ¤íŠ¸" title="Direct link to 5. A/B í…ŒìŠ¤íŠ¸">â€‹</a></h3>
<p>íŠ¹ì§• : header, cookie ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ê·¸ë£¹ ë¶„ë¦¬</p>
<p>ì‚¬ìš© ëª©ì : UIë‚˜ ê¸°ëŠ¥ ê°œì„ ì˜ íš¨ê³¼ë¥¼ í™•ì¸í•˜ê³ ì í•  ë•Œ (ìƒˆë¡œìš´ UIê°€ êµ¬ë§¤ìœ¨ì„ ë†’ì´ëŠ”ì§€ í™•ì¸)</p>
<p>ì„¤ì •: matchì— header ì¡°ê±´ ì¶”ê°€</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-shadow-íŠ¸ë˜í”½-ë¯¸ëŸ¬ë§">6. Shadow íŠ¸ë˜í”½ (ë¯¸ëŸ¬ë§)<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#6-shadow-%ED%8A%B8%EB%9E%98%ED%94%BD-%EB%AF%B8%EB%9F%AC%EB%A7%81" class="hash-link" aria-label="Direct link to 6. Shadow íŠ¸ë˜í”½ (ë¯¸ëŸ¬ë§)" title="Direct link to 6. Shadow íŠ¸ë˜í”½ (ë¯¸ëŸ¬ë§)">â€‹</a></h3>
<p>ì‚¬ìš© ëª©ì : ê¸°ì¡´ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ (ì˜ˆì‹œ : Monolith â†’ Microservice êµ¬ì¡° ì „í™˜ ì‹œ ìœ ìš©)</p>
<p>ì„¤ì •: mirror ì„¤ì •ìœ¼ë¡œ ì‹¤ì œ ìš”ì²­ì„ ë³µì œí•˜ì—¬ í…ŒìŠ¤íŠ¸ í™˜ê²½ìœ¼ë¡œ ì „ë‹¬</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#service" class="hash-link" aria-label="Direct link to Service" title="Direct link to Service">â€‹</a></h2>
<p>ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì„œë¹„ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ì´ë‹¤. (ë¬¼ë¦¬ì ì¸ ê²ƒì´ ì•„ë‹ˆë‹¤.)</p>
<p>(ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ podê°€ ì£½ê³  ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™í•˜ë©´ IPê°€ ë³€ë™ì´ë˜ëŠ”ë°, ì¿ ë²„ë„¤í‹°ìŠ¤ ì•ˆì—ëŠ” ê·œì¹™ ê¸°ë°˜ì˜ DNS ì„œë²„ìŠ¤ê°€ ìˆë‹¤.)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-ip">cluster IP<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#cluster-ip" class="hash-link" aria-label="Direct link to cluster IP" title="Direct link to cluster IP">â€‹</a></h3>
<p>ë””í´íŠ¸ ì„œë¹„ìŠ¤, layer4 =&gt; ë‚´ë¶€ì—ë§Œ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-port">Node Port<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#node-port" class="hash-link" aria-label="Direct link to Node Port" title="Direct link to Node Port">â€‹</a></h3>
<p>íŠ¸ë˜í”½ì´ ì˜¤ë©´ ë…¸ë“œì˜ íŠ¹ì • í¬íŠ¸ì— ë„ì°©í•˜ê³ , í´ëŸ¬ìŠ¤í„° IPë¡œ ê°€ê³  ì´ë¥¼ ë¶„ê¸° ì‹œí‚¨ë‹¤.</p>
<ul>
<li>ê°œë°œìë“¤ì´ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ê³  ì›¬ë§Œí•˜ë©´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
<li>ë…¸ë“œë¥¼ ë§Œë“œëŠ” ì´ìœ ëŠ”?<!-- -->
<ul>
<li>íŠ¸ë˜í”½ì´ ëª°ë¦¬ëŠ” ê²ƒì„ ë°˜ì‘í•˜ê¸° ìœ„í•¨ì´ë‹¤.</li>
<li>ì–´ë–¤ ë…¸ë“œì— ê·œì¹™ì„ ì ìš©í•´ì„œ ì‘ì—…í•˜ê¸° ìœ„í•¨ì´ë‹¤.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="load-balancer">Load Balancer<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#load-balancer" class="hash-link" aria-label="Direct link to Load Balancer" title="Direct link to Load Balancer">â€‹</a></h3>
<p>íŠ¸ë˜í”½ì´ ë“¤ì–´ì˜¤ë©´ ë‚˜ë†ˆ. cluster ipì™€ ë‹¤ë¥¸ ì ì€ cluster ipëŠ” ë‚´ë¶€ì— ìˆê³  ë¡œë“œë°¸ëŸ°ì„œëŠ” ì™¸ë¶€ì— ìœ„ì¹˜í•´ìˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingress">Ingress<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#ingress" class="hash-link" aria-label="Direct link to Ingress" title="Direct link to Ingress">â€‹</a></h3>
<p>ì™¸ë¶€ì— ìœ„ì¹˜ì— ìˆìŒ. ë¡œë“œ ë°¸ëŸ°ì„œì™€ì˜ ì°¨ì´ì ì€ ë¡œë“œ ë°¸ëŸ°ì„œëŠ” layer4ì´ê³  IngressëŠ” layer7ì´ë‹¤. (layer1~layer7ê¹Œì§€ í™•ì¸ì„ í•´ë³¼ ìˆ˜ ìˆë‹¤.)</p>
<p>ì‚¬ìš©ìê°€ xxx.xxx.xxx.comì´ ì ‘ì†ì„ í•˜ë©´
igwë¥¼ í†µí•´ ingress(í¼ë¸”ë¦­ ë„ë©”ì¸ì´ ìë™ í™œë™, ALB, NLB)ì— ë“¤ì–´ì˜¤ê³  k8s ì„œë¹„ìŠ¤ì— ì ‘ì†ì´ ëœë‹¤. ì²« ë²ˆì§¸ ê»ë°ê¸°ëŠ” replicaset ë‘ ë²ˆì§¸ ê»ë°ê¸°ëŠ” deployment
ingressë§Œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë‚´ë¶€ ì„œë¹„ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í†µì‹ ì´ ëœë‹¤.</p>
<p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì•ˆì— LB controllerê°€ ingressë¥¼ ìƒì„±í•˜ê³ , ìƒíƒœë¥¼ ê°ì‹œí•œë‹¤. ê·¸ë¦¬ê³  ì‚­ì œë„ í•´ì¤€ë‹¤.</p>
<ul>
<li>ingressë¥¼ ì‚­ì œí•˜ê³  í…Œë¼í¼ì„ ì‚­ì œí•˜ëŠ” ê²ƒì´ ë” ë¹ ë¥´ë‹¤. ingressëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ì´ê¸° ë•Œë¬¸ì´ë‹¤.</li>
</ul>
<p>âœ… <strong>ì™œ ELB IPê°€ 3ê°œ ë‚˜ì˜¤ëŠ”ê°€?</strong></p>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-15/img1.png" alt="ì„¤ëª…" width="600">
<p>AWSì—ì„œ Network Load Balancer(NLB)ëŠ” <strong>ì„œë¸Œë„·ì´ ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê°€ìš©ì˜ì—­(AZ)</strong> ì— <strong>ìë™ìœ¼ë¡œ
IPë¥¼ í• ë‹¹</strong>í•©ë‹ˆë‹¤. ì´ëŠ” ê³ ê°€ìš©ì„±(High Availability)ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ë™ì‘ì´ë‹¤.</p>
<ol>
<li>ì„œìš¸ ë¦¬ì „(<code>ap-northeast-2</code>)ì—ì„œ VPC ìƒì„±</li>
</ol>
<ul>
<li>ì•„ë˜ì™€ ê°™ì´ <strong>3ê°œì˜ í”„ë¼ì´ë¹— ì„œë¸Œë„· ìƒì„±</strong>:</li>
</ul>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">variable "private_subnet_cidrs" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = map(string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a = "10.1.4.0/24"  // ap-northeast-2a (8ì¸µ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b = "10.1.5.0/24"  // ap-northeast-2b (9ì¸µ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c = "10.1.6.0/24"  // ap-northeast-2c (10ì¸µ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<ol start="2">
<li>EKS í´ëŸ¬ìŠ¤í„° ìƒì„±</li>
</ol>
<p><img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-15/img2.png" alt="ì„¤ëª…" width="600">-</p>
<p>EKSí´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ë©´ ë…¸ë“œ ê·¸ë£¹ì„ êµ¬ì„± - ë…¸ë“œëŠ” 2ê°œì—ë§Œ ë°°ì¹˜ê°€ ëœë‹¤.</p>
<ol start="3">
<li>Ingress ìƒì„±</li>
</ol>
<ul>
<li>Ingress ë¦¬ì†Œì„œë¥¼ ìƒì„±ì„ í•˜ë©´ AWSì—ì„œ NLB ìë™ ìƒì„±</li>
<li>NLBëŠ” ì—°ê²°ëœ ì„œë¸Œë„·ì— ìˆëŠ” ëª¨ë“  AZì— IPë¥¼ í• ë‹¹</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="headless-service">Headless service<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#headless-service" class="hash-link" aria-label="Direct link to Headless service" title="Direct link to Headless service">â€‹</a></h3>
<p>ì•„ë˜ì™€ ê°™ì´ ì„¤ì •ì„ í•˜ë©´ headless serviceê°€ ëœë‹¤.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">clusterIP</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span></code></pre></div></div>
<p>Headlessë¥¼ í•˜ë©´ podë¡œ ê°€ëŠ”ê²Œ ì•„ë‹ˆë¼ podì˜ backendì˜ IPì£¼ì†Œë¥¼ ì¤€ë‹¤.</p>
<p>ì–´ë””ì— ì“°ëŠ”ì§€? ì™œ ì“°ëŠ”ì§€?
ë¶„ì‚°í˜• ë°ì´í„° ì €ì¥ ì„œë¹„ìŠ¤(DB, Messeage Queue, InMemory DB)</p>
<ol>
<li>í´ë¼ì´ì–¸íŠ¸ ì—°ê²°</li>
<li>ëª‡ ê°œê°€ ì‚´ì•„ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ</li>
<li><strong>íŠ¹ì • ë…¸ë“œì˜ ë°ì´í„°ë¥¼ í™•ì¸í•´ì•¼í•  ë•Œ -&gt; ì´ê²Œ í•µì‹¬</strong></li>
</ol>
<p>ë¶„ì‚°í˜• ë°ì´í„°ë² ì´ìŠ¤ (Cassandra, Mongo, Redis)ì— ì €ì¥ì´ ë  ë•Œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” Hash Algorithmì„ ì“´ë‹¤. ì´ ë•Œ ë…¸ë“œì— ì €ì¥ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ë…¸ë“œì˜ ì •ë³´ë¥¼ ì•Œì•¼ì•„í•˜ëŠ”ë° ì–´ë¥¼ ë•Œ ë…¸ë“œì˜ ì •ë³´ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´ì„œ Headlessë¥¼ ì´ìš©í•œë‹¤.</p>
<ul>
<li>Hash Algorithmì„ ì‚¬ìš©í•  ë•Œ Nodeì˜ ê°¯ìˆ˜ê°€ ì•½ 10 ì´ìƒì˜ ì†Œìˆ˜ì¸ ê²½ìš°ì— evení•˜ê²Œ ê°’ì´ ë¶„ì‚°ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="volume">volume<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#volume" class="hash-link" aria-label="Direct link to volume" title="Direct link to volume">â€‹</a></h3>
<p>docker image layerì— hash ê°’ì´ ìˆëŠ” ì´ìœ ëŠ” ?</p>
<p>ê°€ìƒ ë¨¸ì‹ ì˜ ë””ìŠ¤í¬ë¥¼ ì“°ê²Œ ëœë‹¤ë©´, í•˜ë‚˜ë§Œ ìˆ˜ì •í•´ë„ ì „ì²´ê°€ ë³€ê²½ì´ ëœë‹¤. ì´ ë•Œ docker ì˜ layerë¥¼ ìƒê°ì„ í•˜ë©´ ìºì‹œë¥¼ í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. ë”°ë¼ì„œ ë³€ê²½ì´ ë˜ë©´ í•´ì‹œ ê°’ì´ ë°”ë€œìœ¼ë¡œ ì¸í•´ì„œ ë³€ê²½ ì‚¬í•­ì„ íŒŒì•… ê°€ëŠ¥í•˜ë‹¤.</p>
<p>ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œëœë‹¤ë©´? ë‹¤ ì‚¬ë¼ì§.
-&gt; ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ì–´ë„ ë°ì´í„°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì™¸ë¶€ ë””ìŠ¤í¬ ë³¼ë¥¨ì„ ë§ˆìš´íŠ¸ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<ul>
<li>
<p>EmptyDir: Podê°€ ì¢…ë£Œë˜ë©´ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. (ì¦‰ Podì™€ ë™ì¼í•œ LifeCycleì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.) --&gt; ê·¸ëŸ°ë° ì™œ ì“¸ê¹Œìš”? ëŒ€ê·œëª¨ ê¸°ë°˜ ì •ë ¬ ì‘ì—…, Pod ë‚´ì˜ ì»¨í…Œì´ë„ˆ ê°„ íŒŒì¼ êµí™˜ì„ í•˜ê¸° ìœ„í•¨ì´ì—ìš”.</p>
</li>
<li>
<p>HostPath: podê°€ ì¢…ë£Œë˜ì–´ë„ ìƒíƒœê°€ ìœ ì§€ê°€ ë©ë‹ˆë‹¤. ë‹¤ë§Œ PodëŠ” í•­ìƒ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™ ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë‚  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>persistent volume(PV)</p>
<ul>
<li>block disk (ë…¸íŠ¸ë¶ c drive) : ë™ì‹œì— ì½ì„ ìˆ˜ëŠ” ìˆì§€ë§Œ, ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. | ìˆœì„œê°€ ì œì¼ ë¹ ë¦…ë‹ˆë‹¤.</li>
<li>network file disk(systme) = NFS : ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ì ‘ê·¼í•˜ì—¬ ë™ì‹œì— ì“¸ ìˆ˜ ìˆê³ , ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. | 2ìˆœìœ„</li>
<li>object dist (aws S3) : 3ìˆœìœ„ =&gt; ëŒ€ê·œëª¨ ì‘ì—…ì€ ì—¬ê¸°ì„œ ì§„í–‰ì„ í•©ë‹ˆë‹¤. ì™œ ê·¸ëŸ´ê¹Œìš”? Append only, íŒŒì¼ì„ ì—´ì–´ì„œ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. =&gt; ì™œ ê·¸ëŸ´ê¹Œìš”? ë¶„ì‚° ì‘ì—…ì— ìœ ë¦¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (ì—°ì‚° ì¤‘ì— ë³€ê²½ì„ í•˜ë©´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•´ì•¼í•˜ëŠ”ë°, ì´ëŸ° ì‘ì—…ì„ ì• ì´ˆì— ë‹«ì•„ë²„ë¦½ë‹ˆë‹¤.)</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì‹¤ìŠµ">ì‹¤ìŠµ<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="Direct link to ì‹¤ìŠµ" title="Direct link to ì‹¤ìŠµ">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-httpd-ë°°í¬--ì´ë¯¸ì§€-ì—…ë°ì´íŠ¸--ë¡¤ë°±--ì‚­ì œ">1. HTTPD ë°°í¬ â†’ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ â†’ ë¡¤ë°± â†’ ì‚­ì œ<a href="https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#1-httpd-%EB%B0%B0%ED%8F%AC--%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8--%EB%A1%A4%EB%B0%B1--%EC%82%AD%EC%A0%9C" class="hash-link" aria-label="Direct link to 1. HTTPD ë°°í¬ â†’ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ â†’ ë¡¤ë°± â†’ ì‚­ì œ" title="Direct link to 1. HTTPD ë°°í¬ â†’ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ â†’ ë¡¤ë°± â†’ ì‚­ì œ">â€‹</a></h3>
<p>ì•„ë˜ íŒŒì¼ í†µí•´ì„œ httpdë¥¼ ì„¤ì¹˜í•œë‹¤.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2.4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre></div></div>
<p><strong>1. Deployment</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./deploy-practice.yml</span><br></span></code></pre></div></div>
<ul>
<li>httpd-deployment ë¼ëŠ” ì´ë¦„ì˜ deploymentê°€ ìƒì„±ì´ ëœë‹¤.</li>
<li>PODëŠ” ê¸°ë³¸ ì„¤ì •ì— ë”°ë¼ì„œ ì ìš©ì´ ëœë‹¤.</li>
</ul>
<p><strong>2. ë³€ê²½ ì‚¬ìœ (Revision 1) ì£¼ì„(Annotation) ì¶”ê°€</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause="first"</span><br></span></code></pre></div></div>
<ul>
<li>ê¸°ë¡ì— "first"ë¼ëŠ” ì„¤ëª…ì„ ì¶”ê°€í•œë‹¤.</li>
<li>rollout history ì— Revision 1ë¡œ ê¸°ë¡ì´ ëœë‹¤.</li>
</ul>
<p><strong>3. ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ ë° ë³€ê²½ ì‚¬ìœ  ë“±ë¡ (Revision 2)</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl set image deploy httpd-deployment httpd=httpd:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause="update latest"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ul>
<li>httpd ì»¨í„°ì´ë„ˆì˜ ì´ë¯¸ì§€ê°€ httpd<!-- -->:latest<!-- -->ë¡œ ì—…ë°ì´íŠ¸ê°€ ëœë‹¤.</li>
<li>update latest ë¡œ ì£¼ì„ ì¶”ê°€ê°€ ëœë‹¤.</li>
</ul>
<p><strong>4. ë¡¤ì•„ì›ƒ ìƒíƒœ í™•ì¸ ë° íŒŒë“œ í™•ì¸</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl rollout status deploy httpd-deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -l app=httpd</span><br></span></code></pre></div></div>
<ul>
<li>íŒŒë“œê°€ ì •ìƒì ìœ¼ë¡œ ë°°í¬ê°€ ëœë‹¤.</li>
</ul>
<p><strong>5. Scale out</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl scale deploy httpd-deployment --replicas=5</span><br></span></code></pre></div></div>
<ul>
<li>ë ˆí”Œë¦¬ì¹´ ìˆ˜ê°€ 5ê°œë¡œ ì¦ê°€ê°€ ëœë‹¤. ê¸°ì¡´ì—ì„œ 2ê°œ ì¶”ê°€ê°€ ëœë‹¤.</li>
</ul>
<p><strong>6. Rollback</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl rollout undo deploy httpd-deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause="rollback"</span><br></span></code></pre></div></div>
<ul>
<li>ì´ì „ ë¹„ì „ìœ¼ë¡œ ë¡¤ë°±ì´ ì§„í–‰ì´ ëœë‹¤.</li>
<li>ë¡¤ë°± ì‚¬ìœ ëŠ” rollbackìœ¼ë¡œ ê¸°ë¡</li>
</ul>]]></content:encoded>
            <category>TIL</category>
            <category>Kubernetes</category>
        </item>
        <item>
            <title><![CDATA[Docker Basic(1)]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title</guid>
            <pubDate>Mon, 14 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<p>cloudwave 6ê¸° ìˆ˜ì—…ì—ì„œ ë“¤ì€ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</p>
<blockquote>
<p><a href="https://docs.docker.com/manuals/" target="_blank" rel="noopener noreferrer">Docker DOCS</a></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerë¥¼-ì‚¬ìš©í•˜ëŠ”-ì´ìœ ">Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ <a href="https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title#docker%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0" class="hash-link" aria-label="Direct link to Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ " title="Direct link to Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ">â€‹</a></h3>
<p>ë„ì»¤ë¥¼ í™œìš©í•˜ëŠ” ì´ìœ ëŠ” í¬ê²Œ ë³´ë©´ ì„œë¹„ìŠ¤ì˜ ì¶”ìƒí™”ì…ë‹ˆë‹¤. HOST í™˜ê²½ê³¼ ì„œë¹„ìŠ¤ë¥¼ ê²©ë¦¬ ì‹œí‚´ìœ¼ë¡œì„œ</p>
<ol>
<li>
<p>ì„œë¹„ìŠ¤ë¥¼ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>ê²©ìì˜ ì—­í• ë¡œ ì´ë“¤ì„ ì¡°ë¦½í•˜ì—¬ ìƒˆë¡œìš´ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</li>
</ol>
<p>ì´ì™€ ê°™ì€ ì´ì ì´ ìˆì–´ ë„ì»¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile">Dockerfile<a href="https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title#dockerfile" class="hash-link" aria-label="Direct link to Dockerfile" title="Direct link to Dockerfile">â€‹</a></h3>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># BASE_IMAGEì— @ë¥¼ í™œìš©í•œ tagë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ latestë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># FROMì€ ê¸°ë³¸ì ìœ¼ë¡œ í•œ ë²ˆë§Œ ì‚¬ìš©ì´ ë˜ëŠ”ë° 2ë²ˆ ì´ìƒ ì‚¬ìš©ì— ëŒ€í•´ì„œëŠ” ì•„ë˜ì—ì„œ ì„¤ëª…ì„ í•˜ê² ìŠµë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM BASE_IMAGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì»¨í…Œì´ë„ˆ ë‚´ì˜ working directoryë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR &lt;ê²½ë¡œ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># í¬íŠ¸ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œì„ í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE &lt;í¬íŠ¸ë²ˆí˜¸&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ADDì˜ ê²½ìš°ì—ëŠ” githubê³¼ ê°™ì€ RemotePathê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë„£ê³ ì í•˜ëŠ” íŒŒì¼: ìƒëŒ€ ê²½ë¡œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì»¨í…Œì´ë„ˆ ë‚´ ê²½ë¡œ : ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADD &lt;ë„£ê³ ìí•˜ëŠ” íŒŒì¼ì˜ ê²½ë¡œ&gt; &lt;ì»¨í…Œì´ë„ˆ ë‚´ ê²½ë¡œ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY &lt;ë„£ê³ ìí•˜ëŠ” íŒŒì¼ì˜ ê²½ë¡œ&gt; &lt;ì»¨í…Œì´ë„ˆ ë‚´ ê²½ë¡œ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ê³¼ì •ì— ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN &lt;ëª…ë ¹ì–´&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CMD ê°™ì€ ê²½ìš°ì—ëŠ” docker runì‹œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ENTRYPOINTëŠ” ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD &lt;ëª…ë ¹ì–´ ì •ì˜&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT &lt;í•„ìˆ˜ ì‹¤í–‰ ëª…ë ¹ì–´&gt;</span><br></span></code></pre></div></div>
<ul>
<li>
<p>ì´ë¯¸ì§€ì—ì„œëŠ” tagì™€ digestë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. tagì˜ ê²½ìš°ì—ëŠ” ì‹œì ì— ë”°ë¼ì„œ ì´ë¯¸ì§€ê°€ ìƒì´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ digestëŠ” ì™„ì „íˆ ê³ ì •ì´ ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>í†µìš©ë˜ì§„ ì•Šì§€ë§Œ <strong>ARGì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì œì™¸</strong>í•œë‹¤ë©´ í•œì¤„ì˜ ë„ì»¤ íŒŒì¼ ëª…ë ¹ì–´ í•œ ì¤„ë§ˆë‹¤ ë ˆì´ì–´ê°€ ë˜ë©°, ë ˆì´ì–´ë“œë¥´ì¸ ê¸°ë³¸ì ìœ¼ë¡œ Read Only ìƒíƒœë¥¼ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.</p>
<blockquote>
<p>ARG ê°’ì„ Application ë‚´ë¶€ì—ì„œ ì‚¬ìš©ì„ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— êµ³ì´ Layerë¡œ ë§Œë“¤ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
</blockquote>
</li>
<li>
<p>ë ˆì´ì–´ì˜ ìµœìƒë‹¨ì—ëŠ” <strong>container layer</strong>ê°€ ì¡´ì¬í•˜ëŠ”ë° í•´ë‹¹ ë ˆì´ì–´ëŠ” Read Write ìƒíƒœë¥¼ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆê°€ ì‚­ì œê°€ ëœë‹¤ë©´ container layer ì—­ì‹œ ì‚­ì œê°€ ë©ë‹ˆë‹¤.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile-ì´ë¯¸ì§€-ìƒì„±">Dockerfile ì´ë¯¸ì§€ ìƒì„±<a href="https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title#dockerfile-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1" class="hash-link" aria-label="Direct link to Dockerfile ì´ë¯¸ì§€ ìƒì„±" title="Direct link to Dockerfile ì´ë¯¸ì§€ ìƒì„±">â€‹</a></h3>
<blockquote>
<p>docker build ì‹œì— -f ë¡œ Dockerfileì„ ì§€ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡  Dockerfileì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
</blockquote>
<p>Dockerfileì˜ ëª©ì ì€ ì´ë¯¸ì§€ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-stage">Multi Stage<a href="https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title#multi-stage" class="hash-link" aria-label="Direct link to Multi Stage" title="Direct link to Multi Stage">â€‹</a></h3>
<p>ì•„ë˜ ì˜ˆì‹œëŠ” golangì„ imageë¥¼ í™œìš©í•˜ì—¬ Go applicationì„ ì»´íŒŒì¼ì„ ì§„í–‰í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ìœ„ì˜ ê²°ê³¼ë¬¼ì„ Scratch ì´ë¯¸ì§€ë¡œ ê°€ì ¸ì™€ Scratchë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM golang:1.19-alpine as build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY src ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN CGO_ENABLED=0 go build -o main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM scratch as release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --from=build /app/main /app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD ["/app/main"]</span><br></span></code></pre></div></div>
<p>ì²« ë²ˆì§¸ë¡œ ì‚¬ìš©ëœ FROMì€ ì„ì‹œë¡œ ì“°ì´ê³  ë²„ë ¤ì§‘ë‹ˆë‹¤. --fromì„ í™œìš©í•´ì„œ ì²« ë²ˆì§¸ FROMì˜ ê²°ê³¼ë¬¼ì„ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ì‹¤í–‰ì„ í•˜ê²Œë˜ë©´ alpineë³´ë‹¤ scratch ì´ë¯¸ì§€ì˜ í¬ê¸°ê°€ ì‘ë‹¤ëŠ” ì´ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p>
<p>Production í™˜ê²½ì—ì„œëŠ” ë³´ì•ˆì„± ì¦ëŒ€ ë° ì´ë¯¸ì§€ ê²½ëŸ‰í™”ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ì´ ìˆìŠµë‹ˆë‹¤.</p>]]></content:encoded>
            <category>TIL</category>
            <category>Docker</category>
        </item>
        <item>
            <title><![CDATA[Docker Basic(2)]]></title>
            <link>https://indianapoly.github.io/en/blog/2025/07/10/docker/docker-basic-2-title</link>
            <guid>https://indianapoly.github.io/en/blog/2025/07/10/docker/docker-basic-2-title</guid>
            <pubDate>Thu, 10 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<p>cloudwave 6ê¸° ìˆ˜ì—…ì—ì„œ ë“¤ì€ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-network">Docker Network<a href="https://indianapoly.github.io/en/blog/2025/07/10/docker/docker-basic-2-title#docker-network" class="hash-link" aria-label="Direct link to Docker Network" title="Direct link to Docker Network">â€‹</a></h3>
<p>ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” Data ì†¡ìˆ˜ì‹  ë° ì ‘ê·¼ ì œì–´ë¥¼ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker network create [OPTIONS] NETWORK</span><br></span></code></pre></div></div>
<p>ì£¼ìš” ì˜µì…˜ì—ëŠ” --driver(-d), --labelì´ ìˆìŠµë‹ˆë‹¤.</p>
<p>--driverì˜ ì¢…ë¥˜</p>
<ul>
<li>bridge : ë™ì¼í•œ host ì»´í“¨í„° ë‚´ì—ì„œ ì»¨í…Œì´ë„ˆë¼ë¦¬ í†µì‹ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ì„ í•©ë‹ˆë‹¤</li>
<li>host : ì»¨í…Œì´ë„ˆê°€ hostì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. (ì¸ìŠ¤í„´ìŠ¤ ë³„ë¡œ í•œê°œë§Œ ìƒì„±)</li>
<li>none</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker network connect [OPTIONS] NETWORK CONTAINER</span><br></span></code></pre></div></div>
<p>ì£¼ìš” ì˜µì…˜ì—ëŠ” --alias, --ipê°€ ìˆìŠµë‹ˆë‹¤.
--aliasëŠ” ë„¤íŠ¸ì›Œí¬ aliasë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¼ì¢…ì˜ ì¶”ìƒí™”ì…ë‹ˆë‹¤.</p>
<p>ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ì œê±°í•˜ê¸° ìœ„í•´ì„œëŠ” <code>disconnect</code>ë¥¼ ì“°ê³ , ì‚­ì œë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” <code>rm</code>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ëª¨ë“  ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´ì„œëŠ” <code>prune</code>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="buildx">buildx<a href="https://indianapoly.github.io/en/blog/2025/07/10/docker/docker-basic-2-title#buildx" class="hash-link" aria-label="Direct link to buildx" title="Direct link to buildx">â€‹</a></h3>
<p>ë™ì¼í•œ ê¸°ëŠ¥ì— ë‹¤ë¥¸ ì•„í‚¤í…ì²˜ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<p><strong>Multi-platformìš© builder ìƒì„±</strong></p>
<p>í”Œë«í¼ ì˜µì…˜ì„ í†µí•´ì„œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆëŠ” ë¹Œë”ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker buildx create --driver docker-container --name multi-builder --platform linux/amd64,linux/arm64</span><br></span></code></pre></div></div>
<p><strong>ì´ë¯¸ì§€ ë¹Œë“œí•˜ê¸°</strong></p>
<p>í”Œë«í¼ ì˜µì…˜ì„ í™œìš©í•˜ì—¬ ê° ì•„í‚¤í…ì²˜ì— ë§ëŠ” ì´ë¯¸ì§€ë¥¼ ì œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker buildx build --platform linux/amd64,linux/arm64 -t &lt;ì´ë¦„íƒœê·¸ ì„¤ì •&gt; .</span><br></span></code></pre></div></div>]]></content:encoded>
            <category>TIL</category>
            <category>Docker</category>
        </item>
    </channel>
</rss>