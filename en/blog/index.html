<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Blog | KO HYEON LIM</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://indianapoly.github.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://indianapoly.github.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://indianapoly.github.io/en/blog"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | KO HYEON LIM"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://indianapoly.github.io/en/blog"><link data-rh="true" rel="alternate" href="https://indianapoly.github.io/blog" hreflang="ko"><link data-rh="true" rel="alternate" href="https://indianapoly.github.io/en/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://indianapoly.github.io/blog" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://indianapoly.github.io/en/blog","mainEntityOfPage":"https://indianapoly.github.io/en/blog","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title","mainEntityOfPage":"https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title","url":"https://indianapoly.github.io/en/blog/2025/07/19/terraform/terraform-errorHandling-title","headline":"Terraformìœ¼ë¡œ EKS ë°°í¬ ì‹œ ë°œìƒí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ì¶©ëŒ í•´ê²° ê°€ì´ë“œ","name":"Terraformìœ¼ë¡œ EKS ë°°í¬ ì‹œ ë°œìƒí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ì¶©ëŒ í•´ê²° ê°€ì´ë“œ","description":"ğŸš¨ ë¬¸ì œ ìƒí™©","datePublished":"2025-07-19T00:00:00.000Z","author":{"@type":"Person","name":"ê³ í˜„ë¦¼","description":"í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","image":"https://ifh.cc/g/GagTYM.jpg"},"keywords":[]},{"@type":"BlogPosting","@id":"https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title","mainEntityOfPage":"https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title","url":"https://indianapoly.github.io/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title","headline":"Kubernetes Basic(3)","name":"Kubernetes Basic(3)","description":"Secret","datePublished":"2025-07-17T00:00:00.000Z","author":{"@type":"Person","name":"ê³ í˜„ë¦¼","description":"í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","image":"https://ifh.cc/g/GagTYM.jpg"},"keywords":[]},{"@type":"BlogPosting","@id":"https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title","mainEntityOfPage":"https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title","url":"https://indianapoly.github.io/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title","headline":"Kubernetes Basic(2)","name":"Kubernetes Basic(2)","description":"volume","datePublished":"2025-07-16T00:00:00.000Z","author":{"@type":"Person","name":"ê³ í˜„ë¦¼","description":"í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","image":"https://ifh.cc/g/GagTYM.jpg"},"keywords":[]},{"@type":"BlogPosting","@id":"https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title","mainEntityOfPage":"https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title","url":"https://indianapoly.github.io/en/blog/2025/07/16/etc/idea_meeting-title","headline":"ê°œë°œí•˜ê¸° ì „ ì•„ì´ë””ì–´ íšŒì˜ ì´ë ‡ê²Œ í•´ë³´ì.","name":"ê°œë°œí•˜ê¸° ì „ ì•„ì´ë””ì–´ íšŒì˜ ì´ë ‡ê²Œ í•´ë³´ì.","description":"cloudwaveì—ì„œ ì§„í–‰í–ˆë˜ idea íšŒì˜ì™€ ê´€ë ¨ëœ íšŒê³ ì—ìš”. ì•ìœ¼ë¡œ ë„ì›€ì´ ë  ê±° ê°™ì•„ì„œ ê¸°ë¡ í•´ë‘ì–´ìš”.","datePublished":"2025-07-16T00:00:00.000Z","author":{"@type":"Person","name":"ê³ í˜„ë¦¼","description":"í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","image":"https://ifh.cc/g/GagTYM.jpg"},"keywords":[]},{"@type":"BlogPosting","@id":"https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title","mainEntityOfPage":"https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title","url":"https://indianapoly.github.io/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title","headline":"kubernetes Basic (1)","name":"kubernetes Basic (1)","description":"Deployment","datePublished":"2025-07-15T00:00:00.000Z","author":{"@type":"Person","name":"ê³ í˜„ë¦¼","description":"í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","image":"https://ifh.cc/g/GagTYM.jpg"},"keywords":[]},{"@type":"BlogPosting","@id":"https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title","mainEntityOfPage":"https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title","url":"https://indianapoly.github.io/en/blog/2025/07/14/docker/docker-basic-1-title","headline":"Docker Basic(1)","name":"Docker Basic(1)","description":"cloudwave 6ê¸° ìˆ˜ì—…ì—ì„œ ë“¤ì€ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.","datePublished":"2025-07-14T00:00:00.000Z","author":{"@type":"Person","name":"ê³ í˜„ë¦¼","description":"í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","image":"https://ifh.cc/g/GagTYM.jpg"},"keywords":[]},{"@type":"BlogPosting","@id":"https://indianapoly.github.io/en/blog/2025/07/10/docker/docker-basic-2-title","mainEntityOfPage":"https://indianapoly.github.io/en/blog/2025/07/10/docker/docker-basic-2-title","url":"https://indianapoly.github.io/en/blog/2025/07/10/docker/docker-basic-2-title","headline":"Docker Basic(2)","name":"Docker Basic(2)","description":"cloudwave 6ê¸° ìˆ˜ì—…ì—ì„œ ë“¤ì€ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.","datePublished":"2025-07-10T00:00:00.000Z","author":{"@type":"Person","name":"ê³ í˜„ë¦¼","description":"í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","image":"https://ifh.cc/g/GagTYM.jpg"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="KO HYEON LIM RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="KO HYEON LIM Atom Feed"><link rel="stylesheet" href="/en/assets/css/styles.c45270b2.css">
<script src="/en/assets/js/runtime~main.3428ce93.js" defer="defer"></script>
<script src="/en/assets/js/main.06f17b6d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/en/img/logo.png"><link rel="preload" as="image" href="https://ifh.cc/g/GagTYM.jpg"><link rel="preload" as="image" href="/img/blog/kubernetes/2025-07-17/img1.png"><link rel="preload" as="image" href="/img/blog/kubernetes/2025-07-16/img1.png"><link rel="preload" as="image" href="/img/blog/kubernetes/2025-07-16/img2.png"><link rel="preload" as="image" href="/img/blog/kubernetes/2025-07-16/img3.png"><link rel="preload" as="image" href="/img/blog/kubernetes/2025-07-15/img1.png"><link rel="preload" as="image" href="/img/blog/kubernetes/2025-07-15/img2.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/en/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">KO HYEON LIM</b></a><a class="navbar__item navbar__link" href="/en/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2025/07/19/terraform/terraform-errorHandling-title">Terraformìœ¼ë¡œ EKS ë°°í¬ ì‹œ ë°œìƒí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ì¶©ëŒ í•´ê²° ê°€ì´ë“œ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title">Kubernetes Basic(3)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title">Kubernetes Basic(2)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2025/07/16/etc/idea_meeting-title">ê°œë°œí•˜ê¸° ì „ ì•„ì´ë””ì–´ íšŒì˜ ì´ë ‡ê²Œ í•´ë³´ì.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title">kubernetes Basic (1)</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/en/blog/2025/07/19/terraform/terraform-errorHandling-title">Terraformìœ¼ë¡œ EKS ë°°í¬ ì‹œ ë°œìƒí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ì¶©ëŒ í•´ê²° ê°€ì´ë“œ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-07-19T00:00:00.000Z">July 19, 2025</time> Â· <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://ifh.cc/g/GagTYM.jpg" alt="ê³ í˜„ë¦¼"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">ê³ í˜„ë¦¼</span></a></div><small class="authorTitle_nd0D" title="í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer">í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer</small><div class="authorSocials_rSDt"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ë¬¸ì œ-ìƒí™©">ğŸš¨ ë¬¸ì œ ìƒí™©<a href="#-ë¬¸ì œ-ìƒí™©" class="hash-link" aria-label="Direct link to ğŸš¨ ë¬¸ì œ ìƒí™©" title="Direct link to ğŸš¨ ë¬¸ì œ ìƒí™©">â€‹</a></h2>
<p>Terraformìœ¼ë¡œ EKS í´ëŸ¬ìŠ¤í„°ë¥¼ ë°°í¬í•˜ë˜ ì¤‘ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ë“¤ì´ ì—°ì†ìœ¼ë¡œ ë°œìƒí–ˆì–´ìš”:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating EC2 EIP: operation error EC2: AllocateAddress,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 400, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api error AddressLimitExceeded: The maximum number of addresses has been reached.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating KMS Alias (alias/eks/cwave): operation error KMS: CreateAlias,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 400, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AlreadyExistsException: An alias with the name arn:aws:kms:ap-northeast-2:368677659737:alias/eks/cwave already exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating EKS Cluster (cwave): operation error EKS: CreateCluster,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 409, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResourceInUseException: Cluster already exists with name: cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating IAM Role (efs-csi): operation error IAM: CreateRole,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 409, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EntityAlreadyExists: Role with name efs-csi already exists.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ë¬¸ì œ-ì›ì¸-ë¶„ì„">ğŸ” ë¬¸ì œ ì›ì¸ ë¶„ì„<a href="#-ë¬¸ì œ-ì›ì¸-ë¶„ì„" class="hash-link" aria-label="Direct link to ğŸ” ë¬¸ì œ ì›ì¸ ë¶„ì„" title="Direct link to ğŸ” ë¬¸ì œ ì›ì¸ ë¶„ì„">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ê·¼ë³¸-ì›ì¸-ê°œë°œ-í™˜ê²½-í˜¼ë™ìœ¼ë¡œ-ì¸í•œ-ë¦¬ì†ŒìŠ¤-ì¤‘ë³µ">ê·¼ë³¸ ì›ì¸: ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ<a href="#ê·¼ë³¸-ì›ì¸-ê°œë°œ-í™˜ê²½-í˜¼ë™ìœ¼ë¡œ-ì¸í•œ-ë¦¬ì†ŒìŠ¤-ì¤‘ë³µ" class="hash-link" aria-label="Direct link to ê·¼ë³¸ ì›ì¸: ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ" title="Direct link to ê·¼ë³¸ ì›ì¸: ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ">â€‹</a></h3>
<p><strong>ì‹¤ì œ ë°œìƒ ê³¼ì •:</strong></p>
<ol>
<li>ê°œë°œ í™˜ê²½ì— <code>local</code>ê³¼ <code>aws</code> ë‘ ê°œì˜ í´ë”ê°€ ì¡´ì¬</li>
<li>ì§€ê¸ˆê¹Œì§€ local í™˜ê²½ê³¼ aws í™˜ê²½ì„ ì°©ê°í•´ì„œ ê°œë°œì„ ì§„í–‰</li>
<li>local í™˜ê²½ì—ì„œ ìƒì„±í•œ Terraform ë¦¬ì†ŒìŠ¤ë¥¼ ì •í™•í•˜ê²Œ ì‚­ì œí•˜ì§€ ì•ŠìŒ</li>
<li>aws í´ë”ë¡œ ì´ë™í•´ì„œ ë‹¤ì‹œ <code>terraform apply</code>ë¥¼ ì‹œë„</li>
<li><strong>ê²°ê³¼</strong>: ë™ì¼í•œ ë¦¬ì†ŒìŠ¤ëª…ìœ¼ë¡œ ì¸í•œ ì¤‘ë³µ ìƒì„± ì‹œë„ë¡œ ì¶©ëŒ ë°œìƒí–ˆì–´ìš”</li>
</ol>
<p><strong>í´ë” êµ¬ì¡° ì˜ˆì‹œ:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ local/          # ë¡œì»¬ ê°œë°œìš© (ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì”ì¡´)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ terraform.tfstate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ aws/            # AWS í™˜ê²½ìš© (ìƒˆë¡œ ë°°í¬ ì‹œë„)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ terraform.tfstate</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ì„¸ë¶€-ì›ì¸ë“¤">ì„¸ë¶€ ì›ì¸ë“¤<a href="#ì„¸ë¶€-ì›ì¸ë“¤" class="hash-link" aria-label="Direct link to ì„¸ë¶€ ì›ì¸ë“¤" title="Direct link to ì„¸ë¶€ ì›ì¸ë“¤">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-eip-í•œë„-ì´ˆê³¼-ë¬¸ì œ">1. EIP í•œë„ ì´ˆê³¼ ë¬¸ì œ<a href="#1-eip-í•œë„-ì´ˆê³¼-ë¬¸ì œ" class="hash-link" aria-label="Direct link to 1. EIP í•œë„ ì´ˆê³¼ ë¬¸ì œ" title="Direct link to 1. EIP í•œë„ ì´ˆê³¼ ë¬¸ì œ">â€‹</a></h4>
<p>AWS ê³„ì •ë‹¹ EIP(Elastic IP) í• ë‹¹ í•œë„ê°€ ìˆê³  ì œê°€ í™•ì¸í–ˆì„ ë•ŒëŠ” 5ê°œê°€ í• ë‹¹ í•œë„ê°€ ìˆì—ˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í˜„ì¬ EIP ì‚¬ìš©ëŸ‰ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-ë¦¬ì†ŒìŠ¤-ì¤‘ë³µ-ë¬¸ì œ">2. ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ ë¬¸ì œ<a href="#2-ë¦¬ì†ŒìŠ¤-ì¤‘ë³µ-ë¬¸ì œ" class="hash-link" aria-label="Direct link to 2. ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ ë¬¸ì œ" title="Direct link to 2. ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ ë¬¸ì œ">â€‹</a></h4>
<p>EKS í´ëŸ¬ìŠ¤í„°ë¥¼ ì‚­ì œí–ˆì§€ë§Œ ê´€ë ¨ ë¦¬ì†ŒìŠ¤ë“¤(IAM ì—­í• , KMS ë³„ì¹­ ë“±)ì€ ìë™ìœ¼ë¡œ ì‚­ì œë˜ì§€ ì•Šì•˜ì–´ìš”.</p>
<p><strong>ì™œ ì´ëŸ° ì¼ì´ ë°œìƒí•˜ëŠ”ê°€?</strong></p>
<ul>
<li>EKS í´ëŸ¬ìŠ¤í„° ì‚­ì œ ì‹œ <strong>IAM ì—­í• ì€ ìë™ìœ¼ë¡œ ì‚­ì œë˜ì§€ ì•Šì•„ìš”.</strong></li>
<li>KMS ë³„ì¹­ë„ ë§ˆì°¬ê°€ì§€ë¡œ ìˆ˜ë™ ì‚­ì œê°€ í•„ìš”í•´ìš”.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-terraform-ìƒíƒœ-íŒŒì¼-ë¶„ë¦¬ë¡œ-ì¸í•œ-ë¬¸ì œ">3. Terraform ìƒíƒœ íŒŒì¼ ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ<a href="#3-terraform-ìƒíƒœ-íŒŒì¼-ë¶„ë¦¬ë¡œ-ì¸í•œ-ë¬¸ì œ" class="hash-link" aria-label="Direct link to 3. Terraform ìƒíƒœ íŒŒì¼ ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ" title="Direct link to 3. Terraform ìƒíƒœ íŒŒì¼ ë¶„ë¦¬ë¡œ ì¸í•œ ë¬¸ì œ">â€‹</a></h4>
<ul>
<li><code>local/terraform.tfstate</code>ì™€ <code>aws/terraform.tfstate</code>ê°€ ê°ê° ê´€ë¦¬ë¼ìš”.</li>
<li>ì‹¤ì œ AWS ë¦¬ì†ŒìŠ¤ëŠ” ë™ì¼í•˜ì§€ë§Œ Terraform ìƒíƒœëŠ” ë¶„ë¦¬ë˜ì–´ ìˆì–´ìš”.</li>
<li>ìƒˆë¡œìš´ í´ë”ì—ì„œ ë°°í¬ ì‹œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆëŠ” ê²ƒì„ íŒŒì•…í–ˆì–´ìš”.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-í•´ê²°-ê³¼ì •">ğŸ› ï¸ í•´ê²° ê³¼ì •<a href="#ï¸-í•´ê²°-ê³¼ì •" class="hash-link" aria-label="Direct link to ğŸ› ï¸ í•´ê²° ê³¼ì •" title="Direct link to ğŸ› ï¸ í•´ê²° ê³¼ì •">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1ë‹¨ê³„-eip-ì‚¬ìš©ëŸ‰-í™•ì¸-ë°-ë¶„ì„">1ë‹¨ê³„: EIP ì‚¬ìš©ëŸ‰ í™•ì¸ ë° ë¶„ì„<a href="#1ë‹¨ê³„-eip-ì‚¬ìš©ëŸ‰-í™•ì¸-ë°-ë¶„ì„" class="hash-link" aria-label="Direct link to 1ë‹¨ê³„: EIP ì‚¬ìš©ëŸ‰ í™•ì¸ ë° ë¶„ì„" title="Direct link to 1ë‹¨ê³„: EIP ì‚¬ìš©ëŸ‰ í™•ì¸ ë° ë¶„ì„">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># EIP ëª©ë¡ê³¼ ì—°ê²° ìƒíƒœ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2 --output table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ê° EIPê°€ ë¬´ì—‡ì— ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-network-interfaces --region ap-northeast-2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network-interface-ids eni-xxxx eni-yyyy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query &#x27;NetworkInterfaces[*].{NetworkInterfaceId:NetworkInterfaceId,Description:Description,Status:Status}&#x27;</span><br></span></code></pre></div></div>
<p><strong>ê²°ê³¼ ë¶„ì„:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;NetworkInterfaceId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eni-id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;Description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Interface for NAT Gateway nat-id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;Status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;in-use&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ... 5ê°œì˜ EIPê°€ ëª¨ë‘ NAT Gatewayì— ì—°ê²°ë¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2ë‹¨ê³„-terraform-ìƒíƒœ-í™•ì¸">2ë‹¨ê³„: Terraform ìƒíƒœ í™•ì¸<a href="#2ë‹¨ê³„-terraform-ìƒíƒœ-í™•ì¸" class="hash-link" aria-label="Direct link to 2ë‹¨ê³„: Terraform ìƒíƒœ í™•ì¸" title="Direct link to 2ë‹¨ê³„: Terraform ìƒíƒœ í™•ì¸">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í˜„ì¬ Terraformì—ì„œ ê´€ë¦¬í•˜ëŠ” EIP í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan | grep eip</span><br></span></code></pre></div></div>
<p><strong>ê²°ê³¼:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws_eip.nat[&quot;c&quot;]: Refreshing state... [id=eipalloc-id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws_eip.nat[&quot;a&quot;]: Refreshing state... [id=eipalloc-id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># aws_eip.nat[&quot;b&quot;] will be created &lt;- ì´ ë¶€ë¶„ì´ ë¬¸ì œ!</span><br></span></code></pre></div></div>
<p><strong>ë°œê²¬í•œ ë¬¸ì œì :</strong></p>
<ul>
<li><code>nat[&quot;a&quot;]</code>ì™€ <code>nat[&quot;c&quot;]</code>ëŠ” ì´ë¯¸ Terraform ìƒíƒœì— ì¡´ì¬í•´ìš”.</li>
<li><code>nat[&quot;b&quot;]</code>ë§Œ ìƒˆë¡œ ìƒì„±í•˜ë ¤ê³  í•´ì„œ EIP í•œë„ ì´ˆê³¼ ë°œìƒê°€ ë°œìƒí–ˆì–´ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3ë‹¨ê³„-eip-ë¬¸ì œ-í•´ê²°">3ë‹¨ê³„: EIP ë¬¸ì œ í•´ê²°<a href="#3ë‹¨ê³„-eip-ë¬¸ì œ-í•´ê²°" class="hash-link" aria-label="Direct link to 3ë‹¨ê³„: EIP ë¬¸ì œ í•´ê²°" title="Direct link to 3ë‹¨ê³„: EIP ë¬¸ì œ í•´ê²°">â€‹</a></h3>
<p><strong>ë°©ë²• 1: ê¸°ì¡´ EIP ì¬ì‚¬ìš©</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ì‚¬ìš© ê°€ëŠ¥í•œ EIP í™•ì¸ (a, cê°€ ì•„ë‹Œ ê²ƒë“¤)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># íŠ¹ì • EIPê°€ ì–´ë–¤ NAT Gatewayì— ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-nat-gateways --region ap-northeast-2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query &#x27;NatGateways[?NatGatewayAddresses[0].AllocationId==`eipalloc-id`].{NatGatewayId:NatGatewayId,State:State}&#x27;</span><br></span></code></pre></div></div>
<p><strong>ê²°ê³¼:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;NatGatewayId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nat-id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;State&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;deleted&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ì´ë¯¸ ì‚­ì œë¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;NatGatewayId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nat-id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;State&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;available&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ì‚¬ìš© ì¤‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>í•´ê²° ë‹¨ê³„:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. ì‚¬ìš© ì¤‘ì¸ NAT Gateway ì‚­ì œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 delete-nat-gateway --nat-gateway-id nat-id --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. ì‚­ì œ ì™„ë£Œ ëŒ€ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-nat-gateways --region ap-northeast-2 --nat-gateway-ids nat-id --query &#x27;NatGateways[0].State&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. í•´ì œëœ EIPë¥¼ Terraformìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import &#x27;aws_eip.nat[&quot;b&quot;]&#x27; eipalloc-id</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4ë‹¨ê³„-ê¸°ì¡´-ë¦¬ì†ŒìŠ¤-import">4ë‹¨ê³„: ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ Import<a href="#4ë‹¨ê³„-ê¸°ì¡´-ë¦¬ì†ŒìŠ¤-import" class="hash-link" aria-label="Direct link to 4ë‹¨ê³„: ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ Import" title="Direct link to 4ë‹¨ê³„: ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ Import">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># EKS í´ëŸ¬ìŠ¤í„° ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.eks.aws_eks_cluster.this[0] cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># KMS ë³„ì¹­ ê°€ì ¸ì˜¤ê¸° (ë”°ì˜´í‘œ ì£¼ì˜!)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import &#x27;module.eks.module.kms.aws_kms_alias.this[&quot;cluster&quot;]&#x27; alias/eks/cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># IAM ì—­í• ë“¤ ê°€ì ¸ì˜¤ê¸°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.attach_efs_csi_role.aws_iam_role.this[0] efs-csi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.ebs_csi_irsa.aws_iam_role.this[0] cwave-ebs-csi-controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.lb_controller_role.aws_iam_role.this[0] eks-aws-lb-controller-role</span><br></span></code></pre></div></div>
<p><strong>Import ì‹œ ì£¼ì˜ì‚¬í•­:</strong></p>
<ul>
<li>ì¸ë±ìŠ¤ê°€ ìˆëŠ” ë¦¬ì†ŒìŠ¤ëŠ” ë”°ì˜´í‘œë¡œ ê°ì‹¸ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”.</li>
<li>ì •í™•í•œ ë¦¬ì†ŒìŠ¤ ì´ë¦„ê³¼ ID í™•ì¸ í•„ìˆ˜ì…ë‹ˆë‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5ë‹¨ê³„-terraform-ì ìš©">5ë‹¨ê³„: Terraform ì ìš©<a href="#5ë‹¨ê³„-terraform-ì ìš©" class="hash-link" aria-label="Direct link to 5ë‹¨ê³„: Terraform ì ìš©" title="Direct link to 5ë‹¨ê³„: Terraform ì ìš©">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ê³„íš í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë¬¸ì œì—†ìœ¼ë©´ ì ìš©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-kubectl-ì—°ê²°-ë¬¸ì œ-í•´ê²°">ğŸ”§ kubectl ì—°ê²° ë¬¸ì œ í•´ê²°<a href="#-kubectl-ì—°ê²°-ë¬¸ì œ-í•´ê²°" class="hash-link" aria-label="Direct link to ğŸ”§ kubectl ì—°ê²° ë¬¸ì œ í•´ê²°" title="Direct link to ğŸ”§ kubectl ì—°ê²° ë¬¸ì œ í•´ê²°">â€‹</a></h2>
<p>ë°°í¬ ì™„ë£Œ í›„ kubectl ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ DNS ì˜¤ë¥˜ ë°œìƒ:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Error: dial tcp: lookup .gr7.ap-northeast-2.eks.amazonaws.com on 127.0.0.11:53: no such host</span><br></span></code></pre></div></div>
<p><strong>í•´ê²° ë°©ë²•:</strong></p>
<p>ì—…ë°ì´í„°ë¥¼ ìƒˆë¡œ í•´ì¤Œìœ¼ë¡œì¨ ê¸°ì¡´ contextë¥¼ switchë¥¼ ì§„í–‰í•´ì£¼ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># kubeconfig ì—…ë°ì´íŠ¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws eks update-kubeconfig --region ap-northeast-2 --name cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì—°ê²° í…ŒìŠ¤íŠ¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -A</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-êµí›ˆ-ë°-ì˜ˆë°©-ë°©ë²•">ğŸ“ êµí›ˆ ë° ì˜ˆë°© ë°©ë²•<a href="#-êµí›ˆ-ë°-ì˜ˆë°©-ë°©ë²•" class="hash-link" aria-label="Direct link to ğŸ“ êµí›ˆ ë° ì˜ˆë°© ë°©ë²•" title="Direct link to ğŸ“ êµí›ˆ ë° ì˜ˆë°© ë°©ë²•">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ê°œë°œ-í™˜ê²½-ê´€ë¦¬-ì›ì¹™">1. ê°œë°œ í™˜ê²½ ê´€ë¦¬ ì›ì¹™<a href="#1-ê°œë°œ-í™˜ê²½-ê´€ë¦¬-ì›ì¹™" class="hash-link" aria-label="Direct link to 1. ê°œë°œ í™˜ê²½ ê´€ë¦¬ ì›ì¹™" title="Direct link to 1. ê°œë°œ í™˜ê²½ ê´€ë¦¬ ì›ì¹™">â€‹</a></h3>
<ul>
<li><strong>í™˜ê²½ë³„ í´ë” ë¶„ë¦¬ ì‹œ ëª…í™•í•œ ë„¤ì´ë° ì‚¬ìš©</strong></li>
<li><strong>í˜„ì¬ ì‘ì—… ì¤‘ì¸ í™˜ê²½ì„ í•­ìƒ í™•ì¸</strong></li>
<li><strong>í™˜ê²½ ì „í™˜ ì‹œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ í›„ ì§„í–‰</strong></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í™˜ê²½ í™•ì¸ ìŠµê´€í™”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pwd                    # í˜„ì¬ ì‘ì—… ë””ë ‰í„°ë¦¬ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace show  # Terraform ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws sts get-caller-identity  # í˜„ì¬ AWS ê³„ì •/ì—­í•  í™•ì¸</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ì•ˆì „í•œ-í™˜ê²½-ì „í™˜-ì ˆì°¨">2. ì•ˆì „í•œ í™˜ê²½ ì „í™˜ ì ˆì°¨<a href="#2-ì•ˆì „í•œ-í™˜ê²½-ì „í™˜-ì ˆì°¨" class="hash-link" aria-label="Direct link to 2. ì•ˆì „í•œ í™˜ê²½ ì „í™˜ ì ˆì°¨" title="Direct link to 2. ì•ˆì „í•œ í™˜ê²½ ì „í™˜ ì ˆì°¨">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ê¸°ì¡´ í™˜ê²½ ì •ë¦¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform destroy -auto-approve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ìƒíƒœ íŒŒì¼ ë°±ì—…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp terraform.tfstate terraform.tfstate.backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ìƒˆ í™˜ê²½ìœ¼ë¡œ ì´ë™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ../aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë¦¬ì†ŒìŠ¤ í™•ì¸ í›„ ë°°í¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-ë¦¬ì†ŒìŠ¤-ì •ë¦¬-ì‹œ-ì£¼ì˜ì ">3. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì‹œ ì£¼ì˜ì <a href="#3-ë¦¬ì†ŒìŠ¤-ì •ë¦¬-ì‹œ-ì£¼ì˜ì " class="hash-link" aria-label="Direct link to 3. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì‹œ ì£¼ì˜ì " title="Direct link to 3. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì‹œ ì£¼ì˜ì ">â€‹</a></h3>
<ul>
<li>EKS í´ëŸ¬ìŠ¤í„° ì‚­ì œ ì‹œ IAM ì—­í• , KMS ë³„ì¹­ ë“±ì€ ìˆ˜ë™ìœ¼ë¡œ ì‚­ì œí•´ì£¼ì–´ì•¼ í•´ìš”.</li>
<li>ë§Œì•½ ì‚­ì œí•´ì£¼ì–´ì•¼ í•˜ëŠ”ê²Œ ë§ë‹¤ë©´ Terraform importë¥¼ í™œìš©í•˜ì—¬ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-eip-ê´€ë¦¬">4. EIP ê´€ë¦¬<a href="#4-eip-ê´€ë¦¬" class="hash-link" aria-label="Direct link to 4. EIP ê´€ë¦¬" title="Direct link to 4. EIP ê´€ë¦¬">â€‹</a></h3>
<ul>
<li>AWS ê³„ì •ì˜ EIP í•œë„ë¥¼ ë¯¸ë¦¬ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”.</li>
<li>ë¶ˆí•„ìš”í•œ EIPëŠ” ì •ê¸°ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  í•„ìš”ì‹œ AWS Supportë¥¼ í†µí•´ í•œë„ ì¦ê°€ ìš”ì²­í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-terraform-ìƒíƒœ-ê´€ë¦¬">5. Terraform ìƒíƒœ ê´€ë¦¬<a href="#5-terraform-ìƒíƒœ-ê´€ë¦¬" class="hash-link" aria-label="Direct link to 5. Terraform ìƒíƒœ ê´€ë¦¬" title="Direct link to 5. Terraform ìƒíƒœ ê´€ë¦¬">â€‹</a></h3>
<ul>
<li><code>terraform plan</code>ìœ¼ë¡œ ìƒì„±ë  ë¦¬ì†ŒìŠ¤ë¥¼ ë¯¸ë¦¬ í™•ì¸í•˜ëŠ” ìŠµê´€ì´ ì •ë§ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
<li>ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ì™€ì˜ ì¶©ëŒ ê°€ëŠ¥ì„± ê²€í†  ë° Importë¥¼ í™œìš©í•œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì¬ì‚¬ìš©ì„ ê³ ë ¤í•  ìˆ˜ ìˆì–´ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-ì•ˆì „í•œ-ë°°í¬-ì „ëµ">6. ì•ˆì „í•œ ë°°í¬ ì „ëµ<a href="#6-ì•ˆì „í•œ-ë°°í¬-ì „ëµ" class="hash-link" aria-label="Direct link to 6. ì•ˆì „í•œ ë°°í¬ ì „ëµ" title="Direct link to 6. ì•ˆì „í•œ ë°°í¬ ì „ëµ">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan                    # ìƒì„±ë  ë¦¬ì†ŒìŠ¤ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses        # EIP ì‚¬ìš©ëŸ‰ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws iam list-roles               # ê¸°ì¡´ IAM ì—­í•  í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws kms list-aliases             # ê¸°ì¡´ KMS ë³„ì¹­ í™•ì¸</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ê²°ë¡ ">ğŸ¯ ê²°ë¡ <a href="#-ê²°ë¡ " class="hash-link" aria-label="Direct link to ğŸ¯ ê²°ë¡ " title="Direct link to ğŸ¯ ê²°ë¡ ">â€‹</a></h2>
<p>ì´ë²ˆ ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì€ <strong>ê°œë°œ í™˜ê²½ í˜¼ë™ìœ¼ë¡œ ì¸í•œ ë¦¬ì†ŒìŠ¤ ì¤‘ë³µ</strong>ì´ì—ˆìŠµë‹ˆë‹¤. localê³¼ aws í™˜ê²½ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ì§€ ì•Šê³  ê°œë°œí•˜ë‹¤ê°€, ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ìƒˆë¡œìš´ í™˜ê²½ì— ë°°í¬ë¥¼ ì‹œë„í•œ ê²ƒì´ ë¬¸ì œì˜ ì‹œì‘ì´ì—ˆìŠµë‹ˆë‹¤.</p>
<p>Terraformìœ¼ë¡œ AWS ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•  ë•ŒëŠ” ë‹¤ìŒ ì‚¬í•­ë“¤ì„ ë°˜ë“œì‹œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤:</p>
<ol>
<li><strong>í™˜ê²½ ë¶„ë¦¬ì™€ ëª…í™•í•œ ì‹ë³„</strong></li>
<li><strong>ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ì™€ì˜ ì¶©ëŒ ê°€ëŠ¥ì„±</strong></li>
<li><strong>Terraform Importë¥¼ í™œìš©í•œ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì¬ì‚¬ìš©</strong></li>
</ol>
<p>íŠ¹íˆ EKSì™€ ê°™ì€ ë³µì¡í•œ ì„œë¹„ìŠ¤ëŠ” ì—¬ëŸ¬ AWS ì„œë¹„ìŠ¤ì™€ ì—°ë™ë˜ì–´ ìˆì–´, ì‚­ì œ ì‹œì—ë„ ì¼ë¶€ ë¦¬ì†ŒìŠ¤ê°€ ë‚¨ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ìƒí™©ì—ì„œëŠ” <strong>Terraform Import</strong>ë¥¼ í™œìš©í•˜ì—¬ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ì¸ í•´ê²°ì±…ì…ë‹ˆë‹¤.</p>
<hr>
<p><strong>ê´€ë ¨ ëª…ë ¹ì–´ ëª¨ìŒ:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># í™˜ê²½ í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace show</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws sts get-caller-identity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># EIP ê´€ë ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 release-address --allocation-id eipalloc-xxx --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Terraform Import</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import &#x27;resource_address&#x27; resource_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform state list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># EKS ê´€ë ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws eks update-kubeconfig --region ap-northeast-2 --name cluster-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config current-context</span><br></span></code></pre></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/til">TIL</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/terraform">Terraform</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/en/blog/2025/07/17/kubernetes/kubernetes-basic-3-title">Kubernetes Basic(3)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-07-17T00:00:00.000Z">July 17, 2025</time> Â· <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://ifh.cc/g/GagTYM.jpg" alt="ê³ í˜„ë¦¼"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">ê³ í˜„ë¦¼</span></a></div><small class="authorTitle_nd0D" title="í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer">í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer</small><div class="authorSocials_rSDt"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="secret">Secret<a href="#secret" class="hash-link" aria-label="Direct link to Secret" title="Direct link to Secret">â€‹</a></h2>
<ul>
<li>ìƒì„±í•˜ëŠ” ë°©ë²•ì€ clië¡œ í•˜ê±°ë‚˜ .yml íŒŒì¼ì„ ì‘ì„±í•´ì„œ ë§Œë“œëŠ” ë°©ë²•ì´ ìˆì–´ìš”.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic my-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--from-literal=username=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--from-literal=password=1234</span><br></span></code></pre></div></div>
<p>clië¡œ ê°’ì„ í™•ì¸ì„ í•´ì£¼ë ¤ë©´, ì•„ë˜ cli ëª…ë ¹ì„ í†µí•´ì„œ ymlì„ ì¶œë ¥í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secret my-secret -o yaml</span><br></span></code></pre></div></div>
<img src="/img/blog/kubernetes/2025-07-17/img1.png">
<p>ì—¬ê¸°ì„œ ì¶œë ¥ë˜ëŠ” ë°ì´í„° ì—­ì‹œ base64ë¡œ ì¸ì½”ë”©ì´ ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ í™•ì¸í•´ì£¼ê¸° ìœ„í•´ì„œëŠ”
ë³µí˜¸í™”í•´ì£¼ì–´ì•¼ í•´ìš”.</p>
<p>yml íŒŒì¼ë¡œ ë„£ì–´ì¤„ë•ŒëŠ” base64 ì¸ì½”ë”©ëœ ê°’ì„ ë„£ì–´ì£¼ì–´ì•¼ í•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> YWRtaW4= </span><span class="token comment" style="color:#999988;font-style:italic"># admin (base64 ì¸ì½”ë”©)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MTIzNA== </span><span class="token comment" style="color:#999988;font-style:italic"># 1234 (base64 ì¸ì½”ë”©)</span><br></span></code></pre></div></div>
<p>ìœ„ì™€ ê°™ì´ ì„¤ì •ì„ í•˜ê³  ë‚œ ì´í›„ì— í™˜ê²½ë³€ìˆ˜ë¡œ ë„˜ê²¨ì¤„ ìˆ˜ë„ ìˆê³ , ë³¼ë¥¨ìœ¼ë¡œ ë„˜ê²¨ì¤„ ìˆ˜ë„ ìˆì–´ìš”.</p>
<p>í™˜ê²½ë³€ìˆ˜ë¡œ ë„˜ê²¨ ì¤„ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì´ keyê°’ì„ ì§€ì •í•´ì„œ ë„˜ê²¨ì£¼ì–´ì•¼ í•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mycontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> USERNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><br></span></code></pre></div></div>
<p>ë³¼ë¥¨ìœ¼ë¡œ ë„˜ê²¨ì£¼ëŠ” ê²ƒì€ ë”°ë¡œ keyë¥¼ ì„¤ì •í•´ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìƒì„±í•œ secretë¥¼ ì „ì²´ ë„˜ê²¨ì£¼ì–´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mycontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/etc/secret&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">readOnly</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">secret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="statefulset">StateFulSet<a href="#statefulset" class="hash-link" aria-label="Direct link to StateFulSet" title="Direct link to StateFulSet">â€‹</a></h2>
<ul>
<li>
<p>ìƒì„±ëœ Podë§ˆë‹¤ ë³„ë„ì˜ ë””ìŠ¤í¬ ê³µê°„ì„ ê°€ì ¸ì•¼í•˜ëŠ” ê²½ìš°ì— ì£¼ë¡œ ì‚¬ìš©í•´ìš”. ë¶„ì‚° ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° í˜¸ìŠ¤íŠ¸ëª…ê³¼ IP ë“±ì´ ë°”ë€Œë©´ ì•ˆë¼ìš”.</p>
</li>
<li>
<p>ReplicaSetì˜ ê²½ìš°ì—ëŠ” ìƒì„± ë° ì‚­ì œê°€ ë™ì‹œì— ì§„í–‰ë˜ëŠ” ë°˜ë©´ì—, StatefullSetì€ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰ë˜ì–´ì„œ ì‹œê°„ ì¡°ì ˆì´ ê°€ëŠ¥í•´ìš”.</p>
</li>
<li>
<p>Podë¥¼ ì‚­ì œí•˜ëŠ” ê²½ìš° ID ê°’ì´ ê°€ì¥ í° ê²ƒë¶€í„° ì‚­ì œê°€ ë¼ìš”. ì œì¼ ë§ˆì§€ë§‰ì— ìƒì„±ëœ Podê°€ ë¨¼ì € ì‚­ì œê°€ ë˜ê³  ë§ˆìŠ¤í„°ì˜ ê²½ìš°ì—ëŠ” ê°€ì¥ ë§ˆì§€ë§‰ì— ì‚­ì œê°€ ë¼ìš”.</p>
</li>
<li>
<p>ìŠ¤ì¼€ì¼ë¦¬ì—ì„œ Podê°€ ì‚­ì œê°€ ë˜ë©´ í•´ë‹¹ Podê°€ ë¬¼ê³  ìˆëŠ” PVCëŠ” Podì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆì–´ìš”. ë”°ë¼ì„œ Podë¥¼ ìƒì„±í•˜ë©´ ì´ì „ê³¼ ë™ì¼í•œ IDë¡œ ì¬ìƒì„±ì´ ë¼ìš”.</p>
</li>
</ul>
<p>â€¼ DeploymentëŠ” Elastic Block Storeë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ìš”. ë§Œì•½ Deploymentì— ë””ìŠ¤í¬ë¥¼ ë¶™íˆë¼ê³  í•œë‹¤ë©´ EFSë¥¼ ë¶™í˜€ì•¼ í•´ìš”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize--helm-ì°¨íŠ¸">Kustomize / Helm ì°¨íŠ¸<a href="#kustomize--helm-ì°¨íŠ¸" class="hash-link" aria-label="Direct link to Kustomize / Helm ì°¨íŠ¸" title="Direct link to Kustomize / Helm ì°¨íŠ¸">â€‹</a></h2>
<p>2ê°œë¥¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ê±°ì˜ ê°™ì´ ì‚¬ìš©í•˜ì§€ ì•Šì•„ìš”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize">Kustomize<a href="#kustomize" class="hash-link" aria-label="Direct link to Kustomize" title="Direct link to Kustomize">â€‹</a></h3>
<ul>
<li>base + overlayë¥¼ ì¡°í•©í•˜ì—¬ í™˜ê²½ë³„ ë°°í¬ YAMLì„ kustomize build ëª…ë ¹ìœ¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kustomize/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ base/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ overlays/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ dev/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â””â”€â”€ kustomization.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ stage/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ prod/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ aws/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ gcp/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="helm-chart">Helm chart<a href="#helm-chart" class="hash-link" aria-label="Direct link to Helm chart" title="Direct link to Helm chart">â€‹</a></h3>
<ul>
<li>
<p>ì˜ˆë¥¼ ë“¤ì–´ì„œ MYSQL ê°œë°œìê°€ ymlì„ ì œê³µì„ í•˜ê³  ì†Œë¹„ìê°€ í™˜ê²½ë³€ìˆ˜ë‚˜ ì„¤ì • ë“±ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ :</p>
<ul>
<li>ê°œë°œìê°€ Helm ì°¨íŠ¸ë¥¼ í™œìš©í•˜ë©´ ë³€ê²½ ê°€ëŠ¥í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•´ì¤˜ìš”. ì´ë¥¼ í†µí•´ì„œ ì‚¬ìš©ìëŠ” í™˜ê²½ë³€ìˆ˜ë‚˜ ì„¤ì •ì„ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.</li>
</ul>
</li>
</ul>
<p><strong>ì„¤ì¹˜ ë°©ë²•</strong></p>
<p>ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ìˆœì„œëŒ€ë¡œ ì…ë ¥ì„ í•´ì£¼ë©´ helm chartë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 get_helm.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./get_helm.sh</span><br></span></code></pre></div></div>
<p>ì˜ ì„¤ì¹˜ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ mysqlë¥¼ ê²€ìƒ‰ì„ í•´ë³´ë©´ ì˜ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm show chart stable/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appVersion: 5.7.30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deprecated: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description: DEPRECATED - Fast, reliable, scalable, and easy to use open-source relational</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  database system.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">home: https://www.mysql.com/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">icon: https://www.mysql.com/common/logos/logo-mysql-170x115.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keywords:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name: mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- https://github.com/kubernetes/charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- https://github.com/docker-library/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: 1.6.9</span><br></span></code></pre></div></div>
<p><strong>helm chart ìƒì„±í•˜ê¸°</strong></p>
<p>í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ìƒì„±í•´ì£¼ì„¸ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm create &lt;ì´ë¦„&gt;</span><br></span></code></pre></div></div>
<p>templates í´ë”ì—ì„œ deployment.ymlì™€ service.ymlì„ ìƒì„±ì„ í•´ì¤˜ìš”. _helpers.tplì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ íŒŒì¼ë“¤ì€ ì‚­ì œë¥¼ ì§„í–‰í•´ì¤˜ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># deployment.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.replicas </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.environment </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.image </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.tag </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.port </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.environment </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># service.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.port </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span></code></pre></div></div>
<p>ê¸°ì¡´ì˜ values.yamlì„ ì „ì²´ ì‚­ì œë¥¼ í•´ì¤˜ìš”. ê·¸ëŸ°ë‹¤ìŒì— ì•„ë˜ë¥¼ ë„£ì–´ì¤˜ìš”. ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìëŠ” ì—¬ê¸°ì— ì§€ì •ëœ ë³€ìˆ˜ë§Œ ê±´ë“¤ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤˜ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre></div></div>
<p>ìœ„ì—ì„œ ì‘ì—…í•œ ê²ƒì„ ì„¤ì¹˜ë¥¼ ì§„í–‰í•´ì¤˜ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm install nginxstd ./nginxstd</span><br></span></code></pre></div></div>
<p>íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•´ì£¼ê³  íŒŒì¼ì„ ì´ë™ì‹œì¼œì¤ë‹ˆë‹¤. ê·¸ë¦¬ê³  helm repository íŒŒì¼ì„ ìƒì„±í•´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm package ./nginxstd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv ./nginx-std-0.1.0.tgz ./prod/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë¦¬í¬ì§€í† ë¦¬ íŒŒì¼ ìƒì„± (index.yaml)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">heml repo index ./prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># íŒŒì¼ ìƒì„± í™•ì¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ./prod/index.yaml</span><br></span></code></pre></div></div>
<p>ìœ„ ì‘ì—…ê¹Œì§€ ë‹¤ í–ˆë‹¤ë©´ Github Repositoryë¥¼ ë§Œë“¤ì–´ìš”. ê·¸ë¦¬ê³  Repositoryì— ìš°ë¦¬ê°€ ì‘ì—…í•œ ê²ƒì„ ì˜¬ë ¤ì¤˜ìš”. Githubì— ì •ìƒì ìœ¼ë¡œ ë“±ë¡ì´ ì™„ë£Œê°€ ë˜ì—ˆë‹¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ repositoryë¥¼ ì¶”ê°€ì‹œì¼œì¤ë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add helm-prod &lt;ìì‹  github ì£¼ì†Œì— ì˜¬ë¼ê°€ ìˆëŠ” helm Repository&gt;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì‹¤ìŠµ">ì‹¤ìŠµ<a href="#ì‹¤ìŠµ" class="hash-link" aria-label="Direct link to ì‹¤ìŠµ" title="Direct link to ì‹¤ìŠµ">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mysql-db-secret-ìƒì„±-ë°-ì‚¬ìš©">MySQL DB Secret ìƒì„± ë° ì‚¬ìš©<a href="#mysql-db-secret-ìƒì„±-ë°-ì‚¬ìš©" class="hash-link" aria-label="Direct link to MySQL DB Secret ìƒì„± ë° ì‚¬ìš©" title="Direct link to MySQL DB Secret ìƒì„± ë° ì‚¬ìš©">â€‹</a></h3>
<p>Secretë¥¼ ìƒì„±í•˜ëŠ”ë° ìš”êµ¬ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ì•„ìš”. í•´ë‹¹ ë‚´ìš©ì„ ë„£ê¸° ìœ„í•´ì„œëŠ” ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ base64ë¡œ ì¸ì½”ë”©ì„ ì§„í–‰í•´ì•¼í•´ìš”.</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_USER: user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_PASSWORD: pw1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_ROOT_PASSWORD: rootpw9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_DATABASE: mydb</span><br></span></code></pre></div></div>
<p>ì²« ë²ˆì§¸ë¡œ Secretë¥¼ ìƒì„±ì„ í•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dXNlcjE= </span><span class="token comment" style="color:#999988;font-style:italic">#user1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cHcxMjM0 </span><span class="token comment" style="color:#999988;font-style:italic">#pw1234</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cm9vdHB3OTg3Ng== </span><span class="token comment" style="color:#999988;font-style:italic">#rootpw9876</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bXlkYg== </span><span class="token comment" style="color:#999988;font-style:italic">#mydb</span><br></span></code></pre></div></div>
<p><code>kubectl apply -f ./íŒŒì¼ì´ë¦„</code> ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ì„ í•˜ë©´ ìƒì„±ì´ ë¼ìš”.</p>
<p>ìƒì„±ì„ í•´ì¤€ë‹¤ìŒì— í™˜ê²½ë³€ìˆ˜ ë°©ë²•ì„ ì‚¬ìš©í•´ì„œ Podë¥¼ ìƒì„±ì„ í•´ì¤„ê±°ì—ìš”. ì´ ë•Œ secretKeyRefì˜ ì´ë¦„ì„ ìƒì„±í•œ secretì˜ ì´ë¦„ìœ¼ë¡œ ì§€ì •ì„ í•´ì£¼ë©´ ë¼ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_USER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_USER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_DATABASE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_DATABASE</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="statefulset-1">StatefulSet<a href="#statefulset-1" class="hash-link" aria-label="Direct link to StatefulSet" title="Direct link to StatefulSet">â€‹</a></h3>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StatefulSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">serviceName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hyeonlim/nodejs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumeClaimTemplates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteOnce</span><br></span></code></pre></div></div>
<p>í•´ë‹¹ ì‘ì—…ì„ í†µí•´ì„œ ì•„ë˜ì™€ ê°™ì€ ë¦¬ìŠ¤ì†Œë¥¼ ê°€ì§€ëŠ” PVCë¥¼ ë§Œë“¤ì–´ì£¼ê³ , volumeClaimTemplatesë¥¼ í†µí•´ì„œ Pod ë§ˆë‹¤ ë…ë¦½ì ì¸ PVCë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteOnce</span><br></span></code></pre></div></div>
<p>ìœ„ ì‘ì—…ì´ ë§ˆë¬´ë¦¬ê°€ ë˜ê³  ë‚˜ë©´ load balancerë¥¼ ì„¤ì •í•˜ì—¬ íŠ¸ë˜í”½ì„ Pod ë³„ë¡œ ë¶„ì‚°ì„ ì§„í–‰í•´ì¤˜ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodesjs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-nlb-target-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> internet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">facing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sessionAffinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span></code></pre></div></div>
<p>âœ… ì¤‘ìš”í•œ ì </p>
<ul>
<li>
<p>StatefulSet Podë§ˆë‹¤ ë°ì´í„°ê°€ ë‹¤ë¥´ë©´, ë¡œë“œë°¸ëŸ°ì„œë¡œ ì ‘ê·¼í•œ ì‚¬ìš©ìë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë°›ê²Œ ë¼ìš”. ë”°ë¼ì„œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ</p>
<ul>
<li>
<p>Shared Storage (NFS, S3)ë¥¼ ì‚¬ìš©í•´ìš”.</p>
</li>
<li>
<p>ì‚¬ìš©ì ë§ˆë‹¤ Pod ì ‘ì†ì„ ê³ ì •ì„ ì‹œí‚¬ ìˆ˜ ìˆì–´ìš”. sticky sessionì´ë¼ê³  í•´ìš”. ì•„ë˜ì™€ ê°™ì€ ì˜ˆì‹œë¡œ ì„¤ì •ì„ í•´ì¤„ ìˆ˜ ìˆì–´ìš”.</p>
</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">sessionAffinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClientIP</span><br></span></code></pre></div></div>
</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/til">TIL</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/kubernetes">Kubernetes</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/en/blog/2025/07/16/kubernetes/kubernetes-basic-2-title">Kubernetes Basic(2)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-07-16T00:00:00.000Z">July 16, 2025</time> Â· <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://ifh.cc/g/GagTYM.jpg" alt="ê³ í˜„ë¦¼"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">ê³ í˜„ë¦¼</span></a></div><small class="authorTitle_nd0D" title="í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer">í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer</small><div class="authorSocials_rSDt"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="volume">volume<a href="#volume" class="hash-link" aria-label="Direct link to volume" title="Direct link to volume">â€‹</a></h2>
<ul>
<li>
<p><code>Persistent Volume Access Mode</code>ì˜ ëª¨ë¸ì€ ì•„ë˜ 4ê°œì˜ ëª¨ë“œê°€ ìˆì–´ìš”.</p>
<ul>
<li>ReadWriteOnce (RWO)</li>
<li>ReadOnlyMany (ROX) : ë¡œê·¸ë¥¼ ì£¼ë¡œ ì½ì„ ë•Œ ì‚¬ìš©í•´ìš”.</li>
<li>ReadWriteMany (RWX) : ë¶„ì‚°í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•´ìš”.</li>
<li>ReadWriteOncePOD (RWOP)</li>
</ul>
</li>
<li>
<p>ì»¨í…Œì´ë„ˆëŠ” ë³¼ë¥¨ì„ ë§ˆìš´íŠ¸ë¥¼ í•˜ë©´ POD ì•ˆì—ì„œëŠ” ê³µìœ ê°€ ê°€ëŠ¥í•´ì ¸ìš”. ë…¸ë“œ ì…ì¥ì—ì„œ ë³´ë©´ í•´ë‹¹ ë…¸ë“œì— ì†í•´ìˆëŠ” PODì— ëŒ€í•´ì„œëŠ” ê°™ì´ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”.</p>
</li>
<li>
<p>pv-w-pvc ì™€ pv-w-scì˜ ì°¨ì´ì ì„ ì•„ì‹œë‚˜ìš”?</p>
<ul>
<li>pv-w-pvcëŠ” AWSì˜ Elastic Blokc Store ì˜ ë””ìŠ¤í¬ ì¤‘ í•˜ë‚˜ë¥¼ ë³¼ë¥¨ìœ¼ë¡œ ì„¤ì •í•´ìš”. zoneì— í•´ë‹¹í•˜ëŠ” ë³¼ë¥¨ì„ ì„¤ì •í•˜ê³  í•´ë‹¹ ë³¼ë¥¨ì„ pvë¡œ í•´ì•¼ì§€ë§Œ k8sê°€ í•´ë‹¹ ë³¼ë¥¨ì„ ì¸ì‹ì„ í•´ìš”.
pvcë¥¼ ì„¤ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” storageClassNameì„ ë¹ˆë¬¸ìì—´ë¡œ ë‘ë©´ ë¼ìš”.<!-- -->
<ul>
<li>pvcëŠ” podì™€ ìƒê´€ì´ ì—†ì–´ìš”. podê°€ ì‚­ì œëœë‹¤ê³  í•´ì„œ pvcê°€ ì‚­ì œë˜ëŠ” ê²ƒì€ ì•„ë‹ˆì—ìš”.</li>
</ul>
</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">storageClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><br></span></code></pre></div></div>
<ul>
<li>pv-w-scëŠ” sc(awsì—ì„œëŠ” gp2ë¼ê³  í•´ìš”.)ë¥¼ ì„¤ì •ë§Œ í•´ë‘ë©´ pv-w-pvcì˜ ê³¼ì •ì„ ìë™ìœ¼ë¡œ ì„¤ì •í•´ìš”. ì´í›„ ê³¼ì •ì€ pvcì™€ ë™ì¼í•˜ê²Œ ì§„í–‰ì´ ë˜ìš”. ì´ë ‡ê²Œ ì§„í–‰ì„ ë””ìŠ¤í¬ë¥¼ ì‚­ì œí•˜ê³  ìƒì„±í•˜ëŠ” ì±…ì„ì´ ê°œë°œìë¡œ ì—­í• ì´ ë„˜ì–´ê°€ë©´ì„œ ê´€ë¦¬ìì˜ ê´€ë¦¬ ë¶€ë‹´ì´ ì¤„ì–´ë“¤ì–´ìš”.<!-- -->
<ul>
<li>gp2ë¥¼ defaultë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‘ì„±ì„ í•´ì¤˜ìš”.</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  kubectl patch storageclass gp2 -p &#x27;{&quot;metadata&quot;: {&quot;annotations&quot;:{&quot;storageclass.kubernetes.io/is-default-class&quot;:&quot;true&quot;}}}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ul>
<li>ë”°ë¼ì„œ pvcëŠ” ì •ì  í”„ë¡œë¹„ì €ë‹ì´ë¼ê³  í•˜ê³ , scëŠ” ë™ì  í”„ë¡œë¹„ì €ë‹ì´ë¼ê³  í•´ìš”.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cicd">CICD<a href="#cicd" class="hash-link" aria-label="Direct link to CICD" title="Direct link to CICD">â€‹</a></h2>
<ul>
<li>AWSì—ëŠ” code deploy(CI), commit, code pipe line(CD) ì´ë ‡ê²Œ 3ê°€ì§€ì˜ ì„œë¹„ìŠ¤ê°€ ìˆì–´ìš”.<!-- -->
<ul>
<li>commitì€ ê³§ ì—†ì–´ì§ˆ ì˜ˆì •ì´ì—ìš”.</li>
<li>code deployë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì‚°ì¶œëœ ê²°ê³¼ë¬¼(ì••ì¶• íŒŒì¼)ì„ S3ì— ì €ì¥ì„ í•´ì•¼í•´ìš”. - app.spec.yml íŒŒì¼ì´ ìˆì–´ì•¼ í•´ì—¬.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ci-continuous-integration">CI: continuous Integration<a href="#ci-continuous-integration" class="hash-link" aria-label="Direct link to CI: continuous Integration" title="Direct link to CI: continuous Integration">â€‹</a></h3>
<p>CIì˜ ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ì•„ìš”.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ë¹Œë“œ -&gt; í…ŒìŠ¤íŠ¸(í…ŒìŠ¤íŠ¸ì˜ ì¢…ë¥˜ì—ëŠ” ìœ ë‹› í…ŒìŠ¤íŠ¸, e2e í…ŒìŠ¤íŠ¸, ë¶€í•˜ í…ŒìŠ¤íŠ¸ê°€ ìˆì–´ìš”) -&gt; ì·¨ì•½ì  ê²€ì‚¬ (ì½”ë“œ ì •ì  ë¶„ì„) -&gt; ì½”ë“œ ë¦¬ë·° | ì½”ë“œ ì»¨ë°´ì…˜</span><br></span></code></pre></div></div>
<ul>
<li>ì˜ˆì „ì—ëŠ” ìµœì¢…ì‚°ì¶œë¬¼ì´ Artifactì´ ë‚˜ì™”ì–´ìš”. ArtifactëŠ” .jar ì´ëŸ°ê²Œ ìˆì–´ìš”.</li>
<li>ìš”ì¦˜ì—ëŠ” ìµœì¢…ì‚°ì¶œë¬¼ì´ container imageê°€ ë‚˜ì™€ìš”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cd-continuous-delivery-deployment">CD: continuous Delivery, Deployment<a href="#cd-continuous-delivery-deployment" class="hash-link" aria-label="Direct link to CD: continuous Delivery, Deployment" title="Direct link to CD: continuous Delivery, Deployment">â€‹</a></h3>
<ul>
<li>
<p>DeliveryëŠ” ë§ˆì§€ë§‰ ë°°í¬ëŠ” ì‚¬ë¦¼ì´ ì§ì ‘ ì§„í–‰ì„ í•´ìš”. í•˜ì§€ë§Œ DeploymentëŠ” ë°°í¬í•˜ëŠ” ì „ê³¼ì •ì´ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ìš”.</p>
</li>
<li>
<p>ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” CI,CD íˆ´ì€ github action, gitlab runner, Jenkins, CircleCI pipe, bitbucket pipeline ë“±ì´ í™œìš©ì´ ë¼ìš”.</p>
<ul>
<li>github action : ë§ì´ ì‚¬ìš©ë˜ëŠ” ì´ìœ ëŠ” ì ‘ê·¼í•˜ê¸° ì‰½ê¸° ë•Œë¬¸ì´ì—ìš”. ì½”ë“œê°€ ê³µê°œê°€ ë˜ì–´ìˆì–´ ë³´ì•ˆìƒ ë¬¸ì œê°€ ìˆì„ ê±° ê°™ì§€ë§Œ ë§¤ì¼ fetchê°€ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— ë³´ì•ˆìƒ ì•ˆì „í•´ìš”.</li>
<li>gitlab runner : ì„¤ì¹˜í•´ì„œ ì‚¬ìš©ì„ í•´ìš”. (ê³µê³µê¸°ê´€ ê°™ì€ë°ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•´ìš”.)</li>
<li>Circle CI : ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì—ì„œ ë§ì´ ì‚¬ìš©í•´ìš”.</li>
<li>Jenkins: ìŠ¤í¬ë¦½íŠ¸í˜•ìœ¼ë¡œ ì‘ì„±ë˜ê¸° ë•Œë¬¸ì— ëª…ë ¹í˜•ì´ì—ìš”.</li>
</ul>
</li>
<li>
<p>CDë§Œ ì „ë¬¸ì ìœ¼ë¡œ í•˜ëŠ” ë„êµ¬ë“¤ì´ ìˆëŠ”ë° ë‚˜ì˜¨ ì´ìœ ëŠ” ì»¨í…Œì´ë„ˆê°€ ë‚˜ì˜¤ë©´ì„œ ë°°í¬ ì „ëµì´ ë‹¤ì–‘í•˜ê²Œ ìƒê²¼ê¸° ë•Œë¬¸ì´ì—ìš”.</p>
<ul>
<li>ArgoCD (ì œì¼ ë¹ ë¥´ë‹¤ëŠ” ì  ë•Œë¬¸ì— ì œì¼ ë§ì´ ì‚¬ìš©í•´ìš”.)</li>
<li>FluxCD</li>
<li>Spinnake (ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì´ ì í•©í•´ìš”.)</li>
<li>JenkinsX</li>
</ul>
</li>
</ul>
<hr>
<h1>ì‹¤ìŠµ</h1>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ëœë¤ìœ¼ë¡œ-ëª…ì–¸ì„-ë³´ì—¬ì£¼ëŠ”-ê°„ë‹¨í•œ-ì„œë¹„ìŠ¤empty-dir">ëœë¤ìœ¼ë¡œ ëª…ì–¸ì„ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ì„œë¹„ìŠ¤(empty dir)<a href="#ëœë¤ìœ¼ë¡œ-ëª…ì–¸ì„-ë³´ì—¬ì£¼ëŠ”-ê°„ë‹¨í•œ-ì„œë¹„ìŠ¤empty-dir" class="hash-link" aria-label="Direct link to ëœë¤ìœ¼ë¡œ ëª…ì–¸ì„ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ì„œë¹„ìŠ¤(empty dir)" title="Direct link to ëœë¤ìœ¼ë¡œ ëª…ì–¸ì„ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ì„œë¹„ìŠ¤(empty dir)">â€‹</a></h3>
<p>ì†ë„ê°€ ëŠë¦¬ë‹¤ê³  í•œë‹¤ë©´ ì´ê²ƒì„ ì‚¬ìš©í•´ì„œ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ìš”.
medium: Memoryë¥¼ ì„¤ì •ì„ í•˜ë©´ OSì˜ ë©”ëª¨ë¦¬ ê¸°ë°˜ íŒŒì¼ì‹œìŠ¤í…œì„ ì‚¬ìš©í•´ìš”. ë”°ë¼ì„œ ë””ìŠ¤í¬ë³´ë‹¤ ë” ë¹ ë¥¸ I/O ì„±ëŠ¥ì„ ì œê³µí•´ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cache</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">emptyDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">medium</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sizeLimit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 64Mi</span><br></span></code></pre></div></div>
<p>í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ ê²½ìš° contextëŠ” awsë¡œ ì„¤ì •ì´ ë˜ì–´ìˆì–´ìš”.</p>
<p>ì™œ í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” emptyDirì´ ì ì ˆí• ê¹Œìš”?</p>
<ul>
<li>ëª…ì–¸ ë°ì´í„°ë“¤ì€ íœ˜ë°œì„±/ì„ì‹œ ì½˜í…ì¸ ì´ë¯€ë¡œ, Podê°€ ì¬ì‹œì‘ë˜ë©´ ìƒˆë¡œ ìƒì„±ë˜ì–´ë„ ë¬´ë°©í•´ìš”.</li>
<li>html-generatorê°€ ìƒì„±í•˜ê³ , nginxê°€ ì½ì–´ì•¼í•˜ë¯€ë¡œ ê³µìœ  ìŠ¤í† ë¦¬ì§€ê°€ í•„ìš”í•´ìš”. ê·¸ëŸ°ë° ì™¸ë¶€ ìŠ¤í† ë¦¬ì§€ ì—°ë™ì´ ë¶ˆí•„ìš”í•˜ê¸° ë•Œë¬¸ì´ê¸°ë„ í•´ìš”.</li>
<li>ì†ë„ ì—­ì‹œ ë¹ ë¥´ë‹¤ëŠ” ì¥ì ì´ ìˆì–´ìš”.</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ì•¼í•´ìš”.</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">generator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/htdocs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /usr/share/nginx/html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">readOnly</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">emptyDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># fortune-lb.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># annotationsì„ ì„¤ì • í•´ì£¼ì§€ ì•Šìœ¼ë©´ awsì—ì„œëŠ” ì™¸ë¶€ì— ì ‘ì†ì„ í—ˆìš©í•˜ì§€ ì•Šì•„ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># VPC ì™¸ë¶€ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë„ë¡ í•´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ë…¸ë“œê°€ ì•„ë‹ˆë¼ POD IPë¡œ ì§ì ‘ ì „ë‹¬í•´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-nlb-target-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ê³µì¸ IPë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> internet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">facing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-arg-vs-yaml-env-vs-configmap-env-ë¹„êµ-ì‹¤ìŠµ">Docker ARG vs Yaml ENV vs CONFIGMAP ENV ë¹„êµ ì‹¤ìŠµ<a href="#docker-arg-vs-yaml-env-vs-configmap-env-ë¹„êµ-ì‹¤ìŠµ" class="hash-link" aria-label="Direct link to Docker ARG vs Yaml ENV vs CONFIGMAP ENV ë¹„êµ ì‹¤ìŠµ" title="Direct link to Docker ARG vs Yaml ENV vs CONFIGMAP ENV ë¹„êµ ì‹¤ìŠµ">â€‹</a></h3>
<p>Docker ARGì˜ ê²½ìš°ì—ëŠ” argsë¥¼ ì„¤ì •í•˜ì—¬ ë„˜ê²¨ì¤„ ìˆ˜ ìˆì–´ìš”.</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - image: hyeonlim/fortune:args</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args: [&quot;5&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: html-generator</span><br></span></code></pre></div></div>
<p>ymlì„ í†µí•´ì„œë„ argsë¥¼ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆì–´ìš”. ì„¤ì •ì€ yml íŒŒì¼ì— ì•„ë˜ì™€ ê°™ì´ ì„¤ì •ì„ í•´ì£¼ë©´ ë¼ìš”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ì»¨í…Œì´ë„ˆì˜ ë§¤ê°œë³€ìˆ˜ê°€ ì•„ë‹ˆë¼ í™˜ê²½ë³€ìˆ˜ë¡œ ë“¤ì–´ê°€ìš”. ë”°ë¼ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì „ë‹¬ì„ í•  ìˆ˜ ìˆì–´ìš”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> INTERVAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;30&quot;</span><br></span></code></pre></div></div>
<p>CONFIGMAPì„ ìƒì„±ì„ í•´ì¤„ ìˆ˜ ìˆì–´ìš”. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸ë„ ê°€ëŠ¥í•´ìš”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create configmap fortune-config --from-literal=sleep-interval=7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get cm fortune-config</span><br></span></code></pre></div></div>
<p>ì•„ë˜ ì‚¬ì§„ì˜ clië¥¼ ì…ë ¥í•˜ê²Œ ë˜ë©´ ì‚¬ì§„ê³¼ ê°™ì´ ê°’ì´ ë“¤ì–´ê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
<img src="/img/blog/kubernetes/2025-07-16/img1.png">
<ul>
<li>Kubernetes Podì—ì„œ ConfigMapì˜ ê°’ì„ í™˜ê²½ ë³€ìˆ˜ë¡œ ì£¼ì…í•  ë•Œ ì‚¬ìš©í•˜ì§€ë§Œ ëª©ì ê³¼ ë²”ìœ„ê°€ ë‹¬ë¼ìš”.</li>
</ul>
<img src="/img/blog/kubernetes/2025-07-16/img2.png">
<ul>
<li>í•´ë‹¹ ì‚¬ì§„ì—ì„œëŠ” íŠ¹ì • Keyë§Œ í™˜ê²½ ë³€ìˆ˜ë¡œ ì£¼ì…ì´ ë˜ê³  ê°œë³„ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì´ í•„ìš”í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•´ìš”.</li>
</ul>
<img src="/img/blog/kubernetes/2025-07-16/img3.png">
<ul>
<li>í•´ë‹¹ ì‚¬ì§„ì€ ConfigMapì˜ ëª¨ë“  Keyë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ìë™ ì£¼ì…í•´ìš”. ëª¨ë“  ì„¤ì •ì„ í•œêº¼ë²ˆì— ì£¼ì…í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•´ìš”.</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/til">TIL</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/kubernetes">Kubernetes</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/en/blog/2025/07/16/etc/idea_meeting-title">ê°œë°œí•˜ê¸° ì „ ì•„ì´ë””ì–´ íšŒì˜ ì´ë ‡ê²Œ í•´ë³´ì.</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-07-16T00:00:00.000Z">July 16, 2025</time> Â· <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://ifh.cc/g/GagTYM.jpg" alt="ê³ í˜„ë¦¼"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">ê³ í˜„ë¦¼</span></a></div><small class="authorTitle_nd0D" title="í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer">í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer</small><div class="authorSocials_rSDt"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div class="markdown"><p>cloudwaveì—ì„œ ì§„í–‰í–ˆë˜ idea íšŒì˜ì™€ ê´€ë ¨ëœ íšŒê³ ì—ìš”. ì•ìœ¼ë¡œ ë„ì›€ì´ ë  ê±° ê°™ì•„ì„œ ê¸°ë¡ í•´ë‘ì–´ìš”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì£¼ì œ">ì£¼ì œ<a href="#ì£¼ì œ" class="hash-link" aria-label="Direct link to ì£¼ì œ" title="Direct link to ì£¼ì œ">â€‹</a></h2>
<p><code>ëŒ€í•™ìƒì„ ìœ„í•œ ì™„ë²½í•œ ì•„ì¹¨ ë£¨í‹´ì— ëŒ€í•œ ê³ ë¯¼</code> ì´ì—ìš”. ì´ ë•Œ ìˆ˜ë©´ì„ ì‹œê°„ì„ ì˜ ì§€í‚¤ê³  ì¶”ê°€ì ìœ¼ë¡œ ê±´ê°•í•œ ë£¨í‹´ì„ ë§Œë“œëŠ” ê²ƒì´ ëª©í‘œì¸ ê²ƒì„ ìŠì§€ ë§ì•„ì•¼ í•´ìš”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="process">process<a href="#process" class="hash-link" aria-label="Direct link to process" title="Direct link to process">â€‹</a></h2>
<ol>
<li>
<p><code>07ì‹œ ê¸°ìƒ</code>, <code>09ì‹œ ìë¦¬ ì°©ì„</code> í•´ë‹¹ 2ê°œì˜ ì‹œì‘ì ê³¼ ëì ì€ ê³ ì •ì„ í•œ ìƒíƒœì—ì„œ í†µí•™ ì‹œê°„ì´ 1ì‹œê°„ì„ì„ ê³ ë ¤í•´ì„œ ê°ìì˜ ì•„ì¹¨ ë£¨í‹´ì„ ë§Œë“¤ì–´ìš”.
ex. ê¸°ìƒ -&gt; ì‹ì‚¬ -&gt; ì˜·ì„ ì…ëŠ”ë‹¤ -&gt; ì§‘ì„ ë‚˜ê°„ë‹¤ -&gt; ì§€í•˜ì² ì„ íƒ„ë‹¤ -&gt; .. -&gt; ìë¦¬ì— ì°©ì„í•œë‹¤.</p>
<p>ì´ë ‡ê²Œ ê°ìë§Œì˜ ë£¨í‹´ì„ ë§Œë“¤ì—ˆì–´ìš”.</p>
</li>
<li>
<p>ê°ì ë§Œë“  ë£¨í‹´ë“¤ì„ íŒ€ì›ë“¤ì—ê²Œ ì„¤ëª…ì„ í•´ìš”. ì´ë•Œ íŒ€ì›ë“¤ì€ ëª¨ë“  ì§ˆë¬¸ì— ëŒ€í•´ì„œ ì˜ë¬¸ì„ ê°€ì§€ê³  í•˜ë‚˜í•˜ë‚˜ ë¬¼ì–´ë³´ëŠ” ì‘ì—…ì„ ì§„í–‰ì„ í•´ìš”.</p>
</li>
<li>
<p>ê·¸ë¦¬ê³  ë§Œë“  ë£¨í‹´ ì¤‘ ì œì¼ ê´œì°®ë‹¤ ì•„ë‹ˆë©´ í•´ë³´ê³  ì‹¶ë‹¤ í•˜ëŠ” ì‚¬ëŒì´ ì†ì„ ë“¤ì–´ìš”. í•´ë‹¹ ì†ì„ ë“  ì‚¬ëŒì€ ì´ì œ Product Ownerê°€ ë¼ìš”.</p>
</li>
<li>
<p>ê°ì ë§Œë“  ë£¨í‹´ë“¤ì„ ëª¨ë‘ í•©ì³ìš”. ë™ì¼í•œ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ì„œëŠ” í•˜ë‚˜ì˜ ë¬¸ì œë¡œ ì²˜ë¦¬ë¥¼ í•˜ê³ , ë¶„ì•¼ê°€ ë‹¤ë¥´ë©´ ë¬´ì¡°ê±´ ë¶„ë¦¬ ì‹œí‚¤ëŠ”ê²Œ ì¤‘ìš”í•´ìš”.</p>
</li>
<li>
<p>4ë²ˆì—ì„œ ë§Œë“  ê²°ê³¼ë¬¼ì„ ë°”íƒ•ìœ¼ë¡œ íˆ¬í‘œë¥¼ ì§„í–‰ì„ í•´ìš”. ë¨¼ì € POê°€ ì•„ë‹Œ ì‚¬ëŒë“¤ì´ xê°œì˜ íˆ¬í‘œê¶Œì„ ê°€ì§€ê³  ê¼­ ìˆì–´ì•¼ í•˜ëŠ” ê²ƒë“¤ì— ëŒ€í•´ì„œ íˆ¬í‘œë¥¼ ì§„í–‰í•´ìš”. ê·¸ë¦¬ê³  POëŠ” íˆ¬í‘œê¶Œì˜ ìˆ˜ì™€ ê´€ê³„ ì—†ì´ íˆ¬í‘œë¥¼ í•˜ëŠ”ë° ì´ ë•Œ POê°€ ì„ íƒí•œ ê²ƒì€ ë¬´ì¡°ê±´ ì±„íƒì´ ë˜ê¸° ë•Œë¬¸ì— POì˜ ì„ íƒìœ¼ë¡œ ì œí’ˆì˜ ë°©í–¥ì„±ì´ ë°”ë€” ìˆ˜ë„ ìˆì–´ìš”.</p>
</li>
<li>
<p>íˆ¬í‘œë¥¼ í•œ ê²ƒì„ ë°”íƒ•ìœ¼ë¡œ 4ë²ˆì— ë§Œë“  íë¦„ ë°‘ì— ê²€ì€ ì¤„ì„ í•˜ë‚˜ ë§Œë“¤ê³ , í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì¶œë°œ ì‹œê°„ì„ 07ì‹œ 30ë¶„ì— ì¶œë°œí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³€ê²½ì„ í–ˆì„ ë•Œ, 5ë²ˆì˜ ê²°ê³¼ì—ì„œ ê¼­ í•„ìš” ì—†ëŠ” ê²ƒë“¤ì„ ì•„ë˜ ì¹¸ìœ¼ë¡œ ë‚´ë ¤ìš”. ì´ ë•Œ POì˜ ì„ íƒì€ ì ˆëŒ€ ë‚´ë¦¬ì§€ ì•Šì•„ìš”.</p>
</li>
<li>
<p>6ë²ˆì˜ ê²°ê³¼ë¬¼ ë°‘ì— ê²€ì€ ì¤„ì„ í•˜ë‚˜ ë˜ ë§Œë“¤ê³ , ê·¸ ë‹¤ìŒì— í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¶œ ì‹œê°„ì´ 07ì‹œ 50ë¶„ì´ë¼ê³  í–ˆì„ ë•Œ ê¼­ í•„ìš”í•œ ê²ƒë“¤ë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ëŠ” ë‚´ë¦¬ëŠ” ì‘ì—…ì„ ì§„í–‰ì„ í•´ìš”.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ìš°ë¦¬ê°€-í–ˆë˜-ê²ƒì—-ëŒ€í•œ-ê²°ê³¼ë¬¼">ìš°ë¦¬ê°€ í–ˆë˜ ê²ƒì— ëŒ€í•œ ê²°ê³¼ë¬¼<a href="#ìš°ë¦¬ê°€-í–ˆë˜-ê²ƒì—-ëŒ€í•œ-ê²°ê³¼ë¬¼" class="hash-link" aria-label="Direct link to ìš°ë¦¬ê°€ í–ˆë˜ ê²ƒì— ëŒ€í•œ ê²°ê³¼ë¬¼" title="Direct link to ìš°ë¦¬ê°€ í–ˆë˜ ê²ƒì— ëŒ€í•œ ê²°ê³¼ë¬¼">â€‹</a></h2>
<ul>
<li>
<p>ê·¸ëŸ¬ë©´ ì´ 3ê°œì˜ ì˜ì—­ì´ ë‚˜ì˜¤ê²Œ ë˜ëŠ”ë° ì´ ë•Œ 07ì‹œ 50ë¶„ì¼ ë•Œ ê¼­ í•˜ëŠ” ê²ƒì´ MVPê°€ ë˜ê³  ì´ëŠ” fixê°€ ë¼ìš”. ê·¸ë¦¬ê³  ì•„ë¦¬ 07ì‹œ 30ë¶„ì— ì§„í–‰í•˜ëŠ” ê²ƒì´ release 1 ë˜ê³  ê·¸ ì´í›„ëŠ” release 2ê°€ ë¼ìš”.</p>
</li>
<li>
<p>ìš°ë¦¬ëŠ” í•´ë‹¹ ê³¼ì •ì„ í•´ì˜¤ë©´ì„œ ê¸°ëŠ¥ì„ ì‹œê°„ ìˆœìœ¼ë¡œ í‘œì‹œë¥¼ í–ˆì–´ìš”. ì™œëƒí•˜ë©´ ì™„ë£Œ ì‹œê°„ì€ ê³ ì •ì´ ë˜ì–´ìˆê¸° ë•Œë¬¸ì´ì—ìš”. ë˜í•œ ë°œì‚°í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ê³ , ë™ì¼í•œ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ì„œ ì˜ê²¬ì„ í•©ì¹˜ë©´ì„œ ìˆ˜ë ´í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ì–´ìš”.</p>
</li>
<li>
<p>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ ê° releaseëŠ” 1ê°œì˜ ê¸°ëŠ¥ì„ í•´ì•¼í•´ìš”. ì¦‰ ìë™ì°¨ë¥¼ ë§Œë“œëŠ” MVPê°€ ìˆì—ˆë‹¤ê³  í•œë‹¤ë©´. ë‹¤ìŒ releaseëŠ” ë°”í€´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì˜¤í† ë°”ì´ë‚˜ í˜¹ì€ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ í•˜ëŠ” ê²ƒì´ ë§Œë“¤ì–´ì ¸ì•¼ í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”.</p>
</li>
<li>
<p>ë˜í•œ ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” ì•„ì§ ì•ˆì •í•œê²Œ ìˆëŠ”ë° ë°”ë¡œ í˜ë¥´ì†Œë‚˜ì—ìš”. ëŒ€í•™ìƒì„ íƒ€ê²Ÿìœ¼ë¡œ í–ˆëŠ”ë° ì–´ë–¤ ëŒ€í•™ìƒì„ íƒ€ê²Ÿìœ¼ë¡œ í–ˆëŠ”ì§€ ê¸°ì¤€ì´ ì—†ì–´ìš”. í˜ë¥´ì†Œë‚˜ê°€ ì—†ë‹¤ë©´ ì œí’ˆì´ ì–´ë– í•œ ë°©í–¥ìœ¼ë¡œ ë‚˜ì•„ê°€ëŠ”ì§€ì— ëŒ€í•´ì„œ ë¶ˆëª…í™•í•´ì§€ê³  í”„ë¡œì íŠ¸ê°€ ì›í•˜ëŠ” ë°©í–¥ì„±ìœ¼ë¡œ í˜ëŸ¬ê°€ì§€ ëª»í•  ìˆ˜ ìˆì–´ìš”.</p>
</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/til">TIL</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/etc">Etc</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/en/blog/2025/07/15/kubernetes/kubernetes-basic-1-title">kubernetes Basic (1)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-07-15T00:00:00.000Z">July 15, 2025</time> Â· <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://ifh.cc/g/GagTYM.jpg" alt="ê³ í˜„ë¦¼"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">ê³ í˜„ë¦¼</span></a></div><small class="authorTitle_nd0D" title="í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer">í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer</small><div class="authorSocials_rSDt"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="#deployment" class="hash-link" aria-label="Direct link to Deployment" title="Direct link to Deployment">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-recreate-ì¬ê°€ë™-ë°©ì‹-v1--v2">1. RECREATE (ì¬ê°€ë™ ë°©ì‹: v1 â†’ v2)<a href="#1-recreate-ì¬ê°€ë™-ë°©ì‹-v1--v2" class="hash-link" aria-label="Direct link to 1. RECREATE (ì¬ê°€ë™ ë°©ì‹: v1 â†’ v2)" title="Direct link to 1. RECREATE (ì¬ê°€ë™ ë°©ì‹: v1 â†’ v2)">â€‹</a></h3>
<p>íŠ¹ì§•: ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ë°œìƒ</p>
<p>ì¥ì : ì„¤ì •ì´ ì‰¬ì›€</p>
<p>ë¹„ê³ : í˜„ì—…ì—ì„œ ê°€ì¥ í”íˆ ì‚¬ìš©ë˜ë©°, ì„œë¹„ìŠ¤ ì¤‘ë‹¨ì„ ê°ìˆ˜í•´ì•¼ í•˜ëŠ” ë°©ì‹</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ramped-rolling-update">2. RAMPED (Rolling Update)<a href="#2-ramped-rolling-update" class="hash-link" aria-label="Direct link to 2. RAMPED (Rolling Update)" title="Direct link to 2. RAMPED (Rolling Update)">â€‹</a></h3>
<p>íŠ¹ì§•: ìˆœì°¨ì ìœ¼ë¡œ ì—°ê²° ì‹œë„ â†’ ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤ ì œê³µ</p>
<p>ì„¤ì • ë°©ë²•:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RollingUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">maxSurge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ì˜ˆ) 1 â†’ replicas + maxSurge ë§Œí¼ pod ìƒì„± ê°€ëŠ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">maxUnavailable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ì˜ˆ) 1 â†’ replicas ì¤‘ ë™ì‹œì— ì¤‘ë‹¨ ê°€ëŠ¥í•œ pod ìˆ˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â‡’ ìœ„ 2ê°œì˜ ì˜µì…˜ì„ í†µí•´ì„œ ì¬ê°€ë™ ì†ë„ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŒ</span><br></span></code></pre></div></div>
<p>ì¶”ê°€ ì„¤ì •<!-- -->:Sticky<!-- --> session: ë²„ì „ ê°„ ì´ë™ ë°©ì§€</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-blue--green-ë°°í¬">3. Blue / Green ë°°í¬<a href="#3-blue--green-ë°°í¬" class="hash-link" aria-label="Direct link to 3. Blue / Green ë°°í¬" title="Direct link to 3. Blue / Green ë°°í¬">â€‹</a></h3>
<p>íŠ¹ì§•: selectorì˜ ë²„ì „ ë³€ê²½ìœ¼ë¡œ ì „ì²´ êµì²´</p>
<p>ì‚¬ìš© ëª©ì :ê°œë°œ ë²„ì „ì„ ìš´ì˜ì— ë°”ë¡œ ë°˜ì˜í•´ì•¼ í•˜ëŠ” ìƒí™©</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-canary-ë°°í¬">4. Canary ë°°í¬<a href="#4-canary-ë°°í¬" class="hash-link" aria-label="Direct link to 4. Canary ë°°í¬" title="Direct link to 4. Canary ë°°í¬">â€‹</a></h3>
<p>íŠ¹ì§•: rampedì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ì¼ë¶€ íŠ¸ë˜í”½ìœ¼ë¡œ ë¨¼ì € ì•ˆì •ì„± ê²€ì¦ í›„ ì „ì²´ ì´ì „</p>
<p>ì„¤ì •: replicas: 9(v1), 1(v2) ì„¤ì •, RouteRuleì˜ route â†’ weight ì„¤ì •ìœ¼ë¡œ ì†ì‰½ê²Œ ì„¤ì • ê°€ëŠ¥</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-ab-í…ŒìŠ¤íŠ¸">5. A/B í…ŒìŠ¤íŠ¸<a href="#5-ab-í…ŒìŠ¤íŠ¸" class="hash-link" aria-label="Direct link to 5. A/B í…ŒìŠ¤íŠ¸" title="Direct link to 5. A/B í…ŒìŠ¤íŠ¸">â€‹</a></h3>
<p>íŠ¹ì§• : header, cookie ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ê·¸ë£¹ ë¶„ë¦¬</p>
<p>ì‚¬ìš© ëª©ì : UIë‚˜ ê¸°ëŠ¥ ê°œì„ ì˜ íš¨ê³¼ë¥¼ í™•ì¸í•˜ê³ ì í•  ë•Œ (ìƒˆë¡œìš´ UIê°€ êµ¬ë§¤ìœ¨ì„ ë†’ì´ëŠ”ì§€ í™•ì¸)</p>
<p>ì„¤ì •: matchì— header ì¡°ê±´ ì¶”ê°€</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-shadow-íŠ¸ë˜í”½-ë¯¸ëŸ¬ë§">6. Shadow íŠ¸ë˜í”½ (ë¯¸ëŸ¬ë§)<a href="#6-shadow-íŠ¸ë˜í”½-ë¯¸ëŸ¬ë§" class="hash-link" aria-label="Direct link to 6. Shadow íŠ¸ë˜í”½ (ë¯¸ëŸ¬ë§)" title="Direct link to 6. Shadow íŠ¸ë˜í”½ (ë¯¸ëŸ¬ë§)">â€‹</a></h3>
<p>ì‚¬ìš© ëª©ì : ê¸°ì¡´ ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ (ì˜ˆì‹œ : Monolith â†’ Microservice êµ¬ì¡° ì „í™˜ ì‹œ ìœ ìš©)</p>
<p>ì„¤ì •: mirror ì„¤ì •ìœ¼ë¡œ ì‹¤ì œ ìš”ì²­ì„ ë³µì œí•˜ì—¬ í…ŒìŠ¤íŠ¸ í™˜ê²½ìœ¼ë¡œ ì „ë‹¬</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a href="#service" class="hash-link" aria-label="Direct link to Service" title="Direct link to Service">â€‹</a></h2>
<p>ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì„œë¹„ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ì´ë‹¤. (ë¬¼ë¦¬ì ì¸ ê²ƒì´ ì•„ë‹ˆë‹¤.)</p>
<p>(ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ podê°€ ì£½ê³  ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™í•˜ë©´ IPê°€ ë³€ë™ì´ë˜ëŠ”ë°, ì¿ ë²„ë„¤í‹°ìŠ¤ ì•ˆì—ëŠ” ê·œì¹™ ê¸°ë°˜ì˜ DNS ì„œë²„ìŠ¤ê°€ ìˆë‹¤.)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-ip">cluster IP<a href="#cluster-ip" class="hash-link" aria-label="Direct link to cluster IP" title="Direct link to cluster IP">â€‹</a></h3>
<p>ë””í´íŠ¸ ì„œë¹„ìŠ¤, layer4 =&gt; ë‚´ë¶€ì—ë§Œ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-port">Node Port<a href="#node-port" class="hash-link" aria-label="Direct link to Node Port" title="Direct link to Node Port">â€‹</a></h3>
<p>íŠ¸ë˜í”½ì´ ì˜¤ë©´ ë…¸ë“œì˜ íŠ¹ì • í¬íŠ¸ì— ë„ì°©í•˜ê³ , í´ëŸ¬ìŠ¤í„° IPë¡œ ê°€ê³  ì´ë¥¼ ë¶„ê¸° ì‹œí‚¨ë‹¤.</p>
<ul>
<li>ê°œë°œìë“¤ì´ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ê³  ì›¬ë§Œí•˜ë©´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
<li>ë…¸ë“œë¥¼ ë§Œë“œëŠ” ì´ìœ ëŠ”?<!-- -->
<ul>
<li>íŠ¸ë˜í”½ì´ ëª°ë¦¬ëŠ” ê²ƒì„ ë°˜ì‘í•˜ê¸° ìœ„í•¨ì´ë‹¤.</li>
<li>ì–´ë–¤ ë…¸ë“œì— ê·œì¹™ì„ ì ìš©í•´ì„œ ì‘ì—…í•˜ê¸° ìœ„í•¨ì´ë‹¤.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="load-balancer">Load Balancer<a href="#load-balancer" class="hash-link" aria-label="Direct link to Load Balancer" title="Direct link to Load Balancer">â€‹</a></h3>
<p>íŠ¸ë˜í”½ì´ ë“¤ì–´ì˜¤ë©´ ë‚˜ë†ˆ. cluster ipì™€ ë‹¤ë¥¸ ì ì€ cluster ipëŠ” ë‚´ë¶€ì— ìˆê³  ë¡œë“œë°¸ëŸ°ì„œëŠ” ì™¸ë¶€ì— ìœ„ì¹˜í•´ìˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingress">Ingress<a href="#ingress" class="hash-link" aria-label="Direct link to Ingress" title="Direct link to Ingress">â€‹</a></h3>
<p>ì™¸ë¶€ì— ìœ„ì¹˜ì— ìˆìŒ. ë¡œë“œ ë°¸ëŸ°ì„œì™€ì˜ ì°¨ì´ì ì€ ë¡œë“œ ë°¸ëŸ°ì„œëŠ” layer4ì´ê³  IngressëŠ” layer7ì´ë‹¤. (layer1~layer7ê¹Œì§€ í™•ì¸ì„ í•´ë³¼ ìˆ˜ ìˆë‹¤.)</p>
<p>ì‚¬ìš©ìê°€ xxx.xxx.xxx.comì´ ì ‘ì†ì„ í•˜ë©´
igwë¥¼ í†µí•´ ingress(í¼ë¸”ë¦­ ë„ë©”ì¸ì´ ìë™ í™œë™, ALB, NLB)ì— ë“¤ì–´ì˜¤ê³  k8s ì„œë¹„ìŠ¤ì— ì ‘ì†ì´ ëœë‹¤. ì²« ë²ˆì§¸ ê»ë°ê¸°ëŠ” replicaset ë‘ ë²ˆì§¸ ê»ë°ê¸°ëŠ” deployment
ingressë§Œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë‚´ë¶€ ì„œë¹„ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í†µì‹ ì´ ëœë‹¤.</p>
<p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì•ˆì— LB controllerê°€ ingressë¥¼ ìƒì„±í•˜ê³ , ìƒíƒœë¥¼ ê°ì‹œí•œë‹¤. ê·¸ë¦¬ê³  ì‚­ì œë„ í•´ì¤€ë‹¤.</p>
<ul>
<li>ingressë¥¼ ì‚­ì œí•˜ê³  í…Œë¼í¼ì„ ì‚­ì œí•˜ëŠ” ê²ƒì´ ë” ë¹ ë¥´ë‹¤. ingressëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ì´ê¸° ë•Œë¬¸ì´ë‹¤.</li>
</ul>
<p>âœ… <strong>ì™œ ELB IPê°€ 3ê°œ ë‚˜ì˜¤ëŠ”ê°€?</strong></p>
<img src="/img/blog/kubernetes/2025-07-15/img1.png" alt="ì„¤ëª…" width="600">
<p>AWSì—ì„œ Network Load Balancer(NLB)ëŠ” <strong>ì„œë¸Œë„·ì´ ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê°€ìš©ì˜ì—­(AZ)</strong> ì— <strong>ìë™ìœ¼ë¡œ
IPë¥¼ í• ë‹¹</strong>í•©ë‹ˆë‹¤. ì´ëŠ” ê³ ê°€ìš©ì„±(High Availability)ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ë™ì‘ì´ë‹¤.</p>
<ol>
<li>ì„œìš¸ ë¦¬ì „(<code>ap-northeast-2</code>)ì—ì„œ VPC ìƒì„±</li>
</ol>
<ul>
<li>ì•„ë˜ì™€ ê°™ì´ <strong>3ê°œì˜ í”„ë¼ì´ë¹— ì„œë¸Œë„· ìƒì„±</strong>:</li>
</ul>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">variable &quot;private_subnet_cidrs&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = map(string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a = &quot;10.1.4.0/24&quot;  // ap-northeast-2a (8ì¸µ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b = &quot;10.1.5.0/24&quot;  // ap-northeast-2b (9ì¸µ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c = &quot;10.1.6.0/24&quot;  // ap-northeast-2c (10ì¸µ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<ol start="2">
<li>EKS í´ëŸ¬ìŠ¤í„° ìƒì„±</li>
</ol>
<p><img src="/img/blog/kubernetes/2025-07-15/img2.png" alt="ì„¤ëª…" width="600">-</p>
<p>EKSí´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ë©´ ë…¸ë“œ ê·¸ë£¹ì„ êµ¬ì„± - ë…¸ë“œëŠ” 2ê°œì—ë§Œ ë°°ì¹˜ê°€ ëœë‹¤.</p>
<ol start="3">
<li>Ingress ìƒì„±</li>
</ol>
<ul>
<li>Ingress ë¦¬ì†Œì„œë¥¼ ìƒì„±ì„ í•˜ë©´ AWSì—ì„œ NLB ìë™ ìƒì„±</li>
<li>NLBëŠ” ì—°ê²°ëœ ì„œë¸Œë„·ì— ìˆëŠ” ëª¨ë“  AZì— IPë¥¼ í• ë‹¹</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="headless-service">Headless service<a href="#headless-service" class="hash-link" aria-label="Direct link to Headless service" title="Direct link to Headless service">â€‹</a></h3>
<p>ì•„ë˜ì™€ ê°™ì´ ì„¤ì •ì„ í•˜ë©´ headless serviceê°€ ëœë‹¤.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">clusterIP</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span></code></pre></div></div>
<p>Headlessë¥¼ í•˜ë©´ podë¡œ ê°€ëŠ”ê²Œ ì•„ë‹ˆë¼ podì˜ backendì˜ IPì£¼ì†Œë¥¼ ì¤€ë‹¤.</p>
<p>ì–´ë””ì— ì“°ëŠ”ì§€? ì™œ ì“°ëŠ”ì§€?
ë¶„ì‚°í˜• ë°ì´í„° ì €ì¥ ì„œë¹„ìŠ¤(DB, Messeage Queue, InMemory DB)</p>
<ol>
<li>í´ë¼ì´ì–¸íŠ¸ ì—°ê²°</li>
<li>ëª‡ ê°œê°€ ì‚´ì•„ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ</li>
<li><strong>íŠ¹ì • ë…¸ë“œì˜ ë°ì´í„°ë¥¼ í™•ì¸í•´ì•¼í•  ë•Œ -&gt; ì´ê²Œ í•µì‹¬</strong></li>
</ol>
<p>ë¶„ì‚°í˜• ë°ì´í„°ë² ì´ìŠ¤ (Cassandra, Mongo, Redis)ì— ì €ì¥ì´ ë  ë•Œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” Hash Algorithmì„ ì“´ë‹¤. ì´ ë•Œ ë…¸ë“œì— ì €ì¥ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ë…¸ë“œì˜ ì •ë³´ë¥¼ ì•Œì•¼ì•„í•˜ëŠ”ë° ì–´ë¥¼ ë•Œ ë…¸ë“œì˜ ì •ë³´ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´ì„œ Headlessë¥¼ ì´ìš©í•œë‹¤.</p>
<ul>
<li>Hash Algorithmì„ ì‚¬ìš©í•  ë•Œ Nodeì˜ ê°¯ìˆ˜ê°€ ì•½ 10 ì´ìƒì˜ ì†Œìˆ˜ì¸ ê²½ìš°ì— evení•˜ê²Œ ê°’ì´ ë¶„ì‚°ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="volume">volume<a href="#volume" class="hash-link" aria-label="Direct link to volume" title="Direct link to volume">â€‹</a></h3>
<p>docker image layerì— hash ê°’ì´ ìˆëŠ” ì´ìœ ëŠ” ?</p>
<p>ê°€ìƒ ë¨¸ì‹ ì˜ ë””ìŠ¤í¬ë¥¼ ì“°ê²Œ ëœë‹¤ë©´, í•˜ë‚˜ë§Œ ìˆ˜ì •í•´ë„ ì „ì²´ê°€ ë³€ê²½ì´ ëœë‹¤. ì´ ë•Œ docker ì˜ layerë¥¼ ìƒê°ì„ í•˜ë©´ ìºì‹œë¥¼ í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. ë”°ë¼ì„œ ë³€ê²½ì´ ë˜ë©´ í•´ì‹œ ê°’ì´ ë°”ë€œìœ¼ë¡œ ì¸í•´ì„œ ë³€ê²½ ì‚¬í•­ì„ íŒŒì•… ê°€ëŠ¥í•˜ë‹¤.</p>
<p>ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œëœë‹¤ë©´? ë‹¤ ì‚¬ë¼ì§.
-&gt; ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ì–´ë„ ë°ì´í„°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì™¸ë¶€ ë””ìŠ¤í¬ ë³¼ë¥¨ì„ ë§ˆìš´íŠ¸ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<ul>
<li>
<p>EmptyDir: Podê°€ ì¢…ë£Œë˜ë©´ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤. (ì¦‰ Podì™€ ë™ì¼í•œ LifeCycleì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.) --&gt; ê·¸ëŸ°ë° ì™œ ì“¸ê¹Œìš”? ëŒ€ê·œëª¨ ê¸°ë°˜ ì •ë ¬ ì‘ì—…, Pod ë‚´ì˜ ì»¨í…Œì´ë„ˆ ê°„ íŒŒì¼ êµí™˜ì„ í•˜ê¸° ìœ„í•¨ì´ì—ìš”.</p>
</li>
<li>
<p>HostPath: podê°€ ì¢…ë£Œë˜ì–´ë„ ìƒíƒœê°€ ìœ ì§€ê°€ ë©ë‹ˆë‹¤. ë‹¤ë§Œ PodëŠ” í•­ìƒ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™ ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë‚  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>persistent volume(PV)</p>
<ul>
<li>block disk (ë…¸íŠ¸ë¶ c drive) : ë™ì‹œì— ì½ì„ ìˆ˜ëŠ” ìˆì§€ë§Œ, ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. | ìˆœì„œê°€ ì œì¼ ë¹ ë¦…ë‹ˆë‹¤.</li>
<li>network file disk(systme) = NFS : ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ì ‘ê·¼í•˜ì—¬ ë™ì‹œì— ì“¸ ìˆ˜ ìˆê³ , ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. | 2ìˆœìœ„</li>
<li>object dist (aws S3) : 3ìˆœìœ„ =&gt; ëŒ€ê·œëª¨ ì‘ì—…ì€ ì—¬ê¸°ì„œ ì§„í–‰ì„ í•©ë‹ˆë‹¤. ì™œ ê·¸ëŸ´ê¹Œìš”? Append only, íŒŒì¼ì„ ì—´ì–´ì„œ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. =&gt; ì™œ ê·¸ëŸ´ê¹Œìš”? ë¶„ì‚° ì‘ì—…ì— ìœ ë¦¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (ì—°ì‚° ì¤‘ì— ë³€ê²½ì„ í•˜ë©´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•´ì•¼í•˜ëŠ”ë°, ì´ëŸ° ì‘ì—…ì„ ì• ì´ˆì— ë‹«ì•„ë²„ë¦½ë‹ˆë‹¤.)</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ì‹¤ìŠµ">ì‹¤ìŠµ<a href="#ì‹¤ìŠµ" class="hash-link" aria-label="Direct link to ì‹¤ìŠµ" title="Direct link to ì‹¤ìŠµ">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-httpd-ë°°í¬--ì´ë¯¸ì§€-ì—…ë°ì´íŠ¸--ë¡¤ë°±--ì‚­ì œ">1. HTTPD ë°°í¬ â†’ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ â†’ ë¡¤ë°± â†’ ì‚­ì œ<a href="#1-httpd-ë°°í¬--ì´ë¯¸ì§€-ì—…ë°ì´íŠ¸--ë¡¤ë°±--ì‚­ì œ" class="hash-link" aria-label="Direct link to 1. HTTPD ë°°í¬ â†’ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ â†’ ë¡¤ë°± â†’ ì‚­ì œ" title="Direct link to 1. HTTPD ë°°í¬ â†’ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ â†’ ë¡¤ë°± â†’ ì‚­ì œ">â€‹</a></h3>
<p>ì•„ë˜ íŒŒì¼ í†µí•´ì„œ httpdë¥¼ ì„¤ì¹˜í•œë‹¤.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2.4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre></div></div>
<p><strong>1. Deployment</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./deploy-practice.yml</span><br></span></code></pre></div></div>
<ul>
<li>httpd-deployment ë¼ëŠ” ì´ë¦„ì˜ deploymentê°€ ìƒì„±ì´ ëœë‹¤.</li>
<li>PODëŠ” ê¸°ë³¸ ì„¤ì •ì— ë”°ë¼ì„œ ì ìš©ì´ ëœë‹¤.</li>
</ul>
<p><strong>2. ë³€ê²½ ì‚¬ìœ (Revision 1) ì£¼ì„(Annotation) ì¶”ê°€</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause=&quot;first&quot;</span><br></span></code></pre></div></div>
<ul>
<li>ê¸°ë¡ì— &quot;first&quot;ë¼ëŠ” ì„¤ëª…ì„ ì¶”ê°€í•œë‹¤.</li>
<li>rollout history ì— Revision 1ë¡œ ê¸°ë¡ì´ ëœë‹¤.</li>
</ul>
<p><strong>3. ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ ë° ë³€ê²½ ì‚¬ìœ  ë“±ë¡ (Revision 2)</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl set image deploy httpd-deployment httpd=httpd:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause=&quot;update latest&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ul>
<li>httpd ì»¨í„°ì´ë„ˆì˜ ì´ë¯¸ì§€ê°€ httpd<!-- -->:latest<!-- -->ë¡œ ì—…ë°ì´íŠ¸ê°€ ëœë‹¤.</li>
<li>update latest ë¡œ ì£¼ì„ ì¶”ê°€ê°€ ëœë‹¤.</li>
</ul>
<p><strong>4. ë¡¤ì•„ì›ƒ ìƒíƒœ í™•ì¸ ë° íŒŒë“œ í™•ì¸</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl rollout status deploy httpd-deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -l app=httpd</span><br></span></code></pre></div></div>
<ul>
<li>íŒŒë“œê°€ ì •ìƒì ìœ¼ë¡œ ë°°í¬ê°€ ëœë‹¤.</li>
</ul>
<p><strong>5. Scale out</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl scale deploy httpd-deployment --replicas=5</span><br></span></code></pre></div></div>
<ul>
<li>ë ˆí”Œë¦¬ì¹´ ìˆ˜ê°€ 5ê°œë¡œ ì¦ê°€ê°€ ëœë‹¤. ê¸°ì¡´ì—ì„œ 2ê°œ ì¶”ê°€ê°€ ëœë‹¤.</li>
</ul>
<p><strong>6. Rollback</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl rollout undo deploy httpd-deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause=&quot;rollback&quot;</span><br></span></code></pre></div></div>
<ul>
<li>ì´ì „ ë¹„ì „ìœ¼ë¡œ ë¡¤ë°±ì´ ì§„í–‰ì´ ëœë‹¤.</li>
<li>ë¡¤ë°± ì‚¬ìœ ëŠ” rollbackìœ¼ë¡œ ê¸°ë¡</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/til">TIL</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/kubernetes">Kubernetes</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/en/blog/2025/07/14/docker/docker-basic-1-title">Docker Basic(1)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-07-14T00:00:00.000Z">July 14, 2025</time> Â· <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://ifh.cc/g/GagTYM.jpg" alt="ê³ í˜„ë¦¼"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">ê³ í˜„ë¦¼</span></a></div><small class="authorTitle_nd0D" title="í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer">í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer</small><div class="authorSocials_rSDt"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div class="markdown"><p>cloudwave 6ê¸° ìˆ˜ì—…ì—ì„œ ë“¤ì€ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</p>
<blockquote>
<p><a href="https://docs.docker.com/manuals/" target="_blank" rel="noopener noreferrer">Docker DOCS</a></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerë¥¼-ì‚¬ìš©í•˜ëŠ”-ì´ìœ ">Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ <a href="#dockerë¥¼-ì‚¬ìš©í•˜ëŠ”-ì´ìœ " class="hash-link" aria-label="Direct link to Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ " title="Direct link to Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ">â€‹</a></h3>
<p>ë„ì»¤ë¥¼ í™œìš©í•˜ëŠ” ì´ìœ ëŠ” í¬ê²Œ ë³´ë©´ ì„œë¹„ìŠ¤ì˜ ì¶”ìƒí™”ì…ë‹ˆë‹¤. HOST í™˜ê²½ê³¼ ì„œë¹„ìŠ¤ë¥¼ ê²©ë¦¬ ì‹œí‚´ìœ¼ë¡œì„œ</p>
<ol>
<li>
<p>ì„œë¹„ìŠ¤ë¥¼ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>ê²©ìì˜ ì—­í• ë¡œ ì´ë“¤ì„ ì¡°ë¦½í•˜ì—¬ ìƒˆë¡œìš´ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</li>
</ol>
<p>ì´ì™€ ê°™ì€ ì´ì ì´ ìˆì–´ ë„ì»¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile">Dockerfile<a href="#dockerfile" class="hash-link" aria-label="Direct link to Dockerfile" title="Direct link to Dockerfile">â€‹</a></h3>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># BASE_IMAGEì— @ë¥¼ í™œìš©í•œ tagë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ latestë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># FROMì€ ê¸°ë³¸ì ìœ¼ë¡œ í•œ ë²ˆë§Œ ì‚¬ìš©ì´ ë˜ëŠ”ë° 2ë²ˆ ì´ìƒ ì‚¬ìš©ì— ëŒ€í•´ì„œëŠ” ì•„ë˜ì—ì„œ ì„¤ëª…ì„ í•˜ê² ìŠµë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM BASE_IMAGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì»¨í…Œì´ë„ˆ ë‚´ì˜ working directoryë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR &lt;ê²½ë¡œ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># í¬íŠ¸ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œì„ í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE &lt;í¬íŠ¸ë²ˆí˜¸&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ADDì˜ ê²½ìš°ì—ëŠ” githubê³¼ ê°™ì€ RemotePathê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ë„£ê³ ì í•˜ëŠ” íŒŒì¼: ìƒëŒ€ ê²½ë¡œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì»¨í…Œì´ë„ˆ ë‚´ ê²½ë¡œ : ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADD &lt;ë„£ê³ ìí•˜ëŠ” íŒŒì¼ì˜ ê²½ë¡œ&gt; &lt;ì»¨í…Œì´ë„ˆ ë‚´ ê²½ë¡œ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY &lt;ë„£ê³ ìí•˜ëŠ” íŒŒì¼ì˜ ê²½ë¡œ&gt; &lt;ì»¨í…Œì´ë„ˆ ë‚´ ê²½ë¡œ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ê³¼ì •ì— ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN &lt;ëª…ë ¹ì–´&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CMD ê°™ì€ ê²½ìš°ì—ëŠ” docker runì‹œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ENTRYPOINTëŠ” ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD &lt;ëª…ë ¹ì–´ ì •ì˜&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT &lt;í•„ìˆ˜ ì‹¤í–‰ ëª…ë ¹ì–´&gt;</span><br></span></code></pre></div></div>
<ul>
<li>
<p>ì´ë¯¸ì§€ì—ì„œëŠ” tagì™€ digestë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. tagì˜ ê²½ìš°ì—ëŠ” ì‹œì ì— ë”°ë¼ì„œ ì´ë¯¸ì§€ê°€ ìƒì´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ digestëŠ” ì™„ì „íˆ ê³ ì •ì´ ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>í†µìš©ë˜ì§„ ì•Šì§€ë§Œ <strong>ARGì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì œì™¸</strong>í•œë‹¤ë©´ í•œì¤„ì˜ ë„ì»¤ íŒŒì¼ ëª…ë ¹ì–´ í•œ ì¤„ë§ˆë‹¤ ë ˆì´ì–´ê°€ ë˜ë©°, ë ˆì´ì–´ë“œë¥´ì¸ ê¸°ë³¸ì ìœ¼ë¡œ Read Only ìƒíƒœë¥¼ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.</p>
<blockquote>
<p>ARG ê°’ì„ Application ë‚´ë¶€ì—ì„œ ì‚¬ìš©ì„ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— êµ³ì´ Layerë¡œ ë§Œë“¤ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
</blockquote>
</li>
<li>
<p>ë ˆì´ì–´ì˜ ìµœìƒë‹¨ì—ëŠ” <strong>container layer</strong>ê°€ ì¡´ì¬í•˜ëŠ”ë° í•´ë‹¹ ë ˆì´ì–´ëŠ” Read Write ìƒíƒœë¥¼ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆê°€ ì‚­ì œê°€ ëœë‹¤ë©´ container layer ì—­ì‹œ ì‚­ì œê°€ ë©ë‹ˆë‹¤.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile-ì´ë¯¸ì§€-ìƒì„±">Dockerfile ì´ë¯¸ì§€ ìƒì„±<a href="#dockerfile-ì´ë¯¸ì§€-ìƒì„±" class="hash-link" aria-label="Direct link to Dockerfile ì´ë¯¸ì§€ ìƒì„±" title="Direct link to Dockerfile ì´ë¯¸ì§€ ìƒì„±">â€‹</a></h3>
<blockquote>
<p>docker build ì‹œì— -f ë¡œ Dockerfileì„ ì§€ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡  Dockerfileì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
</blockquote>
<p>Dockerfileì˜ ëª©ì ì€ ì´ë¯¸ì§€ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-stage">Multi Stage<a href="#multi-stage" class="hash-link" aria-label="Direct link to Multi Stage" title="Direct link to Multi Stage">â€‹</a></h3>
<p>ì•„ë˜ ì˜ˆì‹œëŠ” golangì„ imageë¥¼ í™œìš©í•˜ì—¬ Go applicationì„ ì»´íŒŒì¼ì„ ì§„í–‰í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ìœ„ì˜ ê²°ê³¼ë¬¼ì„ Scratch ì´ë¯¸ì§€ë¡œ ê°€ì ¸ì™€ Scratchë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM golang:1.19-alpine as build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY src ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN CGO_ENABLED=0 go build -o main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM scratch as release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --from=build /app/main /app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;/app/main&quot;]</span><br></span></code></pre></div></div>
<p>ì²« ë²ˆì§¸ë¡œ ì‚¬ìš©ëœ FROMì€ ì„ì‹œë¡œ ì“°ì´ê³  ë²„ë ¤ì§‘ë‹ˆë‹¤. --fromì„ í™œìš©í•´ì„œ ì²« ë²ˆì§¸ FROMì˜ ê²°ê³¼ë¬¼ì„ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ì‹¤í–‰ì„ í•˜ê²Œë˜ë©´ alpineë³´ë‹¤ scratch ì´ë¯¸ì§€ì˜ í¬ê¸°ê°€ ì‘ë‹¤ëŠ” ì´ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p>
<p>Production í™˜ê²½ì—ì„œëŠ” ë³´ì•ˆì„± ì¦ëŒ€ ë° ì´ë¯¸ì§€ ê²½ëŸ‰í™”ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ì´ ìˆìŠµë‹ˆë‹¤.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/til">TIL</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/docker">Docker</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/en/blog/2025/07/10/docker/docker-basic-2-title">Docker Basic(2)</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-07-10T00:00:00.000Z">July 10, 2025</time> Â· <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://ifh.cc/g/GagTYM.jpg" alt="ê³ í˜„ë¦¼"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">ê³ í˜„ë¦¼</span></a></div><small class="authorTitle_nd0D" title="í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer">í”„ë¡ íŠ¸ì—”ë“œ | ë¸”ë¡ì²´ì¸ Developer</small><div class="authorSocials_rSDt"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div class="markdown"><p>cloudwave 6ê¸° ìˆ˜ì—…ì—ì„œ ë“¤ì€ ë‚´ìš©ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-network">Docker Network<a href="#docker-network" class="hash-link" aria-label="Direct link to Docker Network" title="Direct link to Docker Network">â€‹</a></h3>
<p>ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” Data ì†¡ìˆ˜ì‹  ë° ì ‘ê·¼ ì œì–´ë¥¼ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker network create [OPTIONS] NETWORK</span><br></span></code></pre></div></div>
<p>ì£¼ìš” ì˜µì…˜ì—ëŠ” --driver(-d), --labelì´ ìˆìŠµë‹ˆë‹¤.</p>
<p>--driverì˜ ì¢…ë¥˜</p>
<ul>
<li>bridge : ë™ì¼í•œ host ì»´í“¨í„° ë‚´ì—ì„œ ì»¨í…Œì´ë„ˆë¼ë¦¬ í†µì‹ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ì„ í•©ë‹ˆë‹¤</li>
<li>host : ì»¨í…Œì´ë„ˆê°€ hostì™€ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. (ì¸ìŠ¤í„´ìŠ¤ ë³„ë¡œ í•œê°œë§Œ ìƒì„±)</li>
<li>none</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker network connect [OPTIONS] NETWORK CONTAINER</span><br></span></code></pre></div></div>
<p>ì£¼ìš” ì˜µì…˜ì—ëŠ” --alias, --ipê°€ ìˆìŠµë‹ˆë‹¤.
--aliasëŠ” ë„¤íŠ¸ì›Œí¬ aliasë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¼ì¢…ì˜ ì¶”ìƒí™”ì…ë‹ˆë‹¤.</p>
<p>ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ì œê±°í•˜ê¸° ìœ„í•´ì„œëŠ” <code>disconnect</code>ë¥¼ ì“°ê³ , ì‚­ì œë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” <code>rm</code>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ëª¨ë“  ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´ì„œëŠ” <code>prune</code>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="buildx">buildx<a href="#buildx" class="hash-link" aria-label="Direct link to buildx" title="Direct link to buildx">â€‹</a></h3>
<p>ë™ì¼í•œ ê¸°ëŠ¥ì— ë‹¤ë¥¸ ì•„í‚¤í…ì²˜ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<p><strong>Multi-platformìš© builder ìƒì„±</strong></p>
<p>í”Œë«í¼ ì˜µì…˜ì„ í†µí•´ì„œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ìˆ˜ ìˆëŠ” ë¹Œë”ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker buildx create --driver docker-container --name multi-builder --platform linux/amd64,linux/arm64</span><br></span></code></pre></div></div>
<p><strong>ì´ë¯¸ì§€ ë¹Œë“œí•˜ê¸°</strong></p>
<p>í”Œë«í¼ ì˜µì…˜ì„ í™œìš©í•˜ì—¬ ê° ì•„í‚¤í…ì²˜ì— ë§ëŠ” ì´ë¯¸ì§€ë¥¼ ì œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker buildx build --platform linux/amd64,linux/arm64 -t &lt;ì´ë¦„íƒœê·¸ ì„¤ì •&gt; .</span><br></span></code></pre></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/til">TIL</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/en/blog/tags/docker">Docker</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/intro">Project</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/indianaPoly" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>