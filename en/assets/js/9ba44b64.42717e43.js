"use strict";(self.webpackChunktil=self.webpackChunktil||[]).push([[8121],{2889:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var s=r(8356),l=r(4848),t=r(8453);const i={title:"Terraform Basic(2)",authors:["hyeonlim"],tags:["TIL","Terraform"]},a=void 0,c={authorsImageUrls:[void 0]},o=[{value:"\uc0c1\ud0dc \uad00\ub9ac",id:"\uc0c1\ud0dc-\uad00\ub9ac",level:2},{value:"\ud14c\ub77c\ud3fc\uc758 \uc0c1\ud0dc\ub780?",id:"\ud14c\ub77c\ud3fc\uc758-\uc0c1\ud0dc\ub780",level:3},{value:".tfstate \uacf5\uc720",id:"tfstate-\uacf5\uc720",level:3},{value:"\uc0c1\ud0dc \ud30c\uc77c\uc744 \uc704\ud55c \uacf5\uc720 \uc800\uc7a5\uc18c",id:"\uc0c1\ud0dc-\ud30c\uc77c\uc744-\uc704\ud55c-\uacf5\uc720-\uc800\uc7a5\uc18c",level:2},{value:"\uc2e4\uc2b5",id:"\uc2e4\uc2b5",level:3},{value:"\uc0c1\ud0dc \ud30c\uc77c \uaca9\ub9ac",id:"\uc0c1\ud0dc-\ud30c\uc77c-\uaca9\ub9ac",level:2},{value:"\uc791\uc5c5 \uacf5\uac04\uc744 \ud1b5\ud55c \uaca9\ub9ac",id:"\uc791\uc5c5-\uacf5\uac04\uc744-\ud1b5\ud55c-\uaca9\ub9ac",level:3},{value:"\uc2e4\uc2b5",id:"\uc2e4\uc2b5-1",level:3},{value:"\ud30c\uc77c \ub808\uc774\uc544\uc6c3\uc744 \ud1b5\ud55c \uaca9\ub9ac",id:"\ud30c\uc77c-\ub808\uc774\uc544\uc6c3\uc744-\ud1b5\ud55c-\uaca9\ub9ac",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:["\n",(0,l.jsx)(n.h2,{id:"\uc0c1\ud0dc-\uad00\ub9ac",children:"\uc0c1\ud0dc \uad00\ub9ac"}),"\n",(0,l.jsx)(n.p,{children:"\ud14c\ub77c\ud3fc\uc740 \uc790\uc2e0\uc774 \ub2f4\ub2f9\ud558\ub294 \uc778\ud504\ub77c\uac00 \ubb34\uc5c7\uc778\uc9c0 \uc5b4\ub5bb\uac8c \uc54c\uae4c\uc694? \uadf8\uac83\uc744 \ud55c \ubc88 \uc54c\uc544\ubcf4\uace0\uc790 \ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.h3,{id:"\ud14c\ub77c\ud3fc\uc758-\uc0c1\ud0dc\ub780",children:"\ud14c\ub77c\ud3fc\uc758 \uc0c1\ud0dc\ub780?"}),"\n",(0,l.jsx)(n.p,{children:"\ud14c\ub77c\ud3fc\uc744 \uc2e4\ud589\ud560 \ub54c\ub9c8\ub2e4 \ud14c\ub77c\ud3fc \uc0c1\ud0dc \ud30c\uc77c\uc5d0 \uc0dd\uc131\ub41c \uc778\ud504\ub77c\uc5d0 \ub300\ud55c \uc815\ubcf4\uac00 \uac19\uc774 \uae30\ub85d\uc774 \ub3fc\uc694."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"/foo/bar"})," \ud3f4\ub354 \ub0b4\ubd80\uc758 .tf \ud30c\uc77c\uc744 \uc2e4\ud589\uc744 \ud558\uac8c \ub418\uba74 \ud574\ub2f9 \ud3f4\ub354 \ub0b4\ubd80\uc5d0 ",(0,l.jsx)(n.code,{children:"/terraform.tfstate"})," \ud30c\uc77c\uc744 \uc0dd\uc131\ud574\uc694. \ud574\ub2f9 \ud30c\uc77c\uc5d0\ub294 trrraform \ub9ac\uc18c\uc2a4\uc5d0\uc11c \uc2e4\uc81c \uc18c\uc2a4 \ud45c\ud604\uc73c\ub85c\uc758 \ub9e4\ud551\uc744 \uae30\ub85d\uc774 \ub418\uc5b4\uc788\uc5b4\uc694."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tf",children:'resource "aws_instance" "example" {\n    ami = "ami-..."\n    instance_type = "t2.micro"\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\ud574\ub2f9 \ud14c\ub77c\ud3fc \ucf54\ub4dc\ub97c \uc2e4\ud589\uc744 \ud558\uace0 .tfstate \ud30c\uc77c\uc744 \ud655\uc778\ud574\ubcf4\uba74"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "instance": [\n    {\n      "attributes": {\n        "ami": "ami-...",\n        "id": "i-..."\n      }\n    }\n  ]\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\uc774\ub7f0\uc2dd\uc73c\ub85c json\uc774 \uc791\uc131\uc774 \ub41c \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694. \uc774 \ub54c \uc544\uc774\ub514\ub294 \uc2e4\uc81c aws ec2 \uc778\uc2a4\ud134\uc2a4\uc758 \uc544\uc774\ub514\ub97c \uc758\ubbf8\ud574\uc694. \ub530\ub77c\uc11c \ud14c\ub77c\ud3fc\uc744 \uc2e4\ud589\ud560 \ub54c\ub9c8\ub2e4 aws\uc5d0\uc11c ec2 \uc778\uc2a4\ud134\uc2a4\uc758 \ucd5c\uc2e0 \uc0c1\ud0dc\ub97c \uac00\uc838\uc624\uace0 \uc774\ub97c \ud14c\ub77c\ud3fc \uad6c\uc131\uc758 \ub0b4\uc6a9\uacfc \ube44\uad50\ud558\uc5ec \uc801\uc6a9\ud574\uc57c \ud560 \ubcc0\uacbd \uc0ac\ud56d\uc744 \uacb0\uc815\ud560 \uc218 \uc788\uc5b4\uc694."}),"\n",(0,l.jsxs)(n.p,{children:["\uc0c1\ud0dc \ud30c\uc77c\uc740 \ube44\uacf5\uac1c API\uc5d0\uc694. \uc774\ub97c \uc9c1\uc811\uc801\uc73c\ub85c \ud3b8\uc9d1\ud558\uac70\ub098 \uc9c1\uc811 \uc77d\ub294 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\uba74 \uc548\ub3fc\uc694. \uc870\uc791\ud574\uc57c\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 ",(0,l.jsx)(n.code,{children:"terraform import"}),", ",(0,l.jsx)(n.code,{children:"terraform state"})," \uba85\ub839\uc744 \uc0ac\uc6a9\ud574\uc8fc\uba74 \ub3fc\uc694."]}),"\n",(0,l.jsx)(n.h3,{id:"tfstate-\uacf5\uc720",children:".tfstate \uacf5\uc720"}),"\n",(0,l.jsx)(n.p,{children:"\ud14c\ub77c\ud3fc\uc744 \uac1c\uc778 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\uc744 \ud558\uba74 \ubb38\uc81c\uac00 \uc5c6\ub294\ub370, \uc2e4\uc81c \uc81c\ud488\uc5d0\uc11c \ud300\uc73c\ub85c \ud14c\ub77c\ud3fc\uc744 \uc0ac\uc6a9\ud558\uac8c \ub418\uba74 \uc544\ub798\uc640 \uac19\uc740 \ubb38\uc81c\uc5d0 \uc9c1\uba74\ud574\uc694."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\uc0c1\ud0dc \ud30c\uc77c\uc744 \uc704\ud55c \uacf5\uc720 \uc800\uc7a5\uc18c : \ud14c\ub77c\ud3fc\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc778\ud504\ub77c\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\ub824\uba74 \uac01 \ud300 \uad6c\uc131\uc6d0\uc774 \ub3d9\uc77c\ud55c \ud14c\ub77c\ud3fc \uc0c1\ud0dc \ud30c\uc77c\uc5d0 \uc561\uc138\uc2a4 \ud574\uc57c\ud574\uc694. \uc774\ub294 \ud574\ub2f9 \ud30c\uc77c\uc744 \uacf5\uc720 \uc704\uce58\uc5d0 ",(0,l.jsx)(n.code,{children:"\uc800\uc7a5"})," \ud574\uc57c\ud558\ub294 \uac83\uc744 \uc758\ubbf8\ud574\uc694."]}),"\n",(0,l.jsx)(n.li,{children:"\uc0c1\ud0dc \ud30c\uc77c \uc7a0\uae08 : \uc7a0\uae08 \uc5c6\uc774 \ud300 \uad6c\uc131\uc6d0\uc774 \ub3d9\uc2dc\uc5d0 \ud14c\ub77c\ud3fc \ucf54\ub4dc\ub97c \uc2e4\ud589\ud558\ub294 \uacbd\uc6b0 \ud14c\ub77c\ud3fc \ud504\ub85c\uc138\uc2a4\uac00 \ub3d9\uc2dc\uc5d0 \uc5c5\ub370\uc774\ud2b8\ud558\uc5ec \ucda9\ub3cc\ud560 \uc218 \uc788\uc5b4\uc694."}),"\n",(0,l.jsx)(n.li,{children:"\uc0c1\ud0dc \ud30c\uc77c \uaca9\ub9ac : \uc778\ud504\ub77c\ub97c \ubcc0\uacbd\ud560 \ub54c\ub294 \ub2e4\uc591\ud55c \ud658\uacbd\uc744 \uaca9\ub9ac\ud558\ub294 \uac83\uc774 \ubaa8\ubc94\uc801\uc774\uc5d0\uc694."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\ud574\ub2f9 \ubb38\uc81c\uc5d0 \ub300\ud574\uc11c \uc544\ub798\uc640 \uac19\uc774 \ud574\uacb0 \ud560 \uc218\uac00 \uc788\uc5b4\uc694."}),"\n",(0,l.jsx)(n.h2,{id:"\uc0c1\ud0dc-\ud30c\uc77c\uc744-\uc704\ud55c-\uacf5\uc720-\uc800\uc7a5\uc18c",children:"\uc0c1\ud0dc \ud30c\uc77c\uc744 \uc704\ud55c \uacf5\uc720 \uc800\uc7a5\uc18c"}),"\n",(0,l.jsx)(n.p,{children:"\ubcf4\ud1b5\uc740 \uacf5\ud1b5\ub41c \uac83\uc5d0 \uc5d1\uc138\uc2a4\ub97c \ud560 \ub54c\ub294 git\uacfc \uac19\uc740 \uac83\uc5d0 \ub450\ub294\uac8c \uc88b\uc544\uc694. \ud558\uc9c0\ub9cc \ud14c\ub77c\ud3fc \ucf54\ub4dc\ub97c \ubc84\uc804 \uc81c\uc5b4\uc5d0 \uc800\uc7a5\ud558\ub294 \uac83\uc740 \uc544\ub798\uc640 \uac19\uc740 \uc774\uc720\ub85c \uc88b\uc9c0 \uc54a\uc544\uc694:\\"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\uc218\ub3d9\uc791\uc5c5\uc5d0 \ub300\ud55c \uc624\ub958","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud14c\ub77c\ud3fc\uc744 \uc2e4\ud589\ud558\uae30 \uc804 \ubc84\uc804 \uc81c\uc5b4\uc5d0\uc11c \ucd5c\uc2e0 \ubcc0\uacbd \uc0ac\ud56d\uc744 \ud480\ub2e4\uc6b4\ud558\uac70\ub098, \uc2e4\ud589\ud55c \uc774\ud6c4\uc5d0 \ucd5c\uc2e0 \ubcc0\uacbd\uc0ac\ud56d\uc744 \ud478\uc26c\ud558\ub294 \uac83\uc744 \uc78a\uc5b4\ubc84\ub9ac\uae30 \uc26c\uc6cc\uc694. \ud300\uc758 \ub204\uad70\uac00\uac00 \uc624\ub798\ub41c \ud30c\uc77c\uc744 \uc2e4\ud589\ud558\uc5ec \uc774\uc804 \ubc30\ud3ec\ub85c \ub864\ubc31\ud558\uac70\ub098 \ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc774\uc5d0\uc694."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\uc7a0\uae08","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ub300\ubd80\ubd84\uc758 \ubc84\uc804 \uc81c\uc5b4 \uc2dc\uc2a4\ud15c\ub4e4\uc740 \ub3d9\uc77c\ud55c \uc0c1\ud0dc \ud30c\uc77c\uc5d0 \ub300\ud574\uc11c apply\ud558\ub294 \uac83\uc744 \ubc29\uc9c0\ud574\uc8fc\uc9c0 \uc54a\uc544\uc694."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\ube44\ubc00","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud14c\ub77c\ud3fc\uc758 \uc0c1\ud0dc \ud30c\uc77c\uc740 \uae30\ubcf8\uc801\uc73c\ub85c \uc77c\ubc18 \ud14d\uc2a4\ud2b8\ub85c \uc800\uc7a5\uc774 \ub418\uae30 \ub54c\ubb38\uc5d0 \ubbfc\uac10\ud55c \ub370\uc774\ud130\uac00 \ub4e4\uc5b4\uac08 \uc218\ub3c4 \uc788\uc5b4\uc694."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\ubc84\uc804 \uc81c\uc774 \uc2dc\uc2a4\ud15c\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\ubcf4\ub2e4 \uc81c\uc77c \uc88b\uc740 \ubc29\ubc95\uc740 ",(0,l.jsx)(n.code,{children:"\uc6d0\uaca9 \ubc31\uc5d4\ub4dc"}),"\ub97c \uc0ac\uc6a9\ud558\ub294\uac8c \uc88b\uc544\uc694. \uae30\ubcf8 \ubc31\uc5d4\ub4dc\ub294 \ub85c\uceec \ub514\uc2a4\ud06c\uc5d0 \uc0c1\ud0dc \ud30c\uc77c\uc744 \uc800\uc7a5\ud558\ub294 \ub85c\uceec \ubc31\uc5d4\ub4dc\uc774\uace0 \uc6d0\uaca9 \ubc31\uc5d4\ub4dc\ub294 \uc6d0\uaca9 \uacf5\uc720 \uc800\uc7a5\uc18c\uc5d0 \uc800\uc7a5\ud560 \uc218 \uc788\uc5b4\uc694."]}),"\n",(0,l.jsx)(n.p,{children:"\ub300\ud45c\uc801\uc73c\ub85c\ub294 AWS S#, Azure Storage, Google Cloud Storage \uac00 \uc788\uc5b4\uc694."}),"\n",(0,l.jsx)(n.p,{children:"\uc6d0\uaca9 \ubc31\uc5d4\ub4dc\ub97c \uc0ac\uc6a9\uc744 \ud558\uba74 \uc704\uc758 \ubb38\uc81c\ub97c \ud574\uacb0\ud560 \uc218 \uc788\uc5b4\uc694."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\uc218\ub3d9\uc791\uc5c5\uc5d0 \ub300\ud55c \uc624\ub958","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc6d0\uaca9 \ubc31\uc5d4\ub4dc\ub97c \uad6c\uc131\ud558\uace0 plan \ud639\uc740 apply\ub97c \ud558\uba74 \ud574\ub2f9 \ubc31\uc5d4\ub4dc\uc5d0 \uc0c1\ud0dc \ud30c\uc77c\uc744 \uc790\ub3d9\uc73c\ub85c \ub85c\ub4dc\ud558\uace0 \uc0c1\ud0dc\ud30c\uc77c\uc744 \uc800\uc7a5\ud574\uc8fc\uae30 \ub54c\ubb38\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud560 \uac00\ub2a5\uc131\uc774 \uc5c6\uc5b4\uc694."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\uc7a0\uae08","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc6d0\uaca9 \ubc31\uc5d4\ub4dc\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \uc7a0\uae08\uc744 \uc9c0\uc6d0\uc694. terraform apply\ub97c \uc2e4\ud589\ud558\uae30 \uc704\ud574 \ud14c\ub77c\ud3fc\uc740 \uc790\ub3d9\uc73c\ub85c \uc7a0\uae08\uc774 \ub429\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\ube44\ubc00","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\uc6d0\uaca9 \ubc31\uc5d4\ub4dc\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \uc804\uc1a1 \u3145\uc911 \uc554\ud638\ud654\uc640 \ub098\uba38\uc9c0 \uc0c1\ud0dc \ud30c\uc77c \uc554\ud638\ud654\ub97c \uc9c0\uc6d0\ud574\uc90d\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\uc2e4\uc2b5",children:"\uc2e4\uc2b5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tf",children:'provider "aws" {\n    region = "ap-northeast-2"\n}\n\nresoure "aws_s3_bucket" "terraform_state" {\n    bucket = "terraform-state-alias"\n    lifecycle {\n        prevent_destroy = true\n    }\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\ubc84\ud0b7 \uc774\ub984\uc744 \uc9c0\uc815\ud558\uace0 ",(0,l.jsx)(n.code,{children:"prevent_destroy"})," \uc124\uc815\uc744 \ub450\uc5b4 \uc0ad\uc81c\ub97c \ubc29\uc9c0\ud574\uc904 \uc218 \uc788\uc5b4\uc694."]}),"\n",(0,l.jsx)(n.p,{children:"\uadf8\ub2e4\uc74c\uc5d0 \uba87 \uac00\uc9c0 \ubcf4\ud638 \uacc4\uce35\uc744 \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\ubc84\uc800\ub2dd \ub9ac\uc18c\uc2a4\ub97c \uc0ac\uc6a9\ud558\uba74 \ubc84\ud0b7\uc758 \ud30c\uc77c\uc744 \uc5c5\ub370\uc774\ud2b8 \ud560 \ub300\ub9c8\ub2e4 \ud574\ub2f9 \ud30c\uc77c\uc758 \uc0c8 \ubc84\uc804\uc774 \uc0dd\uc131\ub3fc\uc694. \uc774\ub97c \ud1b5\ud574\uc11c \uc774\uc804 \ubc84\uc804\uc73c\ub85c \ub3cc\ub9b4 \uc218 \uc788\uc5b4\uc694."}),"\n",(0,l.jsx)(n.li,{children:"server_side_encryption_configuration\uc744 \uc0ac\uc6a9\ud558\uc5ec \uae30\ub85d\ub418\ub294 \ubaa8\ub4e0 \ub370\uc774\ud130\uc5d0 \ub300\ud574\uc11c \uc11c\ubc84 \uce21 \uc554\ud638\ud654\ub97c \ud65c\uc131\ud654 \ud574\uc694."}),"\n",(0,l.jsx)(n.li,{children:"public_access_block\uc744 \uc0ac\uc6a9\ud574\uc11c \ubaa8\ub4e0 \ud37c\ube14\ub9ad \uc5d1\uc138\uc2a4\ub97c \ucc28\ub2e8\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tf",children:'resource "aws_s3_bucket_versioning" "enabled" {\n    bucket = aws_s3_bucket.terraform_state.id\n\n    versioning_configuration {\n        status = "Enabled"\n    }\n}\n\nresource "aws_s3_bucket_server_side_encryption_configuration" "default" {\n    bucket = aws_s3_bucket.terraform_state.id\n\n    rule {\n        apply_server_side_encryption_by_default {\n            sse_algorithm = "AES256"\n        }\n    }\n}\n\nresource "aws_s3_bucket_public_access_block" "public_access" {\n    bucket = aws_s3_bucket.terraform_state.id\n    block_public_acls = true\n    block_public_policy = true\n    ignore_public_acls = true\n    restrict_public_buckets = true\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\uadf8 \ub2e4\uc74c\uc5d0\ub294 dynamoDB\ub97c \uc0dd\uc131\ud574\uc90d\ub2c8\ub2e4. dynamoDB\ub294 NoSQL DB\uc758 \uc77c\uc885\uc73c\ub85c \ub3d9\uc2dc\uc5d0 \uc5ec\ub7ec \uc0ac\uc6a9\uc790\uac00 \uc2e4\ud589\ud588\uc744 \ub54c \ubc1c\uc0dd\ud560 \uc218 \uc788\ub294 \ucda9\ub3cc\uc744 \ubc29\uc9c0\ud574\uc90d\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tf",children:'resource "aws_dynamodb_table" "terraform_locks" {\n  name = "terraform-locks"\n  billing_mode = "PAY_PER_REQUEST"\n  hash_key = "LockID"\n  attribute {\n    name = "LockID"\n    type = "S"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\uae30\ucd08\uc801\uc778 \uc791\uc5c5\uc740 \ubaa8\ub450 \ub9c8\ubb34\ub9ac\ud588\uc5b4\uc694. \uadf8\ub7f0\ub370 \ud574\ub2f9 \uc0c1\ud0dc\ub85c\ub9cc \uc9c0\uc815\uc744 \ud574\ub450\uace0 \uc2e4\ud589\uc744 \ud558\uba74 \uc544\uc9c1\uc740 \ub85c\uceec \ubc31\uc5d4\ub4dc \ud658\uacbd\uc774\uc5d0\uc694. \uc774\uc81c \uc6d0\uaca9 \ubc31\uc5d4\ub4dc\ub85c \uc9c0\uc815\uc744 \ud574\uc8fc\ub3c4\ub85d \ud574\ubcfc\uaed8\uc694."}),"\n",(0,l.jsx)(n.p,{children:"\ud574\ub2f9 \ucf54\ub4dc\ub294 \uc81c\uc77c \ucd5c\uc0c1\ub2e8\uc5d0 \uc9c0\uc815\ud574\uc8fc\uba74 \ub3fc\uc694. \uc5ec\uae30\uc5d0 \ub4e4\uc5b4\uac00\ub294 \uac12\ub4e4\uc740 \uc704\uc5d0\uc11c \uc9c0\uc815\ud55c \uc774\ub984\ub4e4\uc744 \ud558\ub4dc\ucf54\ub529\ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4. (\ub354 \uc88b\uc740 \ubc29\ubc95 \ucda9\ubd84\ud788 \uc788\ub2e4\uace0 \uc0dd\uac01\ud574\uc694.)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tf",children:'terraform {\n    backend "s3" {\n        bucket = "terraform-state"\n        key = "global/s3/terraform.tfstate"\n        region = "ap-northeast-2"\n        dynamodb_table = "terraform-locks"\n        encrypt = true\n    }\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"\uc0ad\uc81c\ub97c \ud558\uae30 \uc704\ud574\uc11c\ub294"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\ubc31\uc5d4\ub4dc \uad6c\uc131\uc744 \uc81c\uac70\ud558\uace0 init\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.li,{children:"terraform destroy\ub97c \uc2e4\ud589\ud558\uc5ec \ub9ac\uc18c\uc2a4\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\uc0c1\ud0dc-\ud30c\uc77c-\uaca9\ub9ac",children:"\uc0c1\ud0dc \ud30c\uc77c \uaca9\ub9ac"}),"\n",(0,l.jsx)(n.p,{children:"\uc704\uc640 \uac19\uc774 \uc9c4\ud589\uc744 \ud574\uc900\ub2e4\uba74 \ud611\uc5c5\uc5d0\uc11c\ub294 \ubb38\uc81c\uac00 \uc548\ub3fc\uc694. \ud558\uc9c0\ub9cc \uaca9\ub9ac \ubd80\ubd84\uc5d0 \uc788\uc5b4\uc11c\ub294 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.p,{children:"\ub2e8\uc77c \ud30c\uc77c \ub0b4\uc5d0\uc11c \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\ub97c \uad00\ub9ac\ub97c \ud558\uac8c \ub418\ubc84\ub9ac\uba74 \uc2a4\ud14c\uc774\uc9d5 \ub2e8\uaf10\uc5d0\uc11c \ubc30\ud3ec\ub97c \uc2dc\ub3c4\ud558\ub2e4\uac00 \ud504\ub85c\ub355\uc158 \ub2e8\uacc4\uc5d0\uc11c \uc571\uc774 \uc911\ub41c\ub420 \uc218\ub3c4 \uc788\uace0, \ubc84\uadf8\ub85c \uc778\ud574 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\uac00 \uc190\uc0c1\ub420 \uc218\ub3c4 \uc788\uc5b4\uc694."}),"\n",(0,l.jsx)(n.h3,{id:"\uc791\uc5c5-\uacf5\uac04\uc744-\ud1b5\ud55c-\uaca9\ub9ac",children:"\uc791\uc5c5 \uacf5\uac04\uc744 \ud1b5\ud55c \uaca9\ub9ac"}),"\n",(0,l.jsx)(n.p,{children:"terraform workspace\ub97c \uc0ac\uc6a9\ud558\uba74 \ud14c\ub77c\ud3fc \uc0c1\ud0dc\ub97c \ubcc4\ub3c4\uc758 \uc774\ub984\uc774 \uc9c0\uc815\ub41c \uc5ec\ub7ec \uc791\uc5c5 \uacf5\uac04\uc5d0 \uc800\uc7a5\ud560 \uc218 \uc788\uc5b4\uc694."}),"\n",(0,l.jsx)(n.p,{children:"\uc791\uc5c5 \uacf5\uac04\uc744 \uba85\uc2dc\ud558\uc9c0 \uc54a\uc73c\uba74 \uae30\ubcf8 \uc791\uc5c5 \uacf5\uac04\uc774 \uc804\uccb4 \uc2dc\uac04 \ub3d9\uc548 \uc0ac\uc6a9\ub3fc\uc694."}),"\n",(0,l.jsx)(n.h3,{id:"\uc2e4\uc2b5-1",children:"\uc2e4\uc2b5"}),"\n",(0,l.jsx)(n.p,{children:"\uc55e\uc11c \uc791\uc5c5\ud55c \ubd80\ubd84\uc5d0\uc11c key\ub97c workspaces-example/terraform.tfstate\ub85c \ub9cc \uc218\uc815\uc744 \ud574\uc90d\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-tf",children:'terraform {\n    backend "s3" {\n        bucket = "terraform-state"\n        key = "workspaces-example/terraform.tfstate"\n        region = "us-east-2"\n        dynamodb_table = "terraform-locks"\n        encrypt = true\n    }\n}\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"terraform init\nterraform apply\n"})}),"\n",(0,l.jsx)(n.p,{children:"\uc704 \uba85\ub839\uc73c\ub85c \ucf54\ub4dc\ub97c \ubc30\ud3ec\ud574\uc90d\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.p,{children:"\uadf8 \ub2e4\uc74c\uc5d0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"terraform workspace new example1\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\uc744 \uc2e4\ud589\uc2dc\ucf1c \uc0c8 \uc791\uc5c5 \uacf5\uac04\uc744 \ub9cc\ub4e4\uc5b4\uc694 \uadf8\ub9ac\uace0 ",(0,l.jsx)(n.code,{children:"terraform plan"})," \uba85\ub839\uc744 \uc2e4\ud589\ud558\uba74 \uc0c8\ub85c\uc6b4 ec2\ub97c \ucc98\uc74c\ubd80\ud130 \uc0dd\uc131\ud558\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"terraform apply"}),"\ub97c \uc2e4\ud589\ud558\uba74 \uc0c8 \uc791\uc5c5 \uacf5\uac04\uc5d0 \uc778\uc2a4\ud134\uc2a4\uac00 \ubc30\ud3ec\ub41c \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694."]}),"\n",(0,l.jsx)(n.p,{children:"\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574\uc11c \uc791\uc5c5 \uacf5\uac04\uc744 \ubc14\uafb8\uc5b4\uc904 \uc218 \uc788\uc5b4\uc694."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"terraform workspace select default\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\ud30c\uc77c-\ub808\uc774\uc544\uc6c3\uc744-\ud1b5\ud55c-\uaca9\ub9ac",children:"\ud30c\uc77c \ub808\uc774\uc544\uc6c3\uc744 \ud1b5\ud55c \uaca9\ub9ac"}),"\n",(0,l.jsx)(n.p,{children:"\ud658\uacbd\uc744 \uc644\uc804\ud788 \uaca9\ub9ac\ud558\ub824\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \uc218\ud589\ud574\uc8fc\uba74 \ub3fc\uc694."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\uac01 \ud658\uacbd\uc758 \ud14c\ub77c\ud3fc \uad6c\uc131 \ud30c\uc77c\uc744 \ubcc4\ub3c4\uc758 \ud3f4\ub354\uc5d0 \ub123\uc5b4\uc694."}),"\n",(0,l.jsx)(n.li,{children:"\uc11c\ub85c \ub2e4\ub978 \uc778\uc99d \ub9e4\ucee4\ub2c8\uc998\uacfc \uc561\uc138\uc2a4 \uc81c\uc5b4\ub97c \uc0ac\uc6a9\ud558\uc5ec \uac01 \ud658\uacbd\uc5d0 \ub300\ud55c \uc11c\ub85c \ub2e4\ub978 \ubc31\uc5d4\ub4dc\ub97c \uad6c\uc131\ud574\uc8fc\uc5b4\uc694."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\ud14c\ub77c\ud3fc \ud504\ub85c\uc81d\ud2b8\ub294 \ud658\uacbd -> \uad6c\uc131\uc694\uc18c -> \uad6c\uc131\ud30c\uc77c\uc758 \uacc4\uce35 \uad6c\uc870\ub85c \uad00\ub9ac\ub97c \uc9c4\ud589\ud574\uc694"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-md",children:"## \ucd5c\uc0c1\uc704 \ud658\uacbd \ub514\ub809\ud1a0\ub9ac\n\n- `global` : \ubaa8\ub4e0 \ud658\uacbd\uc5d0\uc11c \uacf5\ud1b5 \uc0ac\uc6a9 (\uc608: S3, IAM)\n- `mgmt` : DevOps \ub3c4\uad6c \ubc0f \uc778\ud504\ub77c \uad00\ub9ac (\uc608: \ubc30\uc2a4\ucc9c, CI \uc11c\ubc84)\n- `stage` : \ud14c\uc2a4\ud2b8/\uc0ac\uc804 \ud504\ub85c\ub355\uc158 \ud658\uacbd\n- `prod` : \uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd\n\n## \ud658\uacbd \ub0b4 \uad6c\uc131\uc694\uc18c \ub514\ub809\ud1a0\ub798\n\n- `vpc/` : \ub124\ud2b8\uc6cc\ud06c \ud1a0\ud3f4\ub85c\uc9c0 \uc815\uc758\n- `services/` : \uc11c\ube44\uc2a4 \ub610\ub294 \uc571 (\uc608: \uc6f9 \uc11c\ubc84, API \ub4f1)\n  - ex. `services/frontend/`, `services/backend/`\n- `data-storage/` : \ub370\uc774\ud130 \uc800\uc7a5\uc18c\n  - ex. `data-storage/mysql/`, `data-storage/redis/`\n\n## \uad6c\uc131 \uc694\uc18c \ub0b4 \ud30c\uc77c \uad6c\uc131\n\n| \ud30c\uc77c\uba85            | \uc5ed\ud560                          |\n| ----------------- | ----------------------------- |\n| `main.tf`         | \uc8fc\uc694 \ub9ac\uc18c\uc2a4 \uc815\uc758              |\n| `variables.tf`    | \uc785\ub825 \ubcc0\uc218 \uc815\uc758                |\n| `outputs.tf`      | \ucd9c\ub825 \ubcc0\uc218 \uc815\uc758                |\n| `providers.tf`    | provider \uc124\uc815 \uc815\uc758            |\n| `dependencies.tf` | \uc678\ubd80 \ub370\uc774\ud130 \uc18c\uc2a4 \ubc0f \ucc38\uc870 \uc815\uc758 |\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8356:e=>{e.exports=JSON.parse('{"permalink":"/en/blog/2025/08/03/terraform/terraform-basic-2-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/terraform/2025-08-03-terraform-basic-2-title.mdx","source":"@site/blog/terraform/2025-08-03-terraform-basic-2-title.mdx","title":"Terraform Basic(2)","description":"{/ truncate /}","date":"2025-08-03T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/en/blog/tags/til"},{"inline":true,"label":"Terraform","permalink":"/en/blog/tags/terraform"}],"readingTime":4.74,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Terraform Basic(2)","authors":["hyeonlim"],"tags":["TIL","Terraform"]},"unlisted":false,"prevItem":{"title":"Next.js \ud504\ub85c\uc81d\ud2b8 \ud68c\uace0 \ubc0f \uc11c\ubc84 \ucef4\ud3ec\ub10c\ud2b8\uc640 \ud074\ub77c\uc774\uc5b8\ud2b8 \ucef4\ud3ec\ub10c\ud2b8","permalink":"/en/blog/2025/08/03/frontend/nextjs_15-title"},"nextItem":{"title":"Terraform Basic(1)","permalink":"/en/blog/2025/08/01/terraform/traform-basic-1-title"}}')},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var s=r(6540);const l={},t=s.createContext(l);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);