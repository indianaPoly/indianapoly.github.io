<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://indianapoly.github.io/blog</id>
    <title>KO HYEON LIM Blog</title>
    <updated>2025-08-06T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://indianapoly.github.io/blog"/>
    <subtitle>KO HYEON LIM Blog</subtitle>
    <icon>https://indianapoly.github.io/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Next.js μ„λ²„ μ»΄ν¬λ„νΈμ™€ HTML λ λ”λ§μ— λ€ν• μ •ν™•ν• μ΄ν•΄]]></title>
        <id>https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title</id>
        <link href="https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title"/>
        <updated>2025-08-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ„λ²„μ—μ„-htmlμ„-λ§λ“¤μ–΄μ„-ν΄λΌμ΄μ–ΈνΈμ—-λ³΄λ‚Έλ‹¤">"μ„λ²„μ—μ„ HTMLμ„ λ§λ“¤μ–΄μ„ ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚Έλ‹¤"<a href="https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title#%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-html%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%84%9C-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8%EC%97%90-%EB%B3%B4%EB%82%B8%EB%8B%A4" class="hash-link" aria-label="&quot;μ„λ²„μ—μ„ HTMLμ„ λ§λ“¤μ–΄μ„ ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚Έλ‹¤&quot;μ— λ€ν• μ§μ ‘ λ§ν¬" title="&quot;μ„λ²„μ—μ„ HTMLμ„ λ§λ“¤μ–΄μ„ ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚Έλ‹¤&quot;μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>μ΄ ν‘ν„μ€ μ „ν†µμ μΈ SSR(μ„λ²„μ‚¬μ΄λ“ λ λ”λ§) λ°©μ‹μ—μ„  μ μ ν•μ§€λ§, **Next.jsμ μ„λ²„ μ»΄ν¬λ„νΈ(Server Components)**μ—μ„  μ •ν™•ν•μ§€ μ•μ•„μ”.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ •ν™•ν•-ν‘ν„μ€-nextjs-rsc-κΈ°μ¤€">μ •ν™•ν• ν‘ν„μ€? (Next.js RSC κΈ°μ¤€)<a href="https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title#%EC%A0%95%ED%99%95%ED%95%9C-%ED%91%9C%ED%98%84%EC%9D%80-nextjs-rsc-%EA%B8%B0%EC%A4%80" class="hash-link" aria-label="μ •ν™•ν• ν‘ν„μ€? (Next.js RSC κΈ°μ¤€)μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ •ν™•ν• ν‘ν„μ€? (Next.js RSC κΈ°μ¤€)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<blockquote>
<p>μ„λ²„λ” React μ»΄ν¬λ„νΈ νΈλ¦¬λ¥Ό μ‹¤ν–‰ν•μ—¬ RSC PayloadλΌλ” μ§λ ¬ν™”λ λ°μ΄ν„° μ¤νΈλ¦Όμ„ μƒμ„±ν•κ³ , λΈλΌμ°μ €λ” μ΄λ¥Ό κΈ°λ°μΌλ΅ HTMLμ„ μ μ§„μ μΌλ΅ κµ¬μ„±ν•λ©°, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” hydration κ³Όμ •μ„ ν†µν•΄ μƒνΈμ‘μ©μ„ λ‹΄λ‹Ήν•΄μ”.</p>
</blockquote>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="λΉ„κµ-μ „ν†µ-ssr-vs-μ„λ²„-μ»΄ν¬λ„νΈ-κΈ°λ°-λ λ”λ§">λΉ„κµ: μ „ν†µ SSR vs μ„λ²„ μ»΄ν¬λ„νΈ κΈ°λ° λ λ”λ§<a href="https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title#%EB%B9%84%EA%B5%90-%EC%A0%84%ED%86%B5-ssr-vs-%EC%84%9C%EB%B2%84-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B8%B0%EB%B0%98-%EB%A0%8C%EB%8D%94%EB%A7%81" class="hash-link" aria-label="λΉ„κµ: μ „ν†µ SSR vs μ„λ²„ μ»΄ν¬λ„νΈ κΈ°λ° λ λ”λ§μ— λ€ν• μ§μ ‘ λ§ν¬" title="λΉ„κµ: μ „ν†µ SSR vs μ„λ²„ μ»΄ν¬λ„νΈ κΈ°λ° λ λ”λ§μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<table><thead><tr><th>ν•­λ©</th><th>μ „ν†µ SSR</th><th>RSC (Server Components)</th></tr></thead><tbody><tr><td>HTML μƒμ„± μ„μΉ</td><td>μ„λ²„μ—μ„ μ™„μ„±λ HTML μƒμ„±</td><td>μ„λ²„μ—μ„ React νΈλ¦¬ μ§λ ¬ν™”</td></tr><tr><td>μ „μ†΅ ν•νƒ</td><td>μ™„μ„±λ HTML</td><td>HTML λΌλ€ + RSC Payload + JS λ²λ“¤</td></tr><tr><td>λ™μ‘ λ°©μ‹</td><td>ν• λ²μ— μ™„μ„±λ λ¬Έμ„ μ „λ‹¬</td><td><code>&lt;script&gt;</code>λ΅ chunked νμ΄λ΅λ“ μ „λ‹¬</td></tr><tr><td>hydration</td><td>μ „μ²΄ λλ” λ¶€λ¶„ hydration</td><td>ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ§ hydration</td></tr><tr><td>λΈλΌμ°μ € μ—­ν• </td><td>λ λ”λ HTML ν‘μ‹</td><td>HTML κµ¬μ„± + hydration μν–‰</td></tr></tbody></table>
<p>ν‘μ™€ κ°™μ΄ μ‰½κ² μ΄ν•΄λ¥Ό ν•  μ μμ–΄μ”.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rsc-payloadλ€">RSC Payloadλ€?<a href="https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title#rsc-payload%EB%9E%80" class="hash-link" aria-label="RSC Payloadλ€?μ— λ€ν• μ§μ ‘ λ§ν¬" title="RSC Payloadλ€?μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ul>
<li>μ„λ²„ μ»΄ν¬λ„νΈμ React νΈλ¦¬ λ λ”λ§ κ²°κ³Όλ¥Ό μ§λ ¬ν™”ν• νΉμν• λ°μ΄ν„° ν•μ‹λ¥Ό μλ―Έν•΄μ”.</li>
<li>λΈλΌμ°μ €λ” <code>&lt;script&gt;self.__next_f.push(...)&lt;/script&gt;</code> ν•μ‹μΌλ΅ μ΄λ¥Ό λ°›μ•„ μ²λ¦¬ν•΄μ¤λ‹λ‹¤.</li>
<li>μ΄ Payloadμ—λ” μ•„λμ™€ κ°™μ€ λ‚΄μ©μ΄ ν¬ν•¨μ΄ λΌμ”.<!-- -->
<ul>
<li>μ„λ²„ μ»΄ν¬λ„νΈμ κ²°κ³Ό</li>
<li>ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ„μΉ μ •λ³΄</li>
<li>μ „λ‹¬λ props μ •λ³΄ λ“±μ΄ ν¬ν•¨λ¨</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ‹¤μ -λ„¤νΈμ›ν¬-λ™μ‘">μ‹¤μ  λ„¤νΈμ›ν¬ λ™μ‘<a href="https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title#%EC%8B%A4%EC%A0%9C-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EB%8F%99%EC%9E%91" class="hash-link" aria-label="μ‹¤μ  λ„¤νΈμ›ν¬ λ™μ‘μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ‹¤μ  λ„¤νΈμ›ν¬ λ™μ‘μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ul>
<li>μ΄κΈ° μ§„μ… μ‹ <code>document</code> μ”μ²­μ— HTML + RSC Payload + JS λ²λ“¤μ΄ ν¬ν•¨λΌμ”.</li>
<li>μ΄ν›„ νƒμƒ‰ μ‹μ—” <code>.rsc</code> λλ” <code>/_next/data/...</code> λ“±μ„ ν†µν•΄ RSC Payloadλ§ μ „μ†΅ν•΄μ”.</li>
<li>DevTools &gt; Network &gt; <code>document</code> &gt; Response μ—μ„ <code>&lt;script&gt;self.__next_f.push(...)&lt;/script&gt;</code> λΈ”λ΅μ„ ν™•μΈν•  μ μμ–΄μ”.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-κ²°λ΅ ">π§  κ²°λ΅ <a href="https://indianapoly.github.io/blog/2025/08/06/frontend/nextjs_server_component_rendering-title#-%EA%B2%B0%EB%A1%A0" class="hash-link" aria-label="π§  κ²°λ΅ μ— λ€ν• μ§μ ‘ λ§ν¬" title="π§  κ²°λ΅ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<blockquote>
<p>Next.js RSCλ” "μ„λ²„μ—μ„ HTMLμ„ λ§λ“ λ‹¤"λ” κ°λ…μ΄ μ•„λ‹λΌ, <strong>"React νΈλ¦¬μ κ²°κ³Όλ¥Ό μ§λ ¬ν™”ν•μ—¬ μ¤νΈλ¦¬λ°"</strong> ν•λ‹¤λ” κ²ƒμ΄ ν•µμ‹¬μ΄μ—μ”.</p>
</blockquote>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Frontend" term="Frontend"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Next.js ν”„λ΅μ νΈ νκ³  λ° μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ]]></title>
        <id>https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title</id>
        <link href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title"/>
        <updated>2025-08-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[κ°μ”]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="κ°μ”">κ°μ”<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#%EA%B0%9C%EC%9A%94" class="hash-link" aria-label="κ°μ”μ— λ€ν• μ§μ ‘ λ§ν¬" title="κ°μ”μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>μµκ·Ό μ‹¤μ‹κ°„ μ£Όμ‹ λ°μ΄ν„° ν”„λ΅μ νΈλ¥Ό μ§„ν–‰ν•  λ• <code>Next.js 15.3.2</code>λ¥Ό μ‚¬μ©ν•΄μ„ κ°λ°μ„ μ§„ν–‰ν• μ μ΄ μμµλ‹λ‹¤. μ΄ λ• λμ΄μΌλ³΄λ©΄ NEXT.jsκ°€ μ ν–‰ν•λ‹κΉ μ‚¬μ©μ„ ν–μ—λ”λ° μ™ μ‚¬μ©ν–κ³  μ΄μ μ„ λ³΄μ§€ λ»ν• λ¶€λ¶„μ΄ λ§μ΄ μ•„μ‰¬μ› μµλ‹λ‹¤. μ΄λ¥Ό νκ³ ν•κ³  μ–΄λ–»κ² ν•λ©΄ μμ •ν•  μ μμ„μ§€μ— λ€ν•΄μ„ κ³ λ―Όμ„ ν•΄λ³΄μ•μµλ‹λ‹¤.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="κ°λ…-κ³µλ¶€μ™€-μμ •-μ‚¬ν•­-μ μ•">κ°λ… κ³µλ¶€μ™€ μμ • μ‚¬ν•­ μ μ•<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#%EA%B0%9C%EB%85%90-%EA%B3%B5%EB%B6%80%EC%99%80-%EC%88%98%EC%A0%95-%EC%82%AC%ED%95%AD-%EC%A0%9C%EC%95%88" class="hash-link" aria-label="κ°λ… κ³µλ¶€μ™€ μμ • μ‚¬ν•­ μ μ•μ— λ€ν• μ§μ ‘ λ§ν¬" title="κ°λ… κ³µλ¶€μ™€ μμ • μ‚¬ν•­ μ μ•μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="λ°νƒ€μ„">λ°νƒ€μ„<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#%EB%9F%B0%ED%83%80%EC%9E%84" class="hash-link" aria-label="λ°νƒ€μ„μ— λ€ν• μ§μ ‘ λ§ν¬" title="λ°νƒ€μ„μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ°νƒ€μ„μ΄ λ¬΄μ—‡μΈμ§€ μ•μ•„λ³΄μ•κ³ , NEXT.jsμ—μ„ λ°νƒ€μ„μ€ μ•„λμ™€ κ°™λ‹¤λ” κ²ƒμ„ μ• μ μμ—μµλ‹λ‹¤:</p>
<ul>
<li>λ°νƒ€μ„μ€ κΈ°λ³Έμ μΌλ΅ μ‚¬μ©μκ°€ μ›Ήνμ΄μ§€λ¥Ό μ—΄κ±°λ‚, μ½”λ“κ°€ μ‹¤μ λ΅ μ‹¤ν–‰λμ—μ„ λ•λ¥Ό μλ―Έν•©λ‹λ‹¤. νΉμ€ μ„λ²„μ—μ„ SSRμ΄ μΌμ–΄λ‚  λ•λ„ ν•΄λ‹Ήμ΄λ©λ‹λ‹¤.</li>
<li>μ„λ²„ λ°νƒ€μ„ ν™κ²½<!-- -->
<ul>
<li>NEXT.js μ„λ²„μ—μ„ μ‹¤ν–‰λλ” κ²ƒμ  μλ―Έν•©λ‹λ‹¤.</li>
<li>μ„λ²„ λ°νƒ€μ„μ μ‹¤ν–‰ μ„μΉλ” Node.js νΉμ€ Edgeκ°€ μμµλ‹λ‹¤.</li>
</ul>
</li>
<li>ν΄λΌμ΄μ–ΈνΈ λ°νƒ€μ„ ν™κ²½<!-- -->
<ul>
<li>μ‚¬μ©μμ λΈλΌμ°μ €μ—μ„ μ‹¤ν–‰λλ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.</li>
</ul>
</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">"use client"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useEffect </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"react"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">ClientComponent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"λΈλΌμ°μ €μ—μ„ μ‹¤ν–‰μ΄ λ©λ‹λ‹¤."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">client component</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">Page</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"api url"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">cache</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"no-store"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">κ°μ λ°μ΄ν„°</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>ν•΄λ‹Ή μ½”λ“μ—μ„μ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈ λ°νƒ€μ„ ν™κ²½μ΄κ³  μ¦‰ λΈλΌμ°μ €μ—μ„ μ‹¤ν–‰μ΄ λλ” μ½”λ“μ…λ‹λ‹¤. ν•μ§€λ§ Page μ»΄ν¬λ„νΈλ¥Ό λ³΄κ² λλ©΄ ν•΄λ‹Ή μ½”λ“λ” μ„λ²„μ—μ„ λ¨Όμ € μ‹¤ν–‰μ΄ λκ³  μ΄ν›„ HTML κ²°κ³Όλ¥Ό λΈλΌμ°μ €μ— μ „λ‹¬μ„ ν•΄μ¤λ‹λ‹¤.</p>
<p>μ΄μ²λΌ μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ‹¤ν–‰λλ” μ„μΉκ°€ λ‹¤λ¥΄κ³  μ΄μ— λ”°λΌ μ μ ν•κ³  μ‚¬μ©ν•΄μ£Όλ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="μ΄μ „-λ‚΄κ°€-μ½”λ“λ¥Ό-μ‘μ„±ν–λ-λ΅μ§-λ°-λ³€κ²½-μ‚¬ν•­-κ³ λ―Ό">μ΄μ „ λ‚΄κ°€ μ½”λ“λ¥Ό μ‘μ„±ν–λ λ΅μ§ λ° λ³€κ²½ μ‚¬ν•­ κ³ λ―Ό<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#%EC%9D%B4%EC%A0%84-%EB%82%B4%EA%B0%80-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%96%88%EB%8D%98-%EB%A1%9C%EC%A7%81-%EB%B0%8F-%EB%B3%80%EA%B2%BD-%EC%82%AC%ED%95%AD-%EA%B3%A0%EB%AF%BC" class="hash-link" aria-label="μ΄μ „ λ‚΄κ°€ μ½”λ“λ¥Ό μ‘μ„±ν–λ λ΅μ§ λ° λ³€κ²½ μ‚¬ν•­ κ³ λ―Όμ— λ€ν• μ§μ ‘ λ§ν¬" title="μ΄μ „ λ‚΄κ°€ μ½”λ“λ¥Ό μ‘μ„±ν–λ λ΅μ§ λ° λ³€κ²½ μ‚¬ν•­ κ³ λ―Όμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ‹¤μ‹κ°„ μ£Όμ‹ λ°μ΄ν„° κ·Έλν”„λ¥Ό μ‹κ°ν™” ν•λ” κ³Όμ •μ—μ„ λ¨λ“  λ΅μ§μ„ <code>use client</code>λ΅ μ„¤μ •ν•μ—¬ κµ¬ν„ν•μ€μµλ‹λ‹¤. ν•μ§€λ§ μ΄λ ‡κ² ν•κ² λλ©΄</p>
<ol>
<li>NEXT.jsμ κ°•μ μΈ μ΄κΈ° λ λ”λ§ μ†λ„</li>
<li>SEO λ° ν¬νΌλ¨Όμ¤</li>
</ol>
<p>μ΄ 2κ°μ κ°•μ μ„ κ°€μ Έμ¤μ§€ λ»ν•λ‹¤λ” μ μ„ μ•κ² λμ—μµλ‹λ‹¤. ν•μ§€λ§ <code>use client</code>λ¥Ό μ‚¬μ©ν•μ§€ μ•μΌλ©΄ μ„λ²„ μ»΄ν¬λ„νΈλ” reChart λΌμ΄λΈλ¬λ¦¬μ™€ νΈν™μ΄ λμ§€ μ•λ”λ‹¤λ” κ²ƒμ„ μ•κ² λμ—μµλ‹λ‹¤. κ·ΈλΌμ—λ„ ν•΄λ‹Ή λ¶„κΈ°λ¥Ό ν†µν•΄ μ²λ¦¬λ¥Ό ν•κ² λλ‹¤λ©΄ javascript νμΌμ ν¬κΈ°λ¥Ό μ¤„μΌ μ μμ–΄, μ¶©λ¶„ν κ°€μΉκ°€ μμ„ κ²ƒμ΄λΌλ„ νλ‹¨μ„ ν•μ€μµλ‹λ‹¤.</p>
<p>λ”°λΌμ„ μ „μ²΄μ μΈ νλ¦„μ„ μ•„λμ™€ κ°™μ΄ κµ¬μ„±ν•΄λ³΄μ•μµλ‹λ‹¤.</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[1] μ‚¬μ©μκ°€ νμ΄μ§€μ— μ ‘κ·Ό</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2] κΈ°μ΅΄μ— ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ μ‹κ°„μ„ μ²λ¦¬ν•λ κ²ƒμ„ μ„λ²„ μ»΄ν¬λ„νΈλ΅ κ°€μ Έμ™€ λ°μ΄ν„°λ¥Ό μ²λ¦¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> μ—΄λ ¤ μμ: μ§μ „ λ°μ΄ν„° 1κ°λ§ fetch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> λ‹«ν€ μμ: μ§€λ‚ λ°μ΄ν„° λ©λ΅ fetch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[3] μ¥μ΄ μ—΄λ ¤μμ„ λ•μ™€ λ‹«ν€μμ„ λ• κ·Έλν”„λ¥Ό λ¶„κΈ°ν•μ—¬ μ²λ¦¬ν•©λ‹λ‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[4] ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ μ‹¤μ‹κ°„ λ°μ΄ν„° μ”μ²­ μ‹μ‘ (useSWR, 3μ΄λ§λ‹¤)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μμ •-λ°©ν–¥">μμ • λ°©ν–¥<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#%EC%88%98%EC%A0%95-%EB%B0%A9%ED%96%A5" class="hash-link" aria-label="μμ • λ°©ν–¥μ— λ€ν• μ§μ ‘ λ§ν¬" title="μμ • λ°©ν–¥μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="page-μ½”λ“-μμ •">Page μ½”λ“ μμ •<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#page-%EC%BD%94%EB%93%9C-%EC%88%98%EC%A0%95" class="hash-link" aria-label="Page μ½”λ“ μμ •μ— λ€ν• μ§μ ‘ λ§ν¬" title="Page μ½”λ“ μμ •μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ol>
<li>μ΄μ „ Page μ†μ¤μ½”λ“</li>
</ol>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> notFound </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"next/navigation"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">StockGraph</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"@/components/stock/StockGraph"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">StockDetailPage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter">  params</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter"></span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter">  </span><span class="token parameter literal-property property" style="color:#36acaa">params</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter known-class-name class-name">Promise</span><span class="token parameter operator" style="color:#393A34">&lt;</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> </span><span class="token parameter literal-property property" style="color:#36acaa">id</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter operator" style="color:#393A34">&gt;</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter"></span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">notFound</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"p-8"</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">StockGraph</span><span class="token plain"> symbol</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">StockDetailPage</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ol start="2">
<li>λ³€κ²½λ Page μ†μ¤ μ½”λ“</li>
</ol>
<ul>
<li>GraphWrapper μ»΄ν¬λ„νΈλ¥Ό λ§λ“¤μ–΄μ„ κ΄€λ¦¬ν•΄μ£Όλ„λ΅ ν•μ€μµλ‹λ‹¤.</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> notFound </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"next/navigation"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">StockGraph</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"@/components/stock/StockGraph"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">StockDetailPage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter">  params</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter"></span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter">  </span><span class="token parameter literal-property property" style="color:#36acaa">params</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter known-class-name class-name">Promise</span><span class="token parameter operator" style="color:#393A34">&lt;</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> </span><span class="token parameter literal-property property" style="color:#36acaa">id</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter operator" style="color:#393A34">&gt;</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span><br></span><span class="token-line" style="color:#393A34"><span class="token parameter"></span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> id </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">notFound</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"p-8"</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">GraphWrapper</span><span class="token plain"> symbol</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">StockDetailPage</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphwrapper-μ„λ²„-μ»΄ν¬λ„νΈ-μ¶”κ°€-μ μ‘">GraphWrapper μ„λ²„ μ»΄ν¬λ„νΈ μ¶”κ°€ μ μ‘<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#graphwrapper-%EC%84%9C%EB%B2%84-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%B6%94%EA%B0%80-%EC%A0%9C%EC%9E%91" class="hash-link" aria-label="GraphWrapper μ„λ²„ μ»΄ν¬λ„νΈ μ¶”κ°€ μ μ‘μ— λ€ν• μ§μ ‘ λ§ν¬" title="GraphWrapper μ„λ²„ μ»΄ν¬λ„νΈ μ¶”κ°€ μ μ‘μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>GraphWrapper μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ§λ“¤κ³  ν•΄λ‹Ή μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ¥ μ—΄λ¦Όμ—¬λ¶€μ™€ κ°€μ Έμ™€μ•Όν•λ” λ°μ΄ν„° λ° κ·Έλν”„λ¥Ό λ¶„κΈ°ν•λ„λ΅ ν•μ€μµλ‹λ‹¤.</li>
<li>μ΄λ ‡κ² ν•κ² λλ©΄ StaticStockGraphμ—μ„λ” λ¶ν•„μ”ν• λ΅μ§ λ“±μ΄ μ κ±°λμ–΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ‹¤ν–‰μ΄ λκΈ° λ–„λ¬Έμ— μλ°”μ¤ν¬λ¦½νΈ νμΌ ν¬κΈ°λ¥Ό μ¤„μΌ μ μλ‹¤λ” μ μ΄ μμµλ‹λ‹¤.</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">GraphWrapper</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter">symbol</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter"> </span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter literal-property property" style="color:#36acaa">symbol</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> marketStatus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isMarketOpen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">marketStatus</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getLastKnownStock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">symbol</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">LiveStockGraph</span><span class="token plain"> symbol</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> initialData</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getPreviousStockGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">symbol</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">StaticStockGraph</span><span class="token plain"> data</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="νκ³ λ¥Ό-μ§„ν–‰ν•λ©΄μ„-λλ‚€-μ ">νκ³ λ¥Ό μ§„ν–‰ν•λ©΄μ„ λλ‚€ μ <a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#%ED%9A%8C%EA%B3%A0%EB%A5%BC-%EC%A7%84%ED%96%89%ED%95%98%EB%A9%B4%EC%84%9C-%EB%8A%90%EB%82%80-%EC%A0%90" class="hash-link" aria-label="νκ³ λ¥Ό μ§„ν–‰ν•λ©΄μ„ λλ‚€ μ μ— λ€ν• μ§μ ‘ λ§ν¬" title="νκ³ λ¥Ό μ§„ν–‰ν•λ©΄μ„ λλ‚€ μ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>λ‹¨μν•κ² μƒκ°ν•΄λ³΄λ©΄ Wrapper μ»΄ν¬λ„νΈλ¥Ό λ§λ“¤κ³  λ¶„κΈ°ν• κ±° λ§κ³  ν™”λ ¤ν• λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ λ“¤μ–΄κ°€μμ§€λ” μ•μ•μµλ‹λ‹¤.</p>
<p>ν•μ§€λ§ NEXT.jsμ—μ„ μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λ¬΄μ—‡μΈμ§€ μ΄ν•΄ν•κ³  μ κ°€ μ‘μ„±ν• μ½”λ“λ¥Ό μ²μμΌλ΅ λ¶„μ„ν•΄λ³΄μ•λκ±° κ°™μµλ‹λ‹¤. νΉν NEXT.jsμ λ°νƒ€μ„ κ΄€μ μ—μ„ μ½”λ“λ¥Ό λ°”λΌλ³΄κ³  μ™ NEXT.jsμ—μ„ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ”μ§€ κ·Έλ¦¬κ³  ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— λ„λ¬΄ λ§μ΄ μμ΅΄ν•λ” μ½”λ“κ°€ μ‘μ„±λλ” κ²ƒ μ—­μ‹ μ§€μ–‘λλ” κ²ƒμ΄ μΆ‹λ‹¤κ³  μƒκ°μ„ ν•μ€μµλ‹λ‹¤.</p>
<p>μ΄λ²μ„ κ³„κΈ°λ΅ κΈ°μ¤€μ„ λ…ν™•ν ν•μ—¬ μ‘μ—…μ„ μ§„ν–‰ν•λ” μ‘μ—…μ΄ μ •λ§ μ¤‘μ”ν•λ‹¤λ” κ²ƒμ„ λ°°μ΄κ±° κ°™μµλ‹λ‹¤.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ°Έκ³ -μλ£">μ°Έκ³  μλ£<a href="https://indianapoly.github.io/blog/2025/08/03/frontend/nextjs_15-title#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C" class="hash-link" aria-label="μ°Έκ³  μλ£μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ°Έκ³  μλ£μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<a href="https://nextjs-ko.org/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes"><p>NEXT.js λ°νƒ€μ„ μΆ…λ¥</p></a>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Frontend" term="Frontend"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Terraform Basic(2)]]></title>
        <id>https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title</id>
        <link href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title"/>
        <updated>2025-08-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μƒνƒ-κ΄€λ¦¬">μƒνƒ κ΄€λ¦¬<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC" class="hash-link" aria-label="μƒνƒ κ΄€λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="μƒνƒ κ΄€λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>ν…λΌνΌμ€ μμ‹ μ΄ λ‹΄λ‹Ήν•λ” μΈν”„λΌκ°€ λ¬΄μ—‡μΈμ§€ μ–΄λ–»κ² μ•κΉμ”? κ·Έκ²ƒμ„ ν• λ² μ•μ•„λ³΄κ³ μ ν•©λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ν…λΌνΌμ-μƒνƒλ€">ν…λΌνΌμ μƒνƒλ€?<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%ED%85%8C%EB%9D%BC%ED%8F%BC%EC%9D%98-%EC%83%81%ED%83%9C%EB%9E%80" class="hash-link" aria-label="ν…λΌνΌμ μƒνƒλ€?μ— λ€ν• μ§μ ‘ λ§ν¬" title="ν…λΌνΌμ μƒνƒλ€?μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν…λΌνΌμ„ μ‹¤ν–‰ν•  λ•λ§λ‹¤ ν…λΌνΌ μƒνƒ νμΌμ— μƒμ„±λ μΈν”„λΌμ— λ€ν• μ •λ³΄κ°€ κ°™μ΄ κΈ°λ΅μ΄ λΌμ”.</p>
<p><code>/foo/bar</code> ν΄λ” λ‚΄λ¶€μ .tf νμΌμ„ μ‹¤ν–‰μ„ ν•κ² λλ©΄ ν•΄λ‹Ή ν΄λ” λ‚΄λ¶€μ— <code>/terraform.tfstate</code> νμΌμ„ μƒμ„±ν•΄μ”. ν•΄λ‹Ή νμΌμ—λ” trrraform λ¦¬μ†μ¤μ—μ„ μ‹¤μ  μ†μ¤ ν‘ν„μΌλ΅μ λ§¤ν•‘μ„ κΈ°λ΅μ΄ λμ–΄μμ–΄μ”.</p>
<div class="language-tf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-tf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_instance" "example" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ami = "ami-..."</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instance_type = "t2.micro"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>ν•΄λ‹Ή ν…λΌνΌ μ½”λ“λ¥Ό μ‹¤ν–‰μ„ ν•κ³  .tfstate νμΌμ„ ν™•μΈν•΄λ³΄λ©΄</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"instance"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"attributes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"ami"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ami-..."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"i-..."</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>μ΄λ°μ‹μΌλ΅ jsonμ΄ μ‘μ„±μ΄ λ κ²ƒμ„ ν™•μΈν•  μ μμ–΄μ”. μ΄ λ• μ•„μ΄λ””λ” μ‹¤μ  aws ec2 μΈμ¤ν„΄μ¤μ μ•„μ΄λ””λ¥Ό μλ―Έν•΄μ”. λ”°λΌμ„ ν…λΌνΌμ„ μ‹¤ν–‰ν•  λ•λ§λ‹¤ awsμ—μ„ ec2 μΈμ¤ν„΄μ¤μ μµμ‹  μƒνƒλ¥Ό κ°€μ Έμ¤κ³  μ΄λ¥Ό ν…λΌνΌ κµ¬μ„±μ λ‚΄μ©κ³Ό λΉ„κµν•μ—¬ μ μ©ν•΄μ•Ό ν•  λ³€κ²½ μ‚¬ν•­μ„ κ²°μ •ν•  μ μμ–΄μ”.</p>
<p>μƒνƒ νμΌμ€ λΉ„κ³µκ° APIμ—μ”. μ΄λ¥Ό μ§μ ‘μ μΌλ΅ νΈμ§‘ν•κ±°λ‚ μ§μ ‘ μ½λ” μ½”λ“λ¥Ό μ‘μ„±ν•λ©΄ μ•λΌμ”. μ΅°μ‘ν•΄μ•Όν•λ” κ²½μ°μ—λ” <code>terraform import</code>, <code>terraform state</code> λ…λ Ήμ„ μ‚¬μ©ν•΄μ£Όλ©΄ λΌμ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tfstate-κ³µμ ">.tfstate κ³µμ <a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#tfstate-%EA%B3%B5%EC%9C%A0" class="hash-link" aria-label=".tfstate κ³µμ μ— λ€ν• μ§μ ‘ λ§ν¬" title=".tfstate κ³µμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν…λΌνΌμ„ κ°μΈ ν”„λ΅μ νΈμ—μ„ μ‚¬μ©μ„ ν•λ©΄ λ¬Έμ κ°€ μ—†λ”λ°, μ‹¤μ  μ ν’μ—μ„ ν€μΌλ΅ ν…λΌνΌμ„ μ‚¬μ©ν•κ² λλ©΄ μ•„λμ™€ κ°™μ€ λ¬Έμ μ— μ§λ©΄ν•΄μ”.</p>
<ol>
<li>μƒνƒ νμΌμ„ μ„ν• κ³µμ  μ €μ¥μ† : ν…λΌνΌμ„ μ‚¬μ©ν•μ—¬ μΈν”„λΌλ¥Ό μ—…λ°μ΄νΈν•λ ¤λ©΄ κ° ν€ κµ¬μ„±μ›μ΄ λ™μΌν• ν…λΌνΌ μƒνƒ νμΌμ— μ•΅μ„Έμ¤ ν•΄μ•Όν•΄μ”. μ΄λ” ν•΄λ‹Ή νμΌμ„ κ³µμ  μ„μΉμ— <code>μ €μ¥</code> ν•΄μ•Όν•λ” κ²ƒμ„ μλ―Έν•΄μ”.</li>
<li>μƒνƒ νμΌ μ κΈ : μ κΈ μ—†μ΄ ν€ κµ¬μ„±μ›μ΄ λ™μ‹μ— ν…λΌνΌ μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ” κ²½μ° ν…λΌνΌ ν”„λ΅μ„Έμ¤κ°€ λ™μ‹μ— μ—…λ°μ΄νΈν•μ—¬ μ¶©λν•  μ μμ–΄μ”.</li>
<li>μƒνƒ νμΌ κ²©λ¦¬ : μΈν”„λΌλ¥Ό λ³€κ²½ν•  λ•λ” λ‹¤μ–‘ν• ν™κ²½μ„ κ²©λ¦¬ν•λ” κ²ƒμ΄ λ¨λ²”μ μ΄μ—μ”.</li>
</ol>
<p>ν•΄λ‹Ή λ¬Έμ μ— λ€ν•΄μ„ μ•„λμ™€ κ°™μ΄ ν•΄κ²° ν•  μκ°€ μμ–΄μ”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μƒνƒ-νμΌμ„-μ„ν•-κ³µμ -μ €μ¥μ†">μƒνƒ νμΌμ„ μ„ν• κ³µμ  μ €μ¥μ†<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%EC%83%81%ED%83%9C-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EC%9C%84%ED%95%9C-%EA%B3%B5%EC%9C%A0-%EC%A0%80%EC%9E%A5%EC%86%8C" class="hash-link" aria-label="μƒνƒ νμΌμ„ μ„ν• κ³µμ  μ €μ¥μ†μ— λ€ν• μ§μ ‘ λ§ν¬" title="μƒνƒ νμΌμ„ μ„ν• κ³µμ  μ €μ¥μ†μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>λ³΄ν†µμ€ κ³µν†µλ κ²ƒμ— μ—‘μ„Έμ¤λ¥Ό ν•  λ•λ” gitκ³Ό κ°™μ€ κ²ƒμ— λ‘λ”κ² μΆ‹μ•„μ”. ν•μ§€λ§ ν…λΌνΌ μ½”λ“λ¥Ό λ²„μ „ μ μ–΄μ— μ €μ¥ν•λ” κ²ƒμ€ μ•„λμ™€ κ°™μ€ μ΄μ λ΅ μΆ‹μ§€ μ•μ•„μ”:\</p>
<ul>
<li>μλ™μ‘μ—…μ— λ€ν• μ¤λ¥<!-- -->
<ul>
<li>ν…λΌνΌμ„ μ‹¤ν–‰ν•κΈ° μ „ λ²„μ „ μ μ–΄μ—μ„ μµμ‹  λ³€κ²½ μ‚¬ν•­μ„ ν’€λ‹¤μ΄ν•κ±°λ‚, μ‹¤ν–‰ν• μ΄ν›„μ— μµμ‹  λ³€κ²½μ‚¬ν•­μ„ ν‘Έμ‰¬ν•λ” κ²ƒμ„ μμ–΄λ²„λ¦¬κΈ° μ‰¬μ›μ”. ν€μ λ„κµ°κ°€κ°€ μ¤λλ νμΌμ„ μ‹¤ν–‰ν•μ—¬ μ΄μ „ λ°°ν¬λ΅ λ΅¤λ°±ν•κ±°λ‚ ν•  μ μκΈ° λ•λ¬Έμ΄μ—μ”.</li>
</ul>
</li>
<li>μ κΈ<!-- -->
<ul>
<li>λ€λ¶€λ¶„μ λ²„μ „ μ μ–΄ μ‹μ¤ν…λ“¤μ€ λ™μΌν• μƒνƒ νμΌμ— λ€ν•΄μ„ applyν•λ” κ²ƒμ„ λ°©μ§€ν•΄μ£Όμ§€ μ•μ•„μ”.</li>
</ul>
</li>
<li>λΉ„λ°€<!-- -->
<ul>
<li>ν…λΌνΌμ μƒνƒ νμΌμ€ κΈ°λ³Έμ μΌλ΅ μΌλ° ν…μ¤νΈλ΅ μ €μ¥μ΄ λκΈ° λ•λ¬Έμ— λ―Όκ°ν• λ°μ΄ν„°κ°€ λ“¤μ–΄κ° μλ„ μμ–΄μ”.</li>
</ul>
</li>
</ul>
<p>λ²„μ „ μ μ΄ μ‹μ¤ν…μ„ μ‚¬μ©ν•λ” κ²ƒλ³΄λ‹¤ μ μΌ μΆ‹μ€ λ°©λ²•μ€ <code>μ›κ²© λ°±μ—”λ“</code>λ¥Ό μ‚¬μ©ν•λ”κ² μΆ‹μ•„μ”. κΈ°λ³Έ λ°±μ—”λ“λ” λ΅μ»¬ λ””μ¤ν¬μ— μƒνƒ νμΌμ„ μ €μ¥ν•λ” λ΅μ»¬ λ°±μ—”λ“μ΄κ³  μ›κ²© λ°±μ—”λ“λ” μ›κ²© κ³µμ  μ €μ¥μ†μ— μ €μ¥ν•  μ μμ–΄μ”.</p>
<p>λ€ν‘μ μΌλ΅λ” AWS S#, Azure Storage, Google Cloud Storage κ°€ μμ–΄μ”.</p>
<p>μ›κ²© λ°±μ—”λ“λ¥Ό μ‚¬μ©μ„ ν•λ©΄ μ„μ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μμ–΄μ”.</p>
<ul>
<li>μλ™μ‘μ—…μ— λ€ν• μ¤λ¥<!-- -->
<ul>
<li>μ›κ²© λ°±μ—”λ“λ¥Ό κµ¬μ„±ν•κ³  plan νΉμ€ applyλ¥Ό ν•λ©΄ ν•΄λ‹Ή λ°±μ—”λ“μ— μƒνƒ νμΌμ„ μλ™μΌλ΅ λ΅λ“ν•κ³  μƒνƒνμΌμ„ μ €μ¥ν•΄μ£ΌκΈ° λ•λ¬Έμ— μ¤λ¥κ°€ λ°μƒν•  κ°€λ¥μ„±μ΄ μ—†μ–΄μ”.</li>
</ul>
</li>
<li>μ κΈ<!-- -->
<ul>
<li>μ›κ²© λ°±μ—”λ“λ” κΈ°λ³Έμ μΌλ΅ μ κΈμ„ μ§€μ›μ”. terraform applyλ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•΄ ν…λΌνΌμ€ μλ™μΌλ΅ μ κΈμ΄ λ©λ‹λ‹¤.</li>
</ul>
</li>
<li>λΉ„λ°€<!-- -->
<ul>
<li>μ›κ²© λ°±μ—”λ“λ” κΈ°λ³Έμ μΌλ΅ μ „μ†΅ γ……μ¤‘ μ•”νΈν™”μ™€ λ‚λ¨Έμ§€ μƒνƒ νμΌ μ•”νΈν™”λ¥Ό μ§€μ›ν•΄μ¤λ‹λ‹¤.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="μ‹¤μµ">μ‹¤μµ<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬" title="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-tf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-tf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">provider "aws" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    region = "ap-northeast-2"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resoure "aws_s3_bucket" "terraform_state" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bucket = "terraform-state-alias"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lifecycle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prevent_destroy = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>λ²„ν‚· μ΄λ¦„μ„ μ§€μ •ν•κ³  <code>prevent_destroy</code> μ„¤μ •μ„ λ‘μ–΄ μ‚­μ λ¥Ό λ°©μ§€ν•΄μ¤„ μ μμ–΄μ”.</p>
<p>κ·Έλ‹¤μμ— λ‡ κ°€μ§€ λ³΄νΈ κ³„μΈµμ„ μ¶”κ°€ν•΄μ¤λ‹λ‹¤.</p>
<ol>
<li>λ²„μ €λ‹ λ¦¬μ†μ¤λ¥Ό μ‚¬μ©ν•λ©΄ λ²„ν‚·μ νμΌμ„ μ—…λ°μ΄νΈ ν•  λ€λ§λ‹¤ ν•΄λ‹Ή νμΌμ μƒ λ²„μ „μ΄ μƒμ„±λΌμ”. μ΄λ¥Ό ν†µν•΄μ„ μ΄μ „ λ²„μ „μΌλ΅ λλ¦΄ μ μμ–΄μ”.</li>
<li>server_side_encryption_configurationμ„ μ‚¬μ©ν•μ—¬ κΈ°λ΅λλ” λ¨λ“  λ°μ΄ν„°μ— λ€ν•΄μ„ μ„λ²„ μΈ΅ μ•”νΈν™”λ¥Ό ν™μ„±ν™” ν•΄μ”.</li>
<li>public_access_blockμ„ μ‚¬μ©ν•΄μ„ λ¨λ“  νΌλΈ”λ¦­ μ—‘μ„Έμ¤λ¥Ό μ°¨λ‹¨ν•©λ‹λ‹¤.</li>
</ol>
<div class="language-tf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-tf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_s3_bucket_versioning" "enabled" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bucket = aws_s3_bucket.terraform_state.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    versioning_configuration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        status = "Enabled"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_s3_bucket_server_side_encryption_configuration" "default" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bucket = aws_s3_bucket.terraform_state.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rule {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        apply_server_side_encryption_by_default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sse_algorithm = "AES256"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_s3_bucket_public_access_block" "public_access" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bucket = aws_s3_bucket.terraform_state.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    block_public_acls = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    block_public_policy = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ignore_public_acls = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    restrict_public_buckets = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>κ·Έ λ‹¤μμ—λ” dynamoDBλ¥Ό μƒμ„±ν•΄μ¤λ‹λ‹¤. dynamoDBλ” NoSQL DBμ μΌμΆ…μΌλ΅ λ™μ‹μ— μ—¬λ¬ μ‚¬μ©μκ°€ μ‹¤ν–‰ν–μ„ λ• λ°μƒν•  μ μλ” μ¶©λμ„ λ°©μ§€ν•΄μ¤λ‹λ‹¤.</p>
<div class="language-tf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-tf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_dynamodb_table" "terraform_locks" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name = "terraform-locks"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  billing_mode = "PAY_PER_REQUEST"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hash_key = "LockID"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  attribute {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name = "LockID"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type = "S"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>κΈ°μ΄μ μΈ μ‘μ—…μ€ λ¨λ‘ λ§λ¬΄λ¦¬ν–μ–΄μ”. κ·Έλ°λ° ν•΄λ‹Ή μƒνƒλ΅λ§ μ§€μ •μ„ ν•΄λ‘κ³  μ‹¤ν–‰μ„ ν•λ©΄ μ•„μ§μ€ λ΅μ»¬ λ°±μ—”λ“ ν™κ²½μ΄μ—μ”. μ΄μ  μ›κ²© λ°±μ—”λ“λ΅ μ§€μ •μ„ ν•΄μ£Όλ„λ΅ ν•΄λ³Όκ»μ”.</p>
<p>ν•΄λ‹Ή μ½”λ“λ” μ μΌ μµμƒλ‹¨μ— μ§€μ •ν•΄μ£Όλ©΄ λΌμ”. μ—¬κΈ°μ— λ“¤μ–΄κ°€λ” κ°’λ“¤μ€ μ„μ—μ„ μ§€μ •ν• μ΄λ¦„λ“¤μ„ ν•λ“μ½”λ”©ν•΄μ£Όλ©΄ λ©λ‹λ‹¤. (λ” μΆ‹μ€ λ°©λ²• μ¶©λ¶„ν μλ‹¤κ³  μƒκ°ν•΄μ”.)</p>
<div class="language-tf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-tf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    backend "s3" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bucket = "terraform-state"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        key = "global/s3/terraform.tfstate"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        region = "ap-northeast-2"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dynamodb_table = "terraform-locks"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        encrypt = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>μ‚­μ λ¥Ό ν•κΈ° μ„ν•΄μ„λ”</p>
<ol>
<li>λ°±μ—”λ“ κµ¬μ„±μ„ μ κ±°ν•κ³  initμ„ μ‹¤ν–‰ν•©λ‹λ‹¤.</li>
<li>terraform destroyλ¥Ό μ‹¤ν–‰ν•μ—¬ λ¦¬μ†μ¤λ¥Ό μ‚­μ ν•©λ‹λ‹¤.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μƒνƒ-νμΌ-κ²©λ¦¬">μƒνƒ νμΌ κ²©λ¦¬<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%EC%83%81%ED%83%9C-%ED%8C%8C%EC%9D%BC-%EA%B2%A9%EB%A6%AC" class="hash-link" aria-label="μƒνƒ νμΌ κ²©λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="μƒνƒ νμΌ κ²©λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>μ„μ™€ κ°™μ΄ μ§„ν–‰μ„ ν•΄μ¤€λ‹¤λ©΄ ν‘μ—…μ—μ„λ” λ¬Έμ κ°€ μ•λΌμ”. ν•μ§€λ§ κ²©λ¦¬ λ¶€λ¶„μ— μμ–΄μ„λ” λ¬Έμ κ°€ μμµλ‹λ‹¤.</p>
<p>λ‹¨μΌ νμΌ λ‚΄μ—μ„ λ¨λ“  λ¦¬μ†μ¤λ¥Ό κ΄€λ¦¬λ¥Ό ν•κ² λλ²„λ¦¬λ©΄ μ¤ν…μ΄μ§• λ‹¨κΌμ—μ„ λ°°ν¬λ¥Ό μ‹λ„ν•λ‹¤κ°€ ν”„λ΅λ•μ… λ‹¨κ³„μ—μ„ μ•±μ΄ μ¤‘λλ  μλ„ μκ³ , λ²„κ·Έλ΅ μΈν•΄ λ¨λ“  λ¦¬μ†μ¤κ°€ μ†μƒλ  μλ„ μμ–΄μ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="μ‘μ—…-κ³µκ°„μ„-ν†µν•-κ²©λ¦¬">μ‘μ—… κ³µκ°„μ„ ν†µν• κ²©λ¦¬<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%EC%9E%91%EC%97%85-%EA%B3%B5%EA%B0%84%EC%9D%84-%ED%86%B5%ED%95%9C-%EA%B2%A9%EB%A6%AC" class="hash-link" aria-label="μ‘μ—… κ³µκ°„μ„ ν†µν• κ²©λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ‘μ—… κ³µκ°„μ„ ν†µν• κ²©λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>terraform workspaceλ¥Ό μ‚¬μ©ν•λ©΄ ν…λΌνΌ μƒνƒλ¥Ό λ³„λ„μ μ΄λ¦„μ΄ μ§€μ •λ μ—¬λ¬ μ‘μ—… κ³µκ°„μ— μ €μ¥ν•  μ μμ–΄μ”.</p>
<p>μ‘μ—… κ³µκ°„μ„ λ…μ‹ν•μ§€ μ•μΌλ©΄ κΈ°λ³Έ μ‘μ—… κ³µκ°„μ΄ μ „μ²΄ μ‹κ°„ λ™μ• μ‚¬μ©λΌμ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="μ‹¤μµ-1">μ‹¤μµ<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%EC%8B%A4%EC%8A%B5-1" class="hash-link" aria-label="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬" title="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ•μ„ μ‘μ—…ν• λ¶€λ¶„μ—μ„ keyλ¥Ό workspaces-example/terraform.tfstateλ΅ λ§ μμ •μ„ ν•΄μ¤λ‹λ‹¤.</p>
<div class="language-tf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-tf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    backend "s3" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bucket = "terraform-state"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        key = "workspaces-example/terraform.tfstate"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        region = "us-east-2"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dynamodb_table = "terraform-locks"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        encrypt = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre></div></div>
<p>μ„ λ…λ ΉμΌλ΅ μ½”λ“λ¥Ό λ°°ν¬ν•΄μ¤λ‹λ‹¤.</p>
<p>κ·Έ λ‹¤μμ—</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace new example1</span><br></span></code></pre></div></div>
<p>μ„ μ‹¤ν–‰μ‹μΌ μƒ μ‘μ—… κ³µκ°„μ„ λ§λ“¤μ–΄μ” κ·Έλ¦¬κ³  <code>terraform plan</code> λ…λ Ήμ„ μ‹¤ν–‰ν•λ©΄ μƒλ΅μ΄ ec2λ¥Ό μ²μλ¶€ν„° μƒμ„±ν•λ” κ²ƒμ„ ν™•μΈν•  μ μμ–΄μ”.</p>
<p><code>terraform apply</code>λ¥Ό μ‹¤ν–‰ν•λ©΄ μƒ μ‘μ—… κ³µκ°„μ— μΈμ¤ν„΄μ¤κ°€ λ°°ν¬λ κ²ƒμ„ ν™•μΈν•  μ μμ–΄μ”.</p>
<p>μ•„λ λ…λ Ήμ–΄λ¥Ό ν†µν•΄μ„ μ‘μ—… κ³µκ°„μ„ λ°”κΎΈμ–΄μ¤„ μ μμ–΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace select default</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="νμΌ-λ μ΄μ•„μ›ƒμ„-ν†µν•-κ²©λ¦¬">νμΌ λ μ΄μ•„μ›ƒμ„ ν†µν• κ²©λ¦¬<a href="https://indianapoly.github.io/blog/2025/08/03/terraform/terraform-basic-2-title#%ED%8C%8C%EC%9D%BC-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83%EC%9D%84-%ED%86%B5%ED%95%9C-%EA%B2%A9%EB%A6%AC" class="hash-link" aria-label="νμΌ λ μ΄μ•„μ›ƒμ„ ν†µν• κ²©λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="νμΌ λ μ΄μ•„μ›ƒμ„ ν†µν• κ²©λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν™κ²½μ„ μ™„μ „ν κ²©λ¦¬ν•λ ¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ μν–‰ν•΄μ£Όλ©΄ λΌμ”.</p>
<ol>
<li>κ° ν™κ²½μ ν…λΌνΌ κµ¬μ„± νμΌμ„ λ³„λ„μ ν΄λ”μ— λ„£μ–΄μ”.</li>
<li>μ„λ΅ λ‹¤λ¥Έ μΈμ¦ λ§¤μ»¤λ‹μ¦κ³Ό μ•΅μ„Έμ¤ μ μ–΄λ¥Ό μ‚¬μ©ν•μ—¬ κ° ν™κ²½μ— λ€ν• μ„λ΅ λ‹¤λ¥Έ λ°±μ—”λ“λ¥Ό κµ¬μ„±ν•΄μ£Όμ–΄μ”.</li>
</ol>
<p>ν…λΌνΌ ν”„λ΅μ νΈλ” ν™κ²½ -&gt; κµ¬μ„±μ”μ† -&gt; κµ¬μ„±νμΌμ κ³„μΈµ κµ¬μ΅°λ΅ κ΄€λ¦¬λ¥Ό μ§„ν–‰ν•΄μ”</p>
<div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> μµμƒμ„ ν™κ²½ λ””λ ‰ν† λ¦¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#00009f">`global`</span><span class="token plain"> : λ¨λ“  ν™κ²½μ—μ„ κ³µν†µ μ‚¬μ© (μ: S3, IAM)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#00009f">`mgmt`</span><span class="token plain"> : DevOps λ„κµ¬ λ° μΈν”„λΌ κ΄€λ¦¬ (μ: λ°°μ¤μ², CI μ„λ²„)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#00009f">`stage`</span><span class="token plain"> : ν…μ¤νΈ/μ‚¬μ „ ν”„λ΅λ•μ… ν™κ²½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#00009f">`prod`</span><span class="token plain"> : μ‹¤μ  μ΄μ ν™κ²½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> ν™κ²½ λ‚΄ κµ¬μ„±μ”μ† λ””λ ‰ν† λ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#00009f">`vpc/`</span><span class="token plain"> : λ„¤νΈμ›ν¬ ν† ν΄λ΅μ§€ μ •μ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#00009f">`services/`</span><span class="token plain"> : μ„λΉ„μ¤ λλ” μ•± (μ: μ›Ή μ„λ²„, API λ“±)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> ex. </span><span class="token code-snippet code keyword" style="color:#00009f">`services/frontend/`</span><span class="token plain">, </span><span class="token code-snippet code keyword" style="color:#00009f">`services/backend/`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#00009f">`data-storage/`</span><span class="token plain"> : λ°μ΄ν„° μ €μ¥μ†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> ex. </span><span class="token code-snippet code keyword" style="color:#00009f">`data-storage/mysql/`</span><span class="token plain">, </span><span class="token code-snippet code keyword" style="color:#00009f">`data-storage/redis/`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> κµ¬μ„± μ”μ† λ‚΄ νμΌ κµ¬μ„±</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> νμΌλ…            </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row table-header important"> μ—­ν•                           </span><span class="token table table-header-row punctuation" style="color:#393A34">|</span><span class="token table table-header-row"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-header-row"></span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">-----------------</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">-----------------------------</span><span class="token table table-line"> </span><span class="token table table-line punctuation" style="color:#393A34">|</span><span class="token table table-line"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-line"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows table-data code-snippet code keyword" style="color:#00009f">`main.tf`</span><span class="token table table-data-rows table-data">         </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> μ£Όμ” λ¦¬μ†μ¤ μ •μ              </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-data-rows"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows table-data code-snippet code keyword" style="color:#00009f">`variables.tf`</span><span class="token table table-data-rows table-data">    </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> μ…λ ¥ λ³€μ μ •μ                </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-data-rows"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows table-data code-snippet code keyword" style="color:#00009f">`outputs.tf`</span><span class="token table table-data-rows table-data">      </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> μ¶λ ¥ λ³€μ μ •μ                </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-data-rows"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows table-data code-snippet code keyword" style="color:#00009f">`providers.tf`</span><span class="token table table-data-rows table-data">    </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> provider μ„¤μ • μ •μ            </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows"></span><br></span><span class="token-line" style="color:#393A34"><span class="token table table-data-rows"></span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows table-data code-snippet code keyword" style="color:#00009f">`dependencies.tf`</span><span class="token table table-data-rows table-data"> </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><span class="token table table-data-rows table-data"> μ™Έλ¶€ λ°μ΄ν„° μ†μ¤ λ° μ°Έμ΅° μ •μ </span><span class="token table table-data-rows punctuation" style="color:#393A34">|</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Terraform" term="Terraform"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Terraform Basic(1)]]></title>
        <id>https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title</id>
        <link href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title"/>
        <updated>2025-08-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="κ°λ…-ν•™μµ">κ°λ… ν•™μµ<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%EA%B0%9C%EB%85%90-%ED%95%99%EC%8A%B5" class="hash-link" aria-label="κ°λ… ν•™μµμ— λ€ν• μ§μ ‘ λ§ν¬" title="κ°λ… ν•™μµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="νƒλΌνΌ-μ†κ°">νƒλΌνΌ μ†κ°<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%ED%83%9C%EB%9D%BC%ED%8F%BC-%EC%86%8C%EA%B0%9C" class="hash-link" aria-label="νƒλΌνΌ μ†κ°μ— λ€ν• μ§μ ‘ λ§ν¬" title="νƒλΌνΌ μ†κ°μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>κµ¬μ„± νμΌμ„ μ‚¬μ©ν•μ—¬ λ²„μ „ κ΄€λ¦¬μ™€ μ¬μ‚¬μ© λ° κ³µμ  κΈ°λ¥μ„ μ κ³µν•΄μ”. ν΄λΌμ°λ“ λ° μ¨ν”„λ λ―Έμ¤ λ¦¬μ†μ¤λ¥Ό λ¨λ‘ μ •μν•  μ μλ” μ½”λ“ν• μΈν”„λΌ κ΄€λ¦¬ λ„κµ¬μ…λ‹λ‹¤.</li>
<li>ν…λΌνΌμΌλ΅ λ¦¬μ†μ¤λ¥Ό ν”„λ΅λΉ„μ €λ‹ν•λ©΄ ν”„λ΅λΉ„μ €λ‹λ κ²ƒμ„ ansibleκ³Ό κ°™μ€ κ²ƒλ“¤λ΅ κ΄€λ¦¬λ¥Ό ν•΄μ¤„ μκ°€ μμ–΄μ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ν”„λ΅λΉ„μ €λ‹-λ„κµ¬">ν”„λ΅λΉ„μ €λ‹ λ„κµ¬<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%ED%94%84%EB%A1%9C%EB%B9%84%EC%A0%80%EB%8B%9D-%EB%8F%84%EA%B5%AC" class="hash-link" aria-label="ν”„λ΅λΉ„μ €λ‹ λ„κµ¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="ν”„λ΅λΉ„μ €λ‹ λ„κµ¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν”„λ΅λΉ„μ €λ‹ λ„κµ¬λ” μ„λ²„ μμ²΄λ¥Ό μƒμ„±ν•©λ‹λ‹¤. λ„κµ¬λ¥Ό μ‚¬μ©ν•λ©΄ μ„λ²„ λΏλ§ μ•„λ‹λΌ λ¨λ“  μΈ΅λ©΄μ„ μƒμ„±ν•  μ μμ–΄μ”.</p>
<p>μ•„λλ” ν…λΌνΌμ μμ‹ μλ‹¤ μ›Ή μ„λ²„λ¥Ό λ°°ν‘ν•λ” μ½”λ“μ—μ”. ν•΄λ‹Ή μ½”λ“μ—μ„λ” amiμ™€ user_dataμ— μ§‘μ¤‘ν•λ©΄ μΆ‹μ•„μ”.</p>
<ul>
<li>amiλ” μ„λ²„μ—μ„ λ°°ν¬ν•  amiμ idλ¥Ό μ§€μ •ν•΄μ”.</li>
<li>user_dataλ” μ›Ή μ„λ²„κ°€ λ¶€ν…λ  λ• μ‹¤ν–‰λλ” bash μ¤ν¬λ¦½νΈμ—μ”.</li>
</ul>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource  "aws_instance" "app" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instance_type      =  "t2.micro"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  availability_zone  =  "us-east-2a"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ami                =  "ami-0fb653ca2d3203ac1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  user_data  =  &lt;&lt;-EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                #!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sudo  service  apache 2  start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ν…λΌνΌ-λ™μ‘-λ°©λ²•">ν…λΌνΌ λ™μ‘ λ°©λ²•<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%ED%85%8C%EB%9D%BC%ED%8F%BC-%EB%8F%99%EC%9E%91-%EB%B0%A9%EB%B2%95" class="hash-link" aria-label="ν…λΌνΌ λ™μ‘ λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬" title="ν…λΌνΌ λ™μ‘ λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν…λΌνΌμ€ κΈ°λ³Έμ μΌλ΅ Go ν”„λ΅κ·Έλλ° μ–Έμ–΄λ΅ μ‘μ„±λ μ¤ν” μ†μ¤ λ„κµ¬μ—μ”. λ”°λΌμ„ terraformμ΄λΌλ” μ»΄νμΌλ λ°”μ΄λ„λ¦¬λ¥Ό μ‹¤ν–‰ν•κΈ°λ§ ν•λ©΄ μ¶”κ°€ μΈν”„λΌ μ‹¤ν–‰ μ—†μ΄ μΈν”„λΌλ¥Ό λ°°ν¬ν•  μ μμ–΄μ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ν…λΌνΌ-λ¦¬μ†μ¤-μƒμ„±">ν…λΌνΌ λ¦¬μ†μ¤ μƒμ„±<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%ED%85%8C%EB%9D%BC%ED%8F%BC-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%83%9D%EC%84%B1" class="hash-link" aria-label="ν…λΌνΌ λ¦¬μ†μ¤ μƒμ„±μ— λ€ν• μ§μ ‘ λ§ν¬" title="ν…λΌνΌ λ¦¬μ†μ¤ μƒμ„±μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν…λΌνΌμ—μ„ λ¦¬μ†μ¤ μƒμ„±μ€ μ•„λμ™€ κ°™μ΄ ν…ν”λ¦Ώμ„ ν™μ©ν•΄ μ‘μ„±ν•  μ μμ–΄μ”.</p>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource  "&lt;PROVIDER&gt;_&lt;TYPE&gt;" "&lt;NAME&gt;"  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [ CONFIG  ... ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<ul>
<li>PROVIDERλ” awsμ™€ κ°™μ€ κ²ƒμ΄κ³ </li>
<li>TYPEμ€ ν•΄λ‹Ή κ³µκΈ‰μμ—μ„ μƒμ„±ν•  λ¦¬μ†μ¤ μ ν• (μΈμ¤ν„΄μ¤μ™€ κ°™μ€ κ²ƒλ“¤) μ΄μ—μ”.</li>
<li>Nameμ€ ν…λΌνΌ μ½”λ“μ—μ„ ν•΄λ‹Ή λ¦¬μ†μ¤λ¥Ό μ°Έμ΅°ν•λ”λ° μ‚¬μ©ν•λ” μ‹λ³„μμ…λ‹λ‹¤.</li>
<li>CONFIGλ” ν•΄λ‹Ή λ¦¬μ†μ¤μ™€ κ΄€λ ¨λ ν•λ‚ μ΄μƒμ μΈμλ΅ κµ¬μ„±λΌμ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="μ½”λ“-λ™κΈ°ν™”">μ½”λ“ λ™κΈ°ν™”<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%EC%BD%94%EB%93%9C-%EB%8F%99%EA%B8%B0%ED%99%94" class="hash-link" aria-label="μ½”λ“ λ™κΈ°ν™”μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ½”λ“ λ™κΈ°ν™”μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>terraformμΌλ΅ κµ¬μ¶•ν•΄λ†“μ€ κ²ƒμ„ λ™κΈ°ν™”ν•κΈ° μ„ν•΄μ„λ” μ‘μ„±ν• .tf νμΌλ“¤κ³Ό .terraform.lock.hcl νμΌλ§ κΉƒν—™μ— μ¬λ¦¬λ©΄ λΌμ”.</p>
<div class="language-.gitignore codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-.gitignore codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.terraform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*.tfstate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*.tfstate.backup</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ‹¤μµ">μ‹¤μµ<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬" title="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ν…λΌνΌ-μ΄κΈ°-μ„Έν…-λ°©λ²•">ν…λΌνΌ μ΄κΈ° μ„Έν… λ°©λ²•<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%ED%85%8C%EB%9D%BC%ED%8F%BC-%EC%B4%88%EA%B8%B0-%EC%84%B8%ED%8C%85-%EB%B0%A9%EB%B2%95" class="hash-link" aria-label="ν…λΌνΌ μ΄κΈ° μ„Έν… λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬" title="ν…λΌνΌ μ΄κΈ° μ„Έν… λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ol>
<li>IAM μ‚¬μ©μλ¥Ό λ§λ“¤μ–΄μ¤λ‹λ‹¤. μ›λλ” μµμ†ν•μ κ¶ν•λ§ μ£Όμ§€λ§ μ‹¤μµμ„ μ§„ν–‰ν•κΈ° μ„ν•΄μ„ κ¶ν•μ„ <code>AdministratorAccess</code> λ΅ μ„¤μ • ν›„ λ§λ“¤μ–΄μ¤λ‹λ‹¤.</li>
<li>λ§λ“  μ‚¬μ©μλ΅ λ“¤μ–΄κ°€μ„ κ°λ°μ„ access keyλ¥Ό μ„¤μ •ν•΄μ¤λ‹λ‹¤. μ΄ λ• access keyμ™€ secret access keyλ¥Ό μ λ³΄κ΄€ν•΄λ‘΅λ‹λ‹¤. μ΄λ• AWS CLIλ¥Ό μ„ νƒν•μ—¬ ν‚¤λ¥Ό λ§λ“¤μ–΄μ¤λ‹λ‹¤.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ν…λ¬νΌ-μ…‹ν…">ν…λ¬νΌ μ…‹ν…<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#%ED%85%8C%EB%9F%AC%ED%8F%BC-%EC%85%8B%ED%8C%85" class="hash-link" aria-label="ν…λ¬νΌ μ…‹ν…μ— λ€ν• μ§μ ‘ λ§ν¬" title="ν…λ¬νΌ μ…‹ν…μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν„μ¬ μ €λ” μ•„λ§μ΅΄ λ¦¬λ…μ¤ ν™κ²½μ—μ„ μ§„ν–‰μ„ ν•κΈ° λ•λ¬Έμ— yumμ„ ν™μ©ν•΄ κ°λ°μ„ μ§„ν–‰</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum install -y yum-utils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum-config-manager --add-repo https://rpm.releases.hashicorp.com/AmazonLinux/hashicorp.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum -y install terraform</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-μΈμ¤ν„΄μ¤-μƒμ„±">AWS μΈμ¤ν„΄μ¤ μƒμ„±<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#aws-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EC%83%9D%EC%84%B1" class="hash-link" aria-label="AWS μΈμ¤ν„΄μ¤ μƒμ„±μ— λ€ν• μ§μ ‘ λ§ν¬" title="AWS μΈμ¤ν„΄μ¤ μƒμ„±μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">provider "aws" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    region      =  "ap-northeast-2"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_instance" "example" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {/* ami id κ°’μ€ aws ec2 μ°½μ amiμ—μ„ μ°ΎμΌλ©΄ λ‚μµλ‹λ‹¤! */}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ami           = "ami-.."</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instance_type = "t2.micro"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>μ΄λ ‡κ² μ‘μ—…μ„ μ§„ν–‰ν•΄μ¤€ λ‹¤μμ— μ•„λ λ…λ Ήλ¥Ό μ…λ ¥μ„ ν•΄μ¤λ‹λ‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform init</span><br></span></code></pre></div></div>
<p>κ·Έλ ¤λ¨Ό .terraformμ΄λΌλ” νμΌμ΄ ν•λ‚ μƒμ„±μ΄ λ©λ‹λ‹¤. κ³µκΈ‰μμ μ½”λ“λ” μ—¬κΈ°μ— λ‹¤μ΄λ΅λ“κ°€ λ©λ‹λ‹¤. .terraform λ””λ ‰ν† λ¦¬λ” gitμ— λ”°λ΅ μ¬λ¦¬μ§€ μ•μ•„μ”. λ§μ•½ λ‹¤λ¥Έ μ‚¬λμ΄ μ‚¬μ©ν•κ³  μ‹¶μΌλ©΄ .terraform.lock.hcl κ³µμ λ¥Ό λ°›κ³  μ‹¤ν–‰ν•λ©΄ λ©±λ“±μ„±μΌλ΅ μΈν•΄ μ•μ „ν•κ² μ‹¤ν–‰ν•  μ μμµλ‹λ‹¤.</p>
<p>μ„ μ‘μ—…μ΄ μ •μƒμ μΌλ΅ λμ΄ λ‚λ©΄ <code>Terraform has been successfully initialized!</code>κ°€ λΉλ‹λ‹¤. κ·Έλ¦¬κ³  μ•„λ λ…λ Ήμ–΄λ¥Ό μ…λ ¥μ¤μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span></code></pre></div></div>
<p>ν•΄λ‹Ή λ…λ Ήμ„ μ‹¤ν–‰ν•λ©΄ μ‹¤μ λ΅ λ°μν•κΈ° μ „μ— μν–‰ν•  μ‘μ—…λ“¤μ„ ν™•μΈν•  μ μμ–΄μ”. + λ” λ¨λ‘ μƒμ„±λκ³  -λ” λ¨λ‘ μ‚­μ κ°€ λΌμ”.</p>
<p>μ •μƒμ μΌλ΅ ν™•μΈμ΄ λκ³  λ‚λ©΄ μ•„λ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰μ¤λ‹λ‹¤.</p>
<ul>
<li>--auto-approveλ” μ¤‘κ°„μ— yes κ³Όμ •μ„ μ—†μ• κ³  λ°”λ΅ μ§„ν–‰ν•  μ μμ–΄μ”.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply --auto-approve</span><br></span></code></pre></div></div>
<p>λ§μ•½ κΈ°λ³Έ VPCκ°€ μ—†λ‹¤λ©΄ μ •μƒμ μΌλ΅ μΈμ¤ν„΄μ¤κ°€ μƒμ„±μ΄ μ•λ κ±°μ—μ”. κ·Έλ΄ λ•λ” AWS VPCλ΅ λ“¤μ–΄κ°€μ„ κΈ°λ³Έ VPCλ¥Ό ν•λ‚ λ§λ“¤μ–΄μ£Όλ©΄ λ©λ‹λ‹¤.</p>
<p>μ •μƒμ μΌλ΅ μ™„λ£κ°€ λλ©΄ <code>Apply complete!</code>λ¥Ό ν™•μΈν•  μ μμ–΄μ”.</p>
<p>ν•΄λ‹Ή λ¦¬μ†μ¤λ¥Ό μ§€μ°κΈ° μ„ν•΄μ„λ” destroyλ¥Ό ν™μ©ν•΄μ„ λ…λ Ήμ–΄λ¥Ό μ§€μ°μ‹¤ μ μμµλ‹λ‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">terraform destroy --auto-approve</span><br></span></code></pre></div></div>
<p>ν•΄λ‹Ή λ…λ Ήμ–΄ μ—­μ‹ μ •μƒμ μΌλ΅ μν–‰μ„ ν•κ³  λ‚λ©΄ <code>Destroy complete!</code>λ¥Ό ν™•μΈν•  μ μμ–΄μ”.</p>
<p>μ„ μƒνƒμ—μ„ μ‹¤ν–‰μ„ ν•κ² λλ©΄ μΈμ¤ν„΄μ¤ μ΄λ¦„μ΄ μ—†λ” μƒνƒλ΅ λ‚μ™€μ”. μ΄λ¦„μ„ μ§€μ •ν•κΈ° μ„ν•΄μ„λ” tagsμ—μ„ Nameμ„ μ¶”κ°€ν•΄μ£Όλ©΄ λΌμ”.</p>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_instance" "example" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {/* ami id κ°’μ€ aws ec2 μ°½μ amiμ—μ„ μ°ΎμΌλ©΄ λ‚μµλ‹λ‹¤! */}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ami           = "ami-.."</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instance_type = "t2.micro"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags          = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Name = "terraform-exmaple"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>κ·Έλ¦¬κ³  λ‹¤μ‹ <code>terraform apply --auto-approve</code>λ¥Ό ν•κ² λλ©΄ κΈ°μ΅΄μ μΈμ¤ν„΄μ¤λ¥Ό μ‚­μ ν•μ§€ μ•κ³  changeκ°€ λ©λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-httpd-μ„λ²„-λ„μ°κΈ°">AWS httpd μ„λ²„ λ„μ°κΈ°<a href="https://indianapoly.github.io/blog/2025/08/01/terraform/traform-basic-1-title#aws-httpd-%EC%84%9C%EB%B2%84-%EB%9D%84%EC%9A%B0%EA%B8%B0" class="hash-link" aria-label="AWS httpd μ„λ²„ λ„μ°κΈ°μ— λ€ν• μ§μ ‘ λ§ν¬" title="AWS httpd μ„λ²„ λ„μ°κΈ°μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_instance" "example" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {/* ami id κ°’μ€ aws ec2 μ°½μ amiμ—μ„ μ°ΎμΌλ©΄ λ‚μµλ‹λ‹¤! */}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ami           = "ami-.."</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instance_type = "t2.micro"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user_data     = &lt;&lt;- EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    #!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    echo "hi" &gt; index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    nohub busybox httpd -f -p 8080 &amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user_data_replace_on_chage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags          = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Name = "terraform-exmaple"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<ul>
<li>user_dataλ¥Ό ν™μ©ν•΄μ„ shell scriptλ¥Ό μ „λ‹¬ν•΄μ¤„ μ μμµλ‹λ‹¤. μ΄ λ• <code>&lt;&lt;-EOF ... EOF</code> κµ¬λ¬Έμ„ ν™μ©ν•΄μ„ μ—¬λ¬ μ¤„ λ¬Έμμ—΄μ„ μƒμ„±ν•  μ μμ–΄μ”.</li>
<li>user_data_replace_on_chageλ¥Ό ν™μ©ν•λ©΄ μ›λ μΈμ¤ν„΄μ¤λ¥Ό μΆ…λ£ν•κ³  μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό μƒλ΅­κ² μƒμ„±ν•©λ‹λ‹¤.</li>
</ul>
<p>ν•μ§€λ§ μ΄λ ‡κ²λ§ ν•΄μ„λ” νΌλΈ”λ¦­ IPλ΅ μ ‘μ†μ„ ν•  μ μ—†μ–΄μ”. μ™λƒν•λ©΄ λ³΄μ•κ·Έλ£Ήμ„ μ„¤μ •ν•μ§€ μ•μ•κΈ° λ•λ¬Έμ΄μ—μ”. λ”°λΌμ„ ν…λΌνΌμ„ ν™μ©ν•΄μ„ λ³΄μ•κ·Έλ£Ήμ„ μƒμ„±ν•λ©΄ μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μμ–΄μ”.</p>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource  "aws_security_group" "instance"  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name  =  "terraform-example-instance"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ingress  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    from_port    =  8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    to_port      =  8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protocol     =  "tcp"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cidr_blocks  =  [ "0.0.0.0/0" ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>μ΄λ ‡κ² λ§λ“¤μ—λ‹¤κ³  ν•΄μ„ μΈμ¤ν„΄μ¤μ™€ λ³΄μ•κ·Έλ£Ήμ΄ μλ™μΌλ΅ μ—°κ²°μ΄ λμ§€ μ•μ•„μ”. λ”°λΌμ„ Terraform ν‘ν„μ‹μ„ ν†µν•΄μ„ μ—°κ²°μ„ ν•΄μ¤„ μκ°€ μμµλ‹λ‹¤!</p>
<p>ν‘ν„μ‹μ κΈ°λ³Έμ μΈ κµ¬μ΅°λ” <code>&lt;PROVIDER&gt;_&lt;TYPE&gt; . &lt;NAME&gt; . &lt;ATTRIBUTE&gt;</code>μ—μ”. μ—¬κΈ°μ„ ATTRIBUTEλ”</p>
<ul>
<li>ν•΄λ‹Ή λ¦¬μ†μ† μΈμ</li>
<li>λ¦¬μ†μ¤μ—μ„ λ‚΄λ³΄λ‚Έ μ†μ„±</li>
</ul>
<p>μ΄κ±° 2κ° μ¤‘ ν•λ‚λΌκ³  μ•κ³  μμΌλ©΄ λΌμ”.</p>
<p>λ³΄μ• κ·Έλ£Ήμ€ idλΌλ” μ†μ„±μ„ λ‚΄λ³΄λ‚΄κΈ° λ•λ¬Έμ— <code>aws_security_group.instance.id</code> λ΅ ν•΄μ¤„ μ μμ–΄μ”. ν•΄λ‹Ή κ°’μ„ μΈμ¤ν„΄μ¤ μ½”λ“μ— λ„£μ–΄μ£Όμ‹κ³  applyλ¥Ό ν•΄μ£Όμ‹λ©΄ μ—°κ²°μ΄ λ©λ‹λ‹¤.</p>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_instance" "example" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...κΈ°μ΅΄μ μ½”λ“λ“¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vpc_security_group_ids = [aws_security_group.id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>applyκ°€ λλ©΄ μµμΆ…μ μΌλ΅ public ipμ— μ •μƒμ μΌλ΅ μ ‘μ†μ΄ λ κ²ƒμ„ ν™•μΈν•  μ μμ–΄μ”.</p>
<p>κ·Έλ¦¬κ³  μ½”λ“λ¥Ό λ³΄κ² λλ©΄ portλ¥Ό ν™•μΈν•κ² λλ©΄ λ™μΌν•κ² μ‚¬μ©μ΄ λλ” κ²ƒμ€ λ³€μλ΅ μ²λ¦¬ν•΄ μ¤„ μ μμ–΄μ”. μ§€μ •λ λ³€μλ“¤μ€ var. μΌλ΅ μ ‘κ·Όν•μ—¬μ„ μ‚¬μ©ν•΄μ¤„ μ μμµλ‹λ‹¤.</p>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">variable "server_port" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description = "The port the ..."</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type = number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default = 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource "aws_security_group" "instance" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name  =  "terraform-example-instance"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ingress  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        from_port    =  var.server_port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        to_port      =  var.server_port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        protocol     =  "tcp"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cidr_blocks  =  [ "0.0.0.0/0" ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Terraform" term="Terraform"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Next JS + gh Pages λ°°ν¬ μ‚½μ§ ν›„κΈ°]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title"/>
        <updated>2025-07-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="λ¬Έμ ">λ¬Έμ <a href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title#%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬" title="λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>Next.js App Router(<code>app/</code> λ””λ ‰ν† λ¦¬)λ΅ λ§λ“  μ‚¬μ΄νΈλ¥Ό GitHub Pagesμ— λ°°ν¬ν•λ” μ™€μ¤‘μ— μ•„λμ™€ κ°™μ€ μ—λ¬κ°€ λ¨λ” κ²ƒμ„ ν™•μΈν–μµλ‹λ‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; next export</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β¨― next export has been removed in favor of 'output: export' in next.config.js</span><br></span></code></pre></div></div>
<p>App Routerμ—μ„λ” <code>next export</code> λ…λ Ήμ–΄κ°€ <strong>μ™„μ „ν μ κ±°</strong>λμ—λ‹¤λ” κ²ƒμ„ μ•μ•μµλ‹λ‹¤.. γ… </p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ¬λ°”λ¥Έ-μ„¤μ •-λ°©λ²•">μ¬λ°”λ¥Έ μ„¤μ • λ°©λ²•<a href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title#%EC%98%AC%EB%B0%94%EB%A5%B8-%EC%84%A4%EC%A0%95-%EB%B0%A9%EB%B2%95" class="hash-link" aria-label="μ¬λ°”λ¥Έ μ„¤μ • λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ¬λ°”λ¥Έ μ„¤μ • λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-nextconfigjs-μ„¤μ •">1. next.config.js μ„¤μ •<a href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title#1-nextconfigjs-%EC%84%A4%EC%A0%95" class="hash-link" aria-label="1. next.config.js μ„¤μ •μ— λ€ν• μ§μ ‘ λ§ν¬" title="1. next.config.js μ„¤μ •μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> NextConfig </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"next"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> nextConfig</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> NextConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  output</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"export"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  assetPrefix</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"https://&lt;USERNAME&gt;.github.io/&lt;REPO_NAME&gt;/"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  trailingSlash</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// μ„ νƒμ‚¬ν•­: URL λμ— μ¬λμ‹ μ¶”κ°€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> nextConfig</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>ν•µμ‹¬</strong>: <code>output: 'export'</code> μ„¤μ •λ§ ν•λ©΄ <code>next build</code> μ‹¤ν–‰ μ‹ μλ™μΌλ΅ <code>out/</code> ν΄λ”κ°€ μƒμ„±λ©λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-packagejson-μ¤ν¬λ¦½νΈ">2. package.json μ¤ν¬λ¦½νΈ<a href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title#2-packagejson-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8" class="hash-link" aria-label="2. package.json μ¤ν¬λ¦½νΈμ— λ€ν• μ§μ ‘ λ§ν¬" title="2. package.json μ¤ν¬λ¦½νΈμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"scripts"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"build"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"next build"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>β <code>"export": "next export"</code> μ¶”κ°€ν•λ©΄ μ•λ©λ‹λ‹¤.
β… <code>build</code> λ…λ Ήμ–΄λ§ μμΌλ©΄ λ©λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-github-actions-μ›ν¬ν”λ΅μ°">3. GitHub Actions μ›ν¬ν”λ΅μ°<a href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title#3-github-actions-%EC%9B%8C%ED%81%AC%ED%94%8C%EB%A1%9C%EC%9A%B0" class="hash-link" aria-label="3. GitHub Actions μ›ν¬ν”λ΅μ°μ— λ€ν• μ§μ ‘ λ§ν¬" title="3. GitHub Actions μ›ν¬ν”λ΅μ°μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"app/**"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">workflow_dispatch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># μλ™ μ‹¤ν–‰ κ°€λ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Checkout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Setup Node.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node@v4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">node-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"npm"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cache-dependency-path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app/package</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lock.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> npm ci</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">working-directory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">working-directory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> peaceiris/actions</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pages@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">github_token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.GITHUB_TOKEN </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">publish_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./app/out</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-μ£Όμ”-λ³€κ²½μ‚¬ν•­-μ”μ•½">π” μ£Όμ” λ³€κ²½μ‚¬ν•­ μ”μ•½<a href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title#-%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD-%EC%9A%94%EC%95%BD" class="hash-link" aria-label="π” μ£Όμ” λ³€κ²½μ‚¬ν•­ μ”μ•½μ— λ€ν• μ§μ ‘ λ§ν¬" title="π” μ£Όμ” λ³€κ²½μ‚¬ν•­ μ”μ•½μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<table><thead><tr><th>κΈ°μ΅΄ Pages Router</th><th>μƒλ΅μ΄ App Router</th></tr></thead><tbody><tr><td><code>next export</code> λ…λ Ήμ–΄</td><td><code>output: 'export'</code> μ„¤μ •</td></tr><tr><td>λ³„λ„ export λ‹¨κ³„</td><td><code>next build</code>μ— ν†µν•©</td></tr><tr><td><code>out/</code> μλ™ μƒμ„±</td><td>μλ™ μƒμ„±</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-λ§λ¬΄λ¦¬">π‰ λ§λ¬΄λ¦¬<a href="https://indianapoly.github.io/blog/2025/07/27/frontend/nextjs_export-title#-%EB%A7%88%EB%AC%B4%EB%A6%AC" class="hash-link" aria-label="π‰ λ§λ¬΄λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="π‰ λ§λ¬΄λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p><code>next export</code> λ…λ Ήμ–΄μ— μμ΅΄ν•λ κΈ°μ΅΄ λ°©μ‹μ—μ„ λ²—μ–΄λ‚ <code>output: 'export'</code> μ„¤μ • ν•λ‚λ΅ κΉ”λ”ν•κ² ν•΄κ²°ν•  μ μλ‹¤λ” κ²ƒμ„ μ•κ² λμ—μµλ‹λ‹¤.</p>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Frontend" term="Frontend"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[AWS basic (3)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title"/>
        <updated>2025-07-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-service">Database Service<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#database-service" class="hash-link" aria-label="Database Serviceμ— λ€ν• μ§μ ‘ λ§ν¬" title="Database Serviceμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-rdsκ°μ”">AWS RDSκ°μ”<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#aws-rds%EA%B0%9C%EC%9A%94" class="hash-link" aria-label="AWS RDSκ°μ”μ— λ€ν• μ§μ ‘ λ§ν¬" title="AWS RDSκ°μ”μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>κ΄€κ³„ν• λ°μ΄ν„°λ² μ΄μ¤λ¥Ό μ™„μ „κ΄€λ¦¬ν•μΌλ΅ μ κ³µν•λ” μ„λΉ„μ¤μ…λ‹λ‹¤.</li>
<li>RDS μ„λ²„ μ‹μ¤ν…μ„ μ§μ ‘ μ ‘μ†μ΄ λ¶κ°€λ¥ν•΄μ”.</li>
<li>VPC λ‚΄λ¶€μ— λ°°μΉν•΄μ„ μ‚¬μ©ν•λ©° VPC ν™κ²½μ„ μ΄μ©ν• λ³΄μ• ν™κ²½ κµ¬μ„± μ™Έμ—λ„ IAM, Secret Manager λ“±μ μ„λΉ„μ¤λ¥Ό ν†µν•΄ λ°μ΄ν„°λ² μ΄μ¤ λ³΄μ•μ„ κ°•ν™”ν•  μ μμ–΄μ”.</li>
</ul>
<p>AWS RDS DBMS engine typeμ€ μ•„λμ™€ κ°™μµλ‹λ‹¤.</p>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img1.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="λ°±μ—…">λ°±μ—…<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#%EB%B0%B1%EC%97%85" class="hash-link" aria-label="λ°±μ—…μ— λ€ν• μ§μ ‘ λ§ν¬" title="λ°±μ—…μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μλ™ λ°±μ—…κ³Ό μλ™ λ°±μ—…μΌλ΅ λ‚λ„μ–΄μ Έμμ–΄μ”:</p>
<ul>
<li>
<p>μλ™ λ°±μ—…</p>
<ul>
<li>μ¤λƒ…μƒ·κ³Ό νΈλμ­μ… λ΅κ·Έλ¥Ό μ°Έκ³ ν•΄μ„ λ°μ΄ν„°λ¥Ό λ°±μ—…ν•λ” λ°©μ‹μΌλ΅ κΈ°λ³Έμ μΌλ΅ defaultλ΅ ν™μ„±ν™” λ©λ‹λ‹¤. νΉμ • μ‹μ  λ°μ΄ν„° μƒνƒλ΅ λ³µκµ¬ν•  μ μμ–΄μ”.</li>
<li>μ›λ³Έ DBMSκ°€ μ‚­μ λλ©΄ ν•¨κ» μ‚­μ  λλ” λ°μ΄ν„°μ—μ”.</li>
</ul>
</li>
<li>
<p>μλ™ λ°±μ—…</p>
<ul>
<li>μ‚¬μ©μκ°€ μλ™μΌλ΅ μ›ν•λ” μ‹μ μ— μ¤λƒ…μƒ·μ„ μƒμ„±ν•λ” λ°©μ‹μ΄μ—μ”. μ›λ³Έ DBMSκ°€ μ‚­μ λΌλ„ μ¤λƒ…μƒ·μ€ μ‚­μ λμ§€ μ•κ³  S3μ— λ³΄κ΄€μ΄ λ©λ‹λ‹¤.</li>
<li>λ‹¤λ¥Έ λ¦¬μ „μΌλ΅ λ³µμ λ¥Ό ν•κ±°λ‚ λ‹¤λ¥Έ κ³„μ •μ— κ³µμ ν•  μ μμ–΄μ”.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-rds-read-replica">AWS RDS Read Replica<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#aws-rds-read-replica" class="hash-link" aria-label="AWS RDS Read Replicaμ— λ€ν• μ§μ ‘ λ§ν¬" title="AWS RDS Read Replicaμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>λ€κ·λ¨ μ„λΉ„μ¤ νΈλν”½μ„ λ¶„μ‚°μ²λ¦¬ν•κΈ° μ„ν•΄μ„ λ°μ΄ν„°λ² μ΄μ¤ μ½κΈ° μ‘μ—…λ§ μ§€μ›ν•λ” λ³µμ  λ°μ΄ν„° λ² μ΄μ¤ μ…λ‹λ‹¤.</li>
<li>μµλ€ 15κ°μ μ½κΈ° μ „μ© λ³µμ  λ³Έμ„ λ¦¬μ „, κ°€μ©μμ—­μ— κ±Έμ³ κµ¬μ„± κ°€λ¥ν•΄μ”. μ½κΈ° μ „μ© λ³µμ λ³Έμ€ μ›λ³Έ λ°μ΄ν„°λ² μ΄μ¤ μ‹μ¤ν…μ΄ λ‹¤μ΄λ  κ²½μ° λ³„λ„μ λ…λ¦½λ DB μΈμ¤ν„΄μ¤λ΅ μλ™ μΉκ²©μ΄ κ°€λ¥ν•΄μ”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img2.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-rds-multi-azκ°€μ©μμ—­">AWS RDS Multi AZ(κ°€μ©μμ—­)<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#aws-rds-multi-az%EA%B0%80%EC%9A%A9%EC%98%81%EC%97%AD" class="hash-link" aria-label="AWS RDS Multi AZ(κ°€μ©μμ—­)μ— λ€ν• μ§μ ‘ λ§ν¬" title="AWS RDS Multi AZ(κ°€μ©μμ—­)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>Write Databaseλ¥Ό Active-StanBy ν•νƒλ΅ μ΄μ¤‘ν™” κµ¬μ„±μ΄ λμ–΄μμ–΄ μ¥μ•  λ€λΉ„ μλ™ λ³µκµ¬ λ€μ‘μ„ ν•  μ μμ–΄μ”.</li>
<li>Read Replicaμ μ“°κΈ° μ „μ© λ°μ΄ν„°λ² μ΄μ¤ μΉκ²©κ³Ό μ μ‚¬ν•μ§€λ§ λ‹¤μ΄νƒ€μ„μ΄ μ—†μ–΄μ”.</li>
<li>μλΉ„μ© μΈμ¤ν„΄μ¤λ¥Ό ν•λ‚ λ” μƒμ„±ν•κΈ° λ•λ¬Έμ— κΈ°μ΅΄ λ€λΉ„ λΉ„μ©μ΄ 2λ°° μ¦κ°€ν•©λ‹λ‹¤.</li>
<li>μ„±λ¥ν–¥μƒμ— λ€ν• μ΄μ λ³΄λ‹¤λ” κ³ κ°€μ©μ„±μ„ ν™•λ³΄ν•κΈ° μ„ν• μµμ…μ΄μ—μ”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img3.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-auto-scaling">Storage Auto-Scaling<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#storage-auto-scaling" class="hash-link" aria-label="Storage Auto-Scalingμ— λ€ν• μ§μ ‘ λ§ν¬" title="Storage Auto-Scalingμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>μ΄μκ΄€λ¦¬ κ³Όμ •μ— λ””μ¤ν¬κ°€ λ¶€μ΅±ν•΄μ§€λ” κ²½μ° μλ™μΌλ΅ μ©λ‰μ„ ν™•μ¥ν•  μ μλ„λ΅ μ§€μ›ν•λ” κΈ°λ¥μ…λ‹λ‹¤.</li>
<li>μ „μ²΄ μ©λ‰ μ¤‘ μ—¬μ  κ³µκ°„μ΄ 10% λ―Έλ§μΈ μƒνƒκ°€ 5λ¶„ μ΄μƒ μ§€μ†λκ³  &amp;&amp; μ§€λ‚ 6μ‹κ°„ λ™μ• μ €μ¥μ†κ°€ λ³€κ²½λ μ΄λ ¥μ΄ μ—†μ„ κ²½μ°μ— μλ™μΌλ΅ ν™•μ¥λ©λ‹λ‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rds-storage-structure">RDS Storage Structure<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#rds-storage-structure" class="hash-link" aria-label="RDS Storage Structureμ— λ€ν• μ§μ ‘ λ§ν¬" title="RDS Storage Structureμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>Auroraμ— μ €μ¥λλ” λ°μ΄ν„°λ” μµμ† 3κ°μ κ°€μ©μμ—­μ—μ„ λ°μ΄ν„°λ¥Ό λ³µμ ν•μ—¬ 6κ°μ μ‚¬λ³ΈμΌλ΅ μ €μ¥ν•΄μ” (4/6 Quorum λ°©μ‹)</li>
<li>λ‚΄λ¶€μ—μ„ λ°μ΄ν„° μ†μ‹¤μ΄ λ°μƒν•΄λ„ μμ²΄μ μΌλ΅ μ‚¬λ³Έμ„ ν†µν•΄ μλ™ λ³µκµ¬λ¥Ό ν•©λ‹λ‹¤.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img4.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aurora-storage-read-replica-auto-scaling">Aurora Storage, Read Replica, Auto-Scaling<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#aurora-storage-read-replica-auto-scaling" class="hash-link" aria-label="Aurora Storage, Read Replica, Auto-Scalingμ— λ€ν• μ§μ ‘ λ§ν¬" title="Aurora Storage, Read Replica, Auto-Scalingμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>λ°μ΄ν„°μ μ €μ¥κ³µκ°„μ€ 10GB ~ 128TB κΉμ§€ μλ™μΌλ΅ μ‚¬μ©ν•λ” λ§νΌ ν™•μ¥ν•  μ μμ–΄μ”.</li>
<li>μ½κΈ° μ „μ© λ³µμ λ³Έμ€ μµλ€ 15κ° κΉμ§€ Auto Scaling μ„¤μ •μ΄ κ°€λ¥ν•΄μ”. Writter instanceμ—λ” μ μ©μ΄ λ¶κ°€λ¥ν•΄μ”.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="management-service">Management Service<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#management-service" class="hash-link" aria-label="Management Serviceμ— λ€ν• μ§μ ‘ λ§ν¬" title="Management Serviceμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-formation">Cloud Formation<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#cloud-formation" class="hash-link" aria-label="Cloud Formationμ— λ€ν• μ§μ ‘ λ§ν¬" title="Cloud Formationμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>κ°μ”</p>
<ul>
<li>μΈν”„λΌλ¥Ό μ½”λ“λ΅ κ΄€λ¦¬ν•κ² ν•΄μ£Όλ” μ„λΉ„μ¤λ΅, AWS λ¦¬μ†μ¤μ μƒμ„±, κ΄€λ¦¬, μ—…λ°μ΄νΈλ¥Ό μλ™ν™”ν•΄μ¤μ”.</li>
<li>μ½”λ“λ¥Ό ν…ν”λ¦Ώ ν•νƒλ΅ λ§λ“¤μ–΄μ„ κ΄€λ¦¬ν•κ³ , ν…ν”λ¦Ώμ„ ν†µν•΄ STACKμ„ μƒμ„±ν•μ—¬ μ½”λ“ λ‚΄μ©μ„ κΈ°λ°μΌλ΅ μΈν”„λΌλ¥Ό μƒμ„±ν•©λ‹λ‹¤.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img5.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-watch">Cloud Watch<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#cloud-watch" class="hash-link" aria-label="Cloud Watchμ— λ€ν• μ§μ ‘ λ§ν¬" title="Cloud Watchμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>κ°μ”</p>
<ul>
<li>AWS λ¦¬μ†μ¤λ‚ Applicationμ λ¨λ‹ν„°λ§ μ„λΉ„μ¤μ…λ‹λ‹¤.</li>
<li>μ΄μ λ°μ΄ν„°λ¥Ό μμ§‘, λ¶„μ„, μ‹κ°ν™”, κ΄€λ¦¬λ¥Ό μ„ν• ν†µν•© μ„λΉ„μ¤μ—μ”</li>
</ul>
<p>μ£Όμ”κµ¬μ„±μ€ μ•„λμ™€ κ°™μµλ‹λ‹¤.</p>
<ul>
<li>Metrics : AWS λ¦¬μ†μ¤μ—μ„ μƒμ„±λλ” Metric μμ§‘ λ° μ €μ¥μ„ ν•΄μ”. Custom Metric κµ¬μ„± λ° μμ§‘/μ €μ¥μ΄ κ°€λ¥ν•©λ‹λ‹¤. ex. EC2 CPU μ‚¬μ©λ¥  λ“±<!-- -->
<ul>
<li>κ±°μ λ¨λ“  λ¦¬μ†μ¤μ—μ„ λ€ν• μ§€ν‘λ¥Ό κΈ°λ³ΈμΌλ΅ μ κ³µν•΄μ¤μ”.</li>
<li>Metricsμ μ£Όμ” κµ¬μ„± μ”μ†λ” NameSpace, Metric Name, Dimension, Periodκ°€ μμ–΄μ”.</li>
</ul>
</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img6.png" width="600">
<ul>
<li>Logs : AWS λ¦¬μ†μ¤μ—μ„ μƒμ„±λλ” Log μμ§‘ λ° μ €μ¥μ„ ν•΄μ”. Custom μ„¤μ •μΌλ΅ Application, System, Log μ¶”κ°€ μμ§‘ λ° μ €μ¥ κ°€λ¥ν•΄μ”.<!-- -->
<ul>
<li>Standard, Infrequent Access 2κ°μ ν΄λμ¤λ¥Ό μ§€μ›ν•©λ‹λ‹¤.</li>
<li>λ΅κ·Έμ μ£Όμ” κµ¬μ„±μ”μ†μ—λ” Log Event, Log Stream, Log Group, Retention Period, Metrics Filter, Subscription Filter μ΄λ ‡κ² μμ–΄μ”.</li>
</ul>
</li>
<li>Dashboards : Metric, Logλ¥Ό μ‹κ°ν™”ν•΄μ”.</li>
<li>Alarms : Metric λ°μ΄ν„°λ¥Ό κΈ°μ¤€μΌλ΅ Alarmsλ¥Ό μ„¤μ •ν•©λ‹λ‹¤. μ„κ³„μΉ μ΄κ³Ό μ‹ SNSλ¥Ό λ§λ“¤μ–΄ μ•λ¦Όμ„ μ „μ†΅ν•  μ μμ–΄μ”.</li>
<li>CloudWatch Events : μ΄λ²¤νΈλ¥Ό μμ§‘ν•κ³  νΉμ • λ¦¬μ†μ¤λ΅ λΌμ°ν…ν•©λ‹λ‹¤. κΈ°νƒ€ μ„λΉ„μ¤μ™€ μ—°λ™ν•μ—¬ νΉμ • μ‘μ—…μ„ μλ™μΌλ΅ μν–‰ν•©λ‹λ‹¤.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img7.png" width="600">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-connectivity">Network Connectivity<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#network-connectivity" class="hash-link" aria-label="Network Connectivityμ— λ€ν• μ§μ ‘ λ§ν¬" title="Network Connectivityμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vpc-peering">VPC Peering<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#vpc-peering" class="hash-link" aria-label="VPC Peeringμ— λ€ν• μ§μ ‘ λ§ν¬" title="VPC Peeringμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>κ°μ”</p>
<ul>
<li>μ„λ΅ κ²©λ¦¬ λμ–΄ μλ” 2κ° μ΄μƒμ VPCμ λ„¤νΈμ›ν¬λ¥Ό μ—°κ²°ν•λ” μ„λΉ„μ¤μ…λ‹λ‹¤.</li>
<li>λ™μΌ λ¦¬μ „, κ°€μ©μμ—­μ—μ„ λ°μƒν•λ” λ°μ΄ν„° νΈλν”½μ€ λ¬΄λ£μ΄μ§€λ§ λ¦¬μ „, κ°€μ©μμ—­μ„ κµμ°¨ν•λ” λ°μ΄ν„°μ κ²½μ°μ—λ” νΈλν”½μ— λ”°λ¥Έ κΈμ•΅μ΄ λ°μƒν•΄μ”.</li>
<li>μ „μ΄μ  ν”Όμ–΄λ§μ΄ λ¶κ°€λ¥ν•λ©°, CIDR blockμ΄ κ²ΉμΉλ” κ²½μ°μ—λ„ VPC Peering κµ¬μ„±μ΄ λ¶κ°€λ¥ν•΄μ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vpc-endpoint">VPC Endpoint<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#vpc-endpoint" class="hash-link" aria-label="VPC Endpointμ— λ€ν• μ§μ ‘ λ§ν¬" title="VPC Endpointμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>κ°μ”</p>
<ul>
<li>VPC λ‚΄λ¶€ λ¦¬μ†μ¤κ°€ AWS Serviceμ— μ ‘κ·Όν•  λ• Private Linkλ¥Ό μ‚¬μ©ν•΄ μ‚¬μ„¤ ν†µμ‹ μ„ κ°€λ¥ν•κ² ν•΄μ£Όλ” μ„λΉ„μ¤μ…λ‹λ‹¤.</li>
<li>μΈν„°λ„· κ²μ΄νΈμ›¨μ–΄, NAT κ²μ΄ν„°μΌμ›¨, VPN, Direct Connectλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  μ‚¬μ„¤ ν†µμ‹  κµ¬κ°„μ„ μ΄μ©ν•΄ AWS μ„λΉ„μ¤μ™€ ν†µμ‹ ν•©λ‹λ‹¤.</li>
</ul>
<p><strong>Gateway Endpoint</strong>
S3, DynamoDB μ„λΉ„μ¤λ¥Ό λ€μƒμΌλ΅ private μ—°κ²°μ„ μ κ³µ, Routing Tableμ„ ν†µν•΄ μ—°κ²°ν•©λ‹λ‹¤. λ¬΄λ£λ΅ μ‚¬μ© κ°€λ¥ν•©λ‹λ‹¤.</p>
<p><strong>Interface Endpoint</strong>
Private Linkλ¥Ό μ§€μ›ν•λ” μ„λΉ„μ¤λ¥Ό λ€μƒμΌλ΅ Private μ—°κ²°μ„ μ κ³µν•©λ‹λ‹¤. μ§€μ •ν• VPC λ‚΄λ¶€μ— Elastic Network Interfaceλ¥Ό μƒμ„±ν•μ—¬ ν†µμ‹ μ„ μ§€μ›ν•΄μ”.
ENIμ™€ AWS μ„λΉ„μ¤μ™€ μ—°κ²°ν•μ—¬ Private ν†µμ‹  κµ¬κ°„μ΄ ν™μ„±ν™”λλ” κµ¬μ΅°μ΄λ©°, νΈλν”½μ— λ”°λ¥Έ ν†µμ‹ μ΄ κ°€λ¥ν•©λ‹λ‹¤.</p>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-23/img8.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="route-53">Route 53<a href="https://indianapoly.github.io/blog/2025/07/23/aws/AWS-basic-3-title#route-53" class="hash-link" aria-label="Route 53μ— λ€ν• μ§μ ‘ λ§ν¬" title="Route 53μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>AWSμ—μ„ μ κ³µν•λ” μ™„μ „ κ΄€λ¦¬ν• DNS μ„λ²„μ…λ‹λ‹¤. λ„λ©”μΈ κµ¬μ… λ° λ„λ©”μΈ νΈμ¤ν… κ΄€λ¦¬λ¦΄ μ§€μ›ν•΄μ”. μ™Έλ¶€ λ„λ©”μΈμ„ AWS Route53μ Hosted Zoneμ— λ“±λ΅ν•μ—¬ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.</li>
<li>DNS Routing Policyλ¥Ό ν†µν•΄ νΈλν”½μ„ μ ν•©ν• EndPointλ΅ λΌμ°ν…ν•©λ‹λ‹¤. λν•, λ„λ©”μΈ λ° μ—°κ²°λ λ¦¬μ†μ¤μ— λ€ν• Health Check κΈ°λ¥μ„ μ κ³µν•΄μ¤λ‹λ‹¤.</li>
<li>Route 53μ Public / Private Hosted Zone<!-- -->
<ul>
<li>Public Hosted Zone : μΈν„°λ„·μ— μ—°κ²°λ λ¨λ“  λ¦¬μ†μ¤μ— μ ‘κ·Ό κ°€λ¥ν• DNS μ„λΉ„μ¤λ¥Ό μ κ³µν•΄μ”.</li>
<li>Private Hosted Zone : νΉμ • VPC λ‚΄λ¶€ λ¦¬μ†μ¤λ§ μ ‘κ·Ό κ°€λ¥ν• Local DNS μ„λΉ„μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤. VPC λ‚΄λ¶€ λ¦¬μ†μ¤ κ°„ ν†µμ‹ μ„ μ„ν• λ§μ¶¤ν• λ„λ©”μΈμ„ μ κ³µν•΄μ”.</li>
</ul>
</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-24/img1.png" width="600">
<p><strong>Public Hosted Zone</strong></p>
<ul>
<li>μΈν„°λ„·μ— μ—°κ²°λ λ¦¬μ†μ¤μ DNS Recordλ¥Ό κ΄€λ¦¬ν•λ” μ €μ¥μ†μ—μ”.</li>
<li>AWS λλ” μ™Έλ¶€μ—μ„ κµ¬λ§¤ν• λ„λ©”μΈμ„ λ“±λ΅ν•μ—¬ μ‚¬μ© κ°€λ¥ν•΄μ”. (λ°λ‚μ  μ €λ„μ μ‹κ°„μ„ γ„±)</li>
</ul>
<p><strong>Private Hosted Zone</strong></p>
<ul>
<li>VPC λ‚΄λ¶€ λ„¤νΈμ›ν¬ λ¦¬μ†μ¤μ DNS Recordλ¥Ό κ΄€λ¦¬ν•λ” μ €μ¥μ†μ—μ”.</li>
<li>VPC λ‚΄λ¶€ ν†µμ‹ μ—λ§ μ‚¬μ©λλ©°, μΈν„°λ„·μ—μ„ μ ‘κ·Όμ΄ λ¶κ°€λ¥ν•©λ‹λ‹¤. Private DNS μ΄λ¦„μ„ μ‚¬μ©ν•΄ λ‚΄λ¶€ μ• ν”λ¦¬μΌ€μ΄μ… κ°„ ν†µμ‹ μ„ μµμ ν™” ν•  μ μμ–΄μ”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-24/img2.png" width="600">
<ul>
<li>Route 53μ—μ„ μ§€μ›λλ” DNS Records typeμ€ μ•„λμ™€ κ°™μ•„μ”.<!-- -->
<ul>
<li>A : λ„λ©”μΈ μ£Όμ†μ™€ IPv4 μ£Όμ†λ¥Ό μ§μ ‘ ν• λ‹Ήν•΄μ”.</li>
<li>AAAA : λ„λ©”μΈ μ£Όμ†μ™€ IPv6 μ£Όμ†λ¥Ό μ§μ ‘ ν• λ‹Ήν•΄μ”.</li>
<li>CNAME(Canonical Name Record) : λ„λ©”μΈ μ£Όμ†λ¥Ό λ‹¤λ¥Έ λ„λ©”μΈ μ£Όμ†μ— ν• λ‹Ήν•΄μ¤μ”.</li>
<li>MX : λ„λ©”μΈ μ£Όμ†λ¥Ό μ΄λ©”μΌ μ„λ²„μ— ν• λ‹Ήν•΄μ¤μ”. λ“±λ΅ λ„λ©”μΈ μ£Όμ† μ •λ³΄λ¥Ό μ΄λ©”μΌ μ£Όμ†λ΅ μ‚¬μ©ν•©λ‹λ‹¤.</li>
<li>NS : Name Server, κµ¬λ§¤ν• λ„λ©”μΈμ„ κ΄€λ¦¬ν•λ” λ„¤μ„ μ„λ²„ μ •λ³΄μ…λ‹λ‹¤.</li>
<li>SOA : Start of Authority, κµ¬μ…ν• λ„λ©”μΈμ— λ€ν• κΈ°λ³Έ μ •λ³΄κ°€ λ‹΄κΈ΄ λ μ½”λ“μ—μ”. Open Searchλ΅ λ΅κ·Έλ¥Ό κ²€μƒ‰, λ¶„μ„, μ‹κ°ν™”λ¥Ό ν•©λ‹λ‹¤.</li>
</ul>
</li>
</ul>
<p><strong>Policy</strong></p>
<ol>
<li>Simple Policy</li>
</ol>
<ul>
<li>λ‹¨μν• λ°©μ‹μΌλ΅ λ„λ©”μΈμ— λ€ν• νΈλν”½ λ¦¬μ†μ¤λ¥Ό μ „λ‹¬ν•λ” λ°©μ‹μ…λ‹λ‹¤.</li>
<li>1κ°μ λ μ½”λ“μ— Multi value μ„¤μ •μ΄ κ°€λ¥ν•΄μ”.</li>
<li>Health Check κΈ°λ¥ μ‚¬μ©μ€ ν•  μ μ—†μµλ‹λ‹¤.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-24/img3.png" width="600">
<ol start="2">
<li>Weighted</li>
</ol>
<ul>
<li>λ‹¨μν• λ°©μ‹μΌλ΅ λ„λ©”μΈμ— λ€ν• νΈλν”½μ„ λ¦¬μ†μ¤λ΅ μ „λ‹¬ν•λ” λ°©μ‹μ΄μ—μ”.</li>
<li>λ„λ©”μΈμ— λ“±λ΅λ λ¦¬μ†μ¤ λ§λ‹¤ κ°€μ¤‘μΉλ¥Ό μ μ©ν•΄ νΈλν”½μ μ–‘μ„ μ΅°μ ν•©λ‹λ‹¤. λ μ½”λ“μ μ ν•κ³Ό λ μ½”λ“μ μ΄λ¦„μ„ λ™μΌν•κ² κµ¬μ„±ν•κ³  κ° λ μ½”λ“μ— κ°€μ¤‘μΉλ¥Ό μ„¤μ •ν•©λ‹λ‹¤.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-24/img4.png" width="600">
<ol start="3">
<li>Latency</li>
</ol>
<ul>
<li>μ‘λ‹µ μ§€μ—°μ‹κ°„μ΄ κ°€μ¥ μ μ€ λ¦¬μ†μ¤μ μ •λ³΄λ¥Ό λ°ν™ν•λ” λ°©μ‹μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤. μΌμ • κΈ°κ°„ μΈ΅μ •λ κ²°κ³Ό κ°’μ„ κΈ°μ¤€μΌλ΅ λΌμ°ν…ν•΄μ”.</li>
<li>μ‹κ°„μ΄ μ§€λ‚¨μ— λ”°λΌ λ‹¤λ¥Έ κ°’μ„ λ°ν™ λ°›μ„ μλ„ μμµλ‹λ‹¤. λ‹¤μ¤‘ λ¦¬μ „ ν™κ²½μ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ κ°€μ¥ κ·Όμ ‘ν• λ¦¬μ†μ¤λ΅ μ—°κ²°λ  ν™•λ¥ μ΄ λ†’μ•„μ”.</li>
<li>Private Hosted Zoneμ— λ“±λ΅λ λ μ½”λ“μ—λ„ μ μ©μ΄ κ°€λ¥ν•©λ‹λ‹¤.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-24/img5.png" width="600">
<ol start="4">
<li>Failover</li>
</ol>
<ul>
<li>Route 53μ—μ„ μ κ³µν•λ” μƒνƒ κ²€μ‚¬κΈ°λ¥Ό μ΄μ©ν•΄ μ •μƒ λ¦¬μ†μ¤ κ°’μ„ λ°ν™ν•λ” λ°©μ‹μ΄μ—μ”. ν•λ‚μ κΈ°λ³Έ λ μ½”λ“μ™€ λ³΄μ΅° λ μ½”λ“λ΅ κµ¬μ„±ν•©λ‹λ‹¤.</li>
</ul>
<ol start="5">
<li>Geolocation</li>
</ol>
<ul>
<li>Clientμ μ„μΉ μ •λ³΄λ¥Ό κΈ°λ°μΌλ΅ κ°€μ¥ κ°€κΉμ΄ λ¦¬μ „μ λ¦¬μ†μ¤ μ •λ³΄λ¥Ό λ°ν™ν•λ” λ°©μ‹μ΄μ—μ”. μ„μΉ μ •λ³΄μ™€ λ μ½”λ“ λ°ν™ κ°’μ„ Mappingν•μ—¬ κµ¬μ„±ν•©λ‹λ‹¤.</li>
<li>EDNS(RFC 7871) κΈ°λ¥μ„ μ§€μ›ν•λ” μ•λ” κ²½μ°μ— μμƒκ³Ό λ‹¬λ¦¬ λ™μ‘ν•  μ μμµλ‹λ‹¤.</li>
</ul>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="AWS" term="AWS"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[AWS basic (2)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title"/>
        <updated>2025-07-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="elastic-load-balancer-elb">Elastic Load Balancer (ELB)<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#elastic-load-balancer-elb" class="hash-link" aria-label="Elastic Load Balancer (ELB)μ— λ€ν• μ§μ ‘ λ§ν¬" title="Elastic Load Balancer (ELB)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="κ°μ”">κ°μ”<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#%EA%B0%9C%EC%9A%94" class="hash-link" aria-label="κ°μ”μ— λ€ν• μ§μ ‘ λ§ν¬" title="κ°μ”μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν΄λΌμ΄μ–ΈνΈμ μ„λΉ„μ¤ μ”μ²­ νΈλν”½μ„ μ—¬λ¬ μ„λ²„λ΅ λ¶„μ‚°μ‹μΌ μ£Όλ” μ„λΉ„μ¤μ…λ‹λ‹¤. λ¶€ν•λ΅ μΈν• μ„λΉ„μ¤ μ¤‘λ‹¨ λ° μ„±λ¥ μ €ν•λ¥Ό λ°©μ§€ν•  μ μμ–΄μ”.</p>
<ul>
<li>μ²λ¦¬ λ°©μ‹μ€ μ•„λμ™€ κ°™μ•„μ”:<!-- -->
<ol>
<li>EC2λ¥Ό νƒ€κ² κ·Έλ£Ήμ— ν• λ‹Ήν•κ³  λ΅λ“ λ°Έλ°μ„κ°€ νƒ€κ² κ·Έλ£Ήμ„ μ—°λ™ν•μ—¬ κµ¬μ„±ν•΄μ”.</li>
<li>νƒ€κ² κ·Έλ£Ήμ—μ„ μƒνƒ κ²€μ‚¬λ¥Ό ν†µν•΄ μ •μƒμ μΈ μ„λ²„μ—κ²λ§ μ”μ²­ μ „λ‹¬ν•©λ‹λ‹¤.</li>
<li>μ μ‹­λ€μ μ„λ²„κ°€ κµ¬μ„±λμ–΄ μμ–΄λ„ ν΄λΌμ΄μ–ΈνΈλ” λ‹¨μΌ μ›Ή μ„λΉ„μ¤ endpointλ΅ μ ‘κ·Όν•  μ μμ–΄μ”.</li>
</ol>
</li>
</ul>
<p>μ™„μ „ κ΄€λ¦¬ν• μ„λΉ„μ¤μ—¬μ„ νΈλν”½ μ”μ²­μ΄ λ§μΌλ©΄ ELB μ‹μ¤ν…λ„ λ‚΄λ¶€μ μΌλ΅ μλ™μΌλ΅ ν™•μ¥ν•΄μ”. μ‹μ¤ν…μ— λ€ν• μ—…κ·Έλ μ΄λ“, κ°€μ©μ„±. κ΄€λ¦¬ λ“±μ€ AWSμ—μ„ μ§€μ›μ„ ν•΄μ¤μ”.</p>
<p>λ‹¤λ¥Έ AWS μ„λΉ„μ¤μ™€ μ—°κ³„ μ§€μ›λ„ ν•©λ‹λ‹¤. AWS ACM μΈμ¦μ„μ™€ μ—°λ™ν•μ—¬ HTTPS μ•”νΈν™” ν†µμ‹ μ„ μ§€μ›ν•©λ‹λ‹¤. EC2, Auto-Scaling, Lambda, ECS, EKS μ™€ κ°™μ€ μ»΄ν“¨ν… μ„λΉ„μ¤μ™€ μ—°κ³„ μ‚¬μ©ν•  μ μμ–΄μ”.</p>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-22/img1.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="κµ¬μ„±-μ”μ†">κµ¬μ„± μ”μ†<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C" class="hash-link" aria-label="κµ¬μ„± μ”μ†μ— λ€ν• μ§μ ‘ λ§ν¬" title="κµ¬μ„± μ”μ†μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>
<p>Listener</p>
<ul>
<li>ν”„λ΅ν† μ½, ν¬νΈλ¥Ό κΈ°μ¤€μΌλ΅ ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μμ‹  -&gt; μ”μ²­ λ‚΄μ© κ²€μ‚¬ ν›„ κ²°κ³Όμ— λ”°λΌμ„ μ μ ν• Target GroupμΌλ΅ μ „λ‹¬ν•©λ‹λ‹¤.</li>
<li>μµμ† 1κ° μ΄μƒμ λ¦¬μ¤λ„κ°€ ν•„μ”ν•κ³ , μµλ€ 10κ°κΉμ§€ μ„¤μ •ν•  μ μμ–΄μ”. SSL μΈμ¦μ„λ΅ HTTPSλ¥Ό μ μ© κ°€λ¥ν•©λ‹λ‹¤.</li>
</ul>
</li>
<li>
<p>Rule</p>
<ul>
<li>κµ¬μ„±μ”μ†λ” μ°μ„ μμ„, μ΅°κ±΄, λ™μ‘μΌλ΅ κµ¬μ„±λμ–΄ μμ–΄μ”.</li>
<li>μ”μ²­ κ²€μ‚¬ κ³Όμ •μ—μ„ μ„¤μ •λ μ΅°κ±΄μ— λ”°λΌ μ§€μ •λ λ™μ‘μ„ μν–‰ν•©λ‹λ‹¤.</li>
</ul>
</li>
<li>
<p>Target Group</p>
<ul>
<li>EC2, Lambda, IP Address λ“±μΌλ΅ κµ¬μ„±λμ–΄ μμµλ‹λ‹¤.</li>
<li>μ„λ²„μ Health Checkλ¥Ό ν†µν•΄ μ„λ²„ μƒνƒλ¥Ό λ¨λ‹ν„°λ§ ν•©λ‹λ‹¤.</li>
</ul>
</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-22/img2.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="loadbalancer-μΆ…λ¥">LoadBalancer μΆ…λ¥<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#loadbalancer-%EC%A2%85%EB%A5%98" class="hash-link" aria-label="LoadBalancer μΆ…λ¥μ— λ€ν• μ§μ ‘ λ§ν¬" title="LoadBalancer μΆ…λ¥μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>λ΅λ“λ°Έλ°μ„μ μΆ…λ¥μ—λ” ν¬κ² 4κ°κ°€ μμ–΄μ”:<!-- -->
<ul>
<li>Application Load Balancer:
Application Layer (layer 7)μ—μ„ μ‚¬μ©λλ” LB μ—μ”.
SSL Offload κΈ°λ¥μ„ μ κ³µν•΄μ”.(ν΄λΌμ΄μ–ΈνΈκ°€ μ•”νΈν™”ν•΄μ„ λ³΄λƒλ”λ° μ„λ²„λ΅ λ³΄λ‚Ό λ•λ” plain textλ΅ λ³΄λƒ…λ‹λ‹¤. μ•”νΈν™”λ κ²ƒμ„ λ³µνΈν™”ν•λ” κ³Όμ •μ—μ„ μ—°μ‚°μ΄ λ§μ΄ μΌμ–΄λ‚κΈ° λ•λ¬Έμ— μ‚¬μ©λλ” κ°λ…μ΄μ—μ”.)</li>
<li>Network Load Balancer:
Elastic IP μ μ©μ΄ κ°€λ¥ν•λ©° μ΄λ‹Ή μλ°±λ§ κ±΄ μ”μ²­ μ²λ¦¬κ°€ κ°€λ¥ν•΄μ„ ALBλ³΄λ‹¤ μ„±λ¥μ΄ μΆ‹μ•„μ”.
S-NATμ΄ λΉ„ν™μ„±ν™” μƒνƒμ—μ„ νΈλν”½μ΄ λ“¤μ–΄μ¨λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈ IPκ°€ LBμ—μ„ λ³€κ²½λ μ±„λ΅ λ“¤μ–΄μ¤λ” κ²ƒμ΄ μ•„λ‹λΌ κ·Έλ€λ΅ λ“¤μ–΄μ¤κΈ° λ•λ¬Έμ— μ„λ²„μ— λ„μ°©μ„ ν•λ©΄ LBλ΅ λ‹¤μ‹ μ‘λ‹µμ„ λ³΄λ‚΄μ£Όλ” κ²ƒμ΄ μ•„λ‹ NAT GWλ΅ κ°€μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬μ΄ λΌμ”. (LBκ°€ ν•λ” μ—­ν• μ΄ ν•λ‚κ°€ λκΈ° λ•λ¬Έμ— ν›¨μ”¬ μ„±λ¥μ΄ μΆ‹μ•„μ”.)<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## DSR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client -&gt; NLB -&gt; Target Group -&gt; NAT Gateway -&gt; client </span><br></span></code></pre></div></div>
</li>
<li>Gateway Load Balancer</li>
</ul>
</li>
</ul>
<p>μ£Όλ΅ μ‚¬μ©ν•λ” κ²ƒμ€ ALB, NLB μ΄λ ‡κ² 2κ°λ¥Ό μ£Όλ΅ μ‚¬μ©ν•©λ‹λ‹¤. Classic Load Balancerλ” μ‚¬μ©μ„ ν•λ” κ³³μ€ μμ§€λ§ λ‹¨μΆ…λ μ„λΉ„μ¤ μ…λ‹λ‹¤.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="auto-scaling">Auto Scaling<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#auto-scaling" class="hash-link" aria-label="Auto Scalingμ— λ€ν• μ§μ ‘ λ§ν¬" title="Auto Scalingμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="κµ¬μ„±μ”μ†">κµ¬μ„±μ”μ†<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C" class="hash-link" aria-label="κµ¬μ„±μ”μ†μ— λ€ν• μ§μ ‘ λ§ν¬" title="κµ¬μ„±μ”μ†μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>Auto Scaling Group (ASG)<!-- -->
<ul>
<li>κ΄€λ¦¬ λ€μƒ μΈμ¤ν„΄μ¤λ¥Ό λ…Όλ¦¬μ μΌλ΅ λ¨μ•„ λ†“μ€ μ§‘ν•©μ΄μ—μ”.</li>
<li>μµμ† ν¬κΈ°, μµλ€ ν¬κΈ°, ν¬λ§ μ©λ‰μ„ μ„¤μ •ν•κ³  μ΄ λ²”μ„ λ‚΄μ—μ„ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„± μ κ±° ν•©λ‹λ‹¤.</li>
<li>λ΅λ“ λ°Έλ°μ„μ νΉμ • Target GroupμΌλ΅ ν¬ν•¨λλ„λ΅ μ§€μ • κ°€λ¥ν•΄μ”.</li>
</ul>
</li>
<li>Launch Template<!-- -->
<ul>
<li>auto Scalingμ„ ν†µν•΄μ„ μƒλ΅ μƒμ„±ν•  μΈμ¤ν„΄μ¤μ μ„¤μ • κ°’μ λ¨μμ…λ‹λ‹¤.</li>
<li>AMI, TYPE, Security Group, Key-Pair, User Data λ“±μ„ μ •μν•΄μ”.</li>
<li>μμ •μ΄ λ¶κ°€λ¥ν•κ³ , μƒλ΅μ΄ λ²„μ „μ„ μƒμ„±ν• λ’¤μ— ASG μ„¤μ •μ—μ„ λ²„μ „ μ—…λ°μ΄νΈκ°€ ν•„μ”ν•©λ‹λ‹¤.</li>
</ul>
</li>
<li>Scaling Policies<!-- -->
<ul>
<li>μΈμ¤ν„΄μ¤λ¥Ό μ΅°μ •ν•λ” κΈ°μ¤€, μ΅°κ±΄μ„ μ„¤μ •ν•λ” μ”μ†μ—μ”.</li>
<li>Scheduled, Dynamic, Predicitive Scaling λ°©μ‹μ„ μ§€μ›ν•©λ‹λ‹¤.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="λ™μ‘-κ³Όμ •">λ™μ‘ κ³Όμ •<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#%EB%8F%99%EC%9E%91-%EA%B3%BC%EC%A0%95" class="hash-link" aria-label="λ™μ‘ κ³Όμ •μ— λ€ν• μ§μ ‘ λ§ν¬" title="λ™μ‘ κ³Όμ •μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ol>
<li>ALB(Application)μ—μ„ EC2 μƒνƒ κ²€μ‚¬λ¥Ό μν–‰ν•©λ‹λ‹¤.</li>
<li>Unhealthy μƒνƒ EC2κ°€ λ°κ²¬μ΄ λλ©΄ ASGλ΅ μ „λ‹¬ν•©λ‹λ‹¤.</li>
<li>Launch Template λ¥Ό Trigger ν•©λ‹λ‹¤.</li>
<li>EC2 μƒμ„± λ° ASG, Target Groupμ— λ“±λ΅ν•©λ‹λ‹¤.</li>
<li>μΈμ¤ν„΄μ¤ λ§¤νΈλ¦­μ„ μλΉν•κ³  CloudWatchλ΅ μ „λ‹¬ν•©λ‹λ‹¤.</li>
<li>Scaling Policy μ΅°κ±΄μ„ μ¶©μ΅±ν•λ©΄ μ•λμ΄ μΈλ¦½λ‹λ‹¤.</li>
<li>Launch Templateλ¥Ό Trigger ν•©λ‹λ‹¤.</li>
<li>EC2 μƒμ„± λ° ASG, Target Groupμ— λ“±λ΅ν•©λ‹λ‹¤.</li>
</ol>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-22/img3.png" width="600">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storage-service">Storage Service<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#storage-service" class="hash-link" aria-label="Storage Serviceμ— λ€ν• μ§μ ‘ λ§ν¬" title="Storage Serviceμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="block-storage">Block Storage<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#block-storage" class="hash-link" aria-label="Block Storageμ— λ€ν• μ§μ ‘ λ§ν¬" title="Block Storageμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ€ν‘μ μΌλ΅ AMAZON EBS(Elastic Block Store)</p>
<p>λ°μ΄ν„°λ¥Ό μΌμ •ν• ν¬κΈ°μ λΈ”λ΅ λ‹¨μ„λ΅ μ €μ¥ν•΄μ”. λΈ”λ΅μ κ³ μ  μ£Όμ†λ΅ μ ‘κ·Όν•μ—¬ λΉ λ¥Έ μ ‘κ·Όμ΄ κ°€λ¥ν•©λ‹λ‹¤. λν•, μ„λ΅ λ‹¤λ¥Έ OSμ—μ„ μ ‘κ·Όκ°€λ¥ν•΄μ”.</p>
<p><strong>Elastic Block Store</strong></p>
<ul>
<li>EC2 μΈμ¤ν„΄μ¤μ— μ—°κ²°ν•΄ μ‚¬μ©ν•  μ μλ” λ„¤νΈμ›ν¬ κΈ°λ° Block Storage μ„λΉ„μ¤μ…λ‹λ‹¤.<!-- -->
<ul>
<li>μ§μ ‘μ μΌλ΅ μ—°κ²°μ΄ λμ–΄μμ§€ μ•μ•„μ”. κ·Έλμ„ VMμ΄ λκ²¨λ„ μ£Όμ† κΈ°λ°μ΄κΈ° λ•λ¬Έμ— μ ‘κ·Όν•  μ μμµλ‹λ‹¤.</li>
</ul>
</li>
<li>Data volume, snapshotμ— λ€ν• μ•”νΈν™”λ¥Ό μ§€μ›ν•΄μ¤μ”.</li>
<li>ν•λ‚μ μΈμ¤ν„΄μ¤μ— μ—°κ²°ν•΄ μ‚¬μ©ν•λ©°, EC2 μΈμ¤ν„΄μ¤μ™€ λ³„κ°λ΅ κ΄€λ¦¬κ°€ λ©λ‹λ‹¤.<!-- -->
<ul>
<li>ν•λ‚μ μΈμ¤ν„΄μ¤μ— 2κ° μ΄μƒμ EBS λ³Όλ¥¨μ΄ μ—°κ²°μ΄ κ°€λ¥ν•©λ‹λ‹¤.</li>
<li>λ³Όλ¥¨ νƒ€μ…μ΄ io1, 2 νƒ€μ…μΈ κ²½μ°λ„¤λ” λ™μΌν• κ°€μ©μμ—­ λ‚΄μ—μ„ μ—¬λ¬ μΈμ¤ν„΄μ¤μ— μ—°κ²°μ΄ κ°€λ¥ν•΄μ”.</li>
<li>μ—°κ²°λμ–΄ μλ EBSκ°€ λ¶„λ¦¬λ ν›„μ— λ‹¤λ¥Έ μΈμ¤ν„΄μ¤μ— μ—°κ²°ν•  μ μμ–΄μ”.</li>
</ul>
</li>
<li>νΉμ • κ°€μ©μμ—­μ•μ—μ„λ§ μƒμ„±λκΈ° λ•λ¬Έμ— κ°€μ©μμ—­κ°„ EBS λ³Όλ¥¨ κ³µμ κ°€ λ¶κ°€λ¥ν•΄μ”.<!-- -->
<ul>
<li>λ§μ•½ μ •λ³΄κ°€ λ‹¤λ¥Έ κ°€μ©μμ—­μ— ν•„μ”λ΅ ν•λ‹¤λ©΄ μ¤λƒ…μƒ·μ„ ν™μ©ν•΄ μ‚¬μ©ν•  μ μμ–΄μ”.</li>
</ul>
</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-22/img4.png" width="600">
<p><strong>Instance Store</strong></p>
<ul>
<li>νΈμ¤νΈ μ»΄ν“¨ν„°μ λ””μ¤ν¬λ¥Ό μ§μ ‘ μ—°κ²°ν•΄μ”. κ°€μ¥ λΉ λ¥Έ μ†κ³§μ λ””μ¤ν¬ νƒ€μ…μ…λ‹λ‹¤.</li>
<li>λΉ„μκµ¬μ  μ €μ¥μ†(νλ°μ„±)μ΄μ–΄μ„ μΈμ¤ν„΄μ¤ μ¤‘μ§€ λ° μΆ…λ£ μ‹μ— ν•λ“μ›¨μ–΄κ°€ λ°”λ€λ©΄μ„ λ°μ΄ν„°λ¥Ό μ†μ‹¤ν•  μ μμµλ‹λ‹¤.</li>
<li>μ—°κ²°ν•΄μ§€κ°€ λ¶κ°€λ¥ν•κ³ , μΈμ¤ν„΄μ¤ ν¨λ°€λ¦¬μ— λ”°λΌ λ””μ¤ν¬μ μΆ…λ¥μ™€ μ‚¬μ΄μ¦κ°€ λ‹¬λΌμ”.</li>
<li>λ€ν‘μ μΌλ΅ μΉ΄μ‚°λ“λΌμ™€ κ°™μ€ κ²ƒλ“¤μ΄ μ‚¬μ©ν•΄μ”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-22/img5.png" width="600">
<p><strong>EBS Snapshot</strong></p>
<ul>
<li>νΉμ • μ‹μ μ—μ„ EBS λ³Όλ¥¨μ— μ €μ¥λ λ°μ΄ν„°λ¥Ό λ³µμ‚¬ν•΄λ‘” λ°μ΄ν„°λ¥Ό μλ―Έν•΄μ”.</li>
<li>μ¦λ¶„ λ°©μ‹ μ €μ¥(λ΅κ·Έμ™€ κ°™μ€ κ°’λ“¤μ„ μ €μ¥, νΉμ • μ‹μ μΌλ΅ λ§μ¶°μ¤„ μ μμ–΄μ”.)μ„ ν†µν•΄μ„ μ €μ¥ μ©λ‰μ„ ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•  μ μμ–΄μ”.</li>
<li>snapshotμ€ S3 λ²„ν‚·μ— λ³΄κ΄€λΌμ”. (ec2 μΈμ¤ν„΄μ¤μ—μ„λ§ λ³Ό μ μκ³ , S3μ—μ„λ” λ³΄μ΄μ§€ μ•μ•„μ”.)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-storage">File Storage<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#file-storage" class="hash-link" aria-label="File Storageμ— λ€ν• μ§μ ‘ λ§ν¬" title="File Storageμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ€ν‘μ μΌλ΅ AMAZON EFS, AMAZON FSx κ°€ μμ–΄μ”.</p>
<p>νμΌκ³Ό ν΄λ”μ κ³„μ¶© κµ¬μ΅°λ΅ μ €μ¥λμ–΄ μμ–΄μ”. νμΌ, ν΄λ”κ°€ λ§μ•„μ§ μλ΅ νμΌ νƒμƒ‰ μ„±λ¥μ΄ μ €ν•λΌμ”.</p>
<p>νμΌ μ‹μ¤ν…(ν”„λ΅ν† μ½)μ— λ”°λΌμ„ OS μ ‘κ·Όμ΄ μ•λ  μ μμ–΄μ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="object-storage">Object Storage<a href="https://indianapoly.github.io/blog/2025/07/22/aws/AWS-basic-2-title#object-storage" class="hash-link" aria-label="Object Storageμ— λ€ν• μ§μ ‘ λ§ν¬" title="Object Storageμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ€ν‘μ μΌλ΅ S3κ°€ μμ–΄μ”.</p>
<p>μ¤λΈμ νΈ λ‹¨μ„λ΅ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ³  Application λ‹¨μ—μ„ λ™μ‘ν•©λ‹λ‹¤. λ¬Όλ¦¬μ  μ μ•½μ΄ μ μ–΄ μ›ν•λ” λ§νΌ ν™•μ¥ κ°€λ¥ν•©λ‹λ‹¤.</p>
<p>μ¤λΈμ νΈ λ³„λ΅ KEY<!-- -->:VAULE<!-- --> ν•νƒλ΅ κµ¬μ„± λμ–΄μμµλ‹λ‹¤.</p>
<p><strong>Simple Storage Service</strong></p>
<ul>
<li>
<p>μ›Ή μ„λΉ„μ¤λ¥Ό μ΄μ©ν•΄ μ–΄λ””μ„λ‚ μ ‘κ·Ό κ°€λ¥ν• object storageμ—μ”. μ©λ‰ μ ν• μ—†μ΄ λ¬΄μ ν• ν™•μ¥ κ°€λ¥ν• μ¤ν† λ¦¬μ§€ μ…λ‹λ‹¤. μ‚¬μ©ν• λ§νΌ κ³ΌκΈμ΄ λμ”.</p>
</li>
<li>
<p>μ›Ή λΈλΌμ°μ € GUIλ¥Ό μ΄μ©ν•κ±°λ‚, REST APIλ¥Ό μ΄μ©ν•΄ λ°μ΄ν„°λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤. λ‹¨μ λ°μ΄ν„° μ €μ¥μ†λ΅ λ™μ‘ν•λ©°, ν”„λ΅κ·Έλ¨ μ„¤μΉ μ‘μ—…μ€ μ ν•λΌμ”.</p>
</li>
<li>
<p>μ •μ  μ›Ή νΈμ¤ν…μ„ μ§€μ›ν•΄μ”.</p>
</li>
<li>
<p>λ²„ν‚·μ„ μƒμ„±ν•  λ•λ” κ³ μ ν• μ΄λ¦„μΌλ΅ μƒμ„±ν•΄μ•Όν•λ©°, μƒμ„±λλ” μ„μΉ μ§€μ •μ΄ ν•„μ”ν•©λ‹λ‹¤.</p>
</li>
<li>
<p>λ²„ν‚· λ‚΄ μ €μ¥λλ” Objectλ§λ‹¤ KEY VALUE λ΅ λ§µν•‘μ΄ λ©λ‹λ‹¤.</p>
</li>
<li>
<p>κ°μ²΄λ¥Ό μ €μ¥ν•κ² λλ©΄ S3 URI(AWS λ‚΄λ¶€ μ‘μ—…μ© μ‹λ³„μ), Object URL(http κΈ°λ°μ μ™Έλ¶€ μ ‘μ†μ© μ‹λ³„μ) μ •λ³΄λ¥Ό ν• λ‹Ήν•΄μ¤λ‹λ‹¤.</p>
<ul>
<li>Objectμ„ λΈλΌμ°μ €μ—μ„ λ„μΈ λ• μ‚¬μ©ν•©λ‹λ‹¤. (μ΅°νμ©μΌλ΅ μ‚¬μ©ν•΄μ”.)</li>
</ul>
</li>
</ul>
<p>S3 Bucketμ€ μ•„λμ™€ κ°™μ•„μ”.</p>
<ul>
<li>Effect : Actionμ— λ…μ‹λ μ‘μ—… κ¶ν™μ„ Allow ν•κ±°λ‚ Deny ν•©λ‹λ‹¤.</li>
<li>Principal : λ…μ‹λ λ€μƒμ— μ ‘κ·Όμ„ ν—μ©ν•  λ³΄μ•μ£Όμ²΄ (User, Role λ“±λ“±)μ„ μ§€μ •ν•΄μ”.</li>
<li>Action : μ„λΉ„μ¤λ…κ³Ό ν–‰μ„ ν•νƒλ΅ κµ¬μ„±μ΄ λμ–΄μμ–΄μ”.</li>
<li>Resource : μ •μ±… μ μ©λ€μƒμ ARN μ •λ³΄λ¥Ό μ…λ ¥ν•΄μ”.</li>
<li>Condition: μ •μ±…μ΄ μ μ©λ  μ΅°κ±΄μ„ μ§€μ •ν•΄μ¤μ”.</li>
</ul>
<div class="language-JSON language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"Statement"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"Effect"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Allow"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// or "Deny"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"Principal"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"AWS"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"arn:...:user"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"Action"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"s3:GetObejct"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"Resource"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"arn:...:my_bucket/*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"Condition"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"IpAddress"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token property" style="color:#36acaa">"aws:SourceIp"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">"100.10.1.1/32"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">"10.0.0.0/16"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li>S3 public Access Block<!-- -->
<ul>
<li>bucket policy, s3 access control list μ„¤μ •λ³΄λ‹¤λ” public access blockμ΄ μ°μ„ μ…λ‹λ‹¤.</li>
<li>κΈ°λ³Έμ μΌλ΅ λ²„ν‚·μ€ private μƒνƒλ΅ μƒμ„±λμ§€λ§, λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² λ³΄νΈν•κΈ° μ„ν•΄μ„ public μ ‘κ·Ό ν—μ© μ •μ±…μ΄ μ μ©λλ” κ²ƒμ„ λ°©μ§€ν•κΈ° μ„ν• λ„κµ¬μ…λ‹λ‹¤.</li>
<li>Bucket policy, access control list λ“±μ—μ„ public μ ‘κ·Ό κ¶ν•μ„ ν—μ©ν•λ” μ„¤μ •μ„ λ¬΄μ‹ν•κ±°λ‚ μ°¨λ‹¨ν•©λ‹λ‹¤.</li>
</ul>
</li>
</ul>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="AWS" term="AWS"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[AWS basic (1)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title"/>
        <updated>2025-07-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="λ„¤μ΄λ°-μ»¨λ²¤μ…">λ„¤μ΄λ° μ»¨λ²¤μ…<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#%EB%84%A4%EC%9D%B4%EB%B0%8D-%EC%BB%A8%EB%B2%A4%EC%85%98" class="hash-link" aria-label="λ„¤μ΄λ° μ»¨λ²¤μ…μ— λ€ν• μ§μ ‘ λ§ν¬" title="λ„¤μ΄λ° μ»¨λ²¤μ…μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>νμ‚¬λ§λ‹¤ κΈ°μ¤€μ΄ μκΈ°λ„ ν•κ³ , μμ‹ λ§λ‹¤ λ©ν‘λ¥Ό μ„Έμ›λ‘κ³  μ§„ν–‰ν•  μ μμ–΄μ”.</p>
<ul>
<li>
<p>μ‹μ¤ν… κ°λ° ν™κ²½
dev(development), stg(staging), qa, prd</p>
</li>
<li>
<p>μ‹μ¤ν… λ…μΉ­
erp, crm, ecommerce, bank</p>
</li>
<li>
<p>λ¦¬μ†μ¤ λ…μΉ­
ec2, rds, dynamodb, redis</p>
</li>
<li>
<p>μ‹μ¤ν… μ—­ν• 
web, was, aip, bastion</p>
</li>
<li>
<p>a + λ„λ²„λ§
pub01a, pri01c</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="identity-and-access-management">Identity and Access Management<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#identity-and-access-management" class="hash-link" aria-label="Identity and Access Managementμ— λ€ν• μ§μ ‘ λ§ν¬" title="Identity and Access Managementμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>λ„κ°€(Identity) μ–΄λ–¤ κ²ƒμ„ μ΄μ©ν•  μ μλ”μ§€ μ—†λ”μ§€μ— λ€ν• κ²ƒμ…λ‹λ‹¤.</p>
<p>Root Userλ” κ°μ • μƒμ„±μ‹ λ°κΈ‰μ΄ λλ”λ° μ΄κΈ° μ„¤μ • μ΄ν›„μ—λ” μ‚¬μ©ν•μ§€ μ•λ” κ²ƒμ„ κ¶μ¥ν•΄μ”</p>
<ol>
<li>Root User MFA μ„¤μ •</li>
<li>Password Policy μ„¤μ •</li>
<li>λ€μ²΄ μ—°λ½μ² μ„¤μ •</li>
<li>Admin User μƒμ„± (μ—¬κΈ°μ„ μ‘μ—…μ„ ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.)</li>
</ol>
<p>=&gt; ν•΄λ‹Ή μ‘μ—…μ„ μ μ™Έν• λ¨λ“  μ‘μ—…μ—μ„ Root User μ‚¬μ©μ„ μ ν•ν•λ” κ²ƒμ΄ μΆ‹μ•„μ”. λ§μ•½ Root Userμ™€ λ™μΌν• κ¶ν•μ„ ν–‰μ„Έν•κ³  μ‹¶μΌλ©΄ μ•„λμ™€ κ°™μ΄ μ§„ν–‰μ„ μ£Όλ©΄ λΌμ”.</p>
<p>μ•„λ μ‚¬μ§„μ„ λ³΄κ² λλ©΄ IAMμ— μ ‘μ†ν•μ—¬ μ‚¬μ©μλ¥Ό ν•λ‚ μƒμ„±μ„ ν•΄μ£Όλ”λ° μ΄ λ• AdministratorAccessλ¥Ό μ§€μ •ν•΄μ£Όλ©΄ Root κ³„μ •μ΄ μ•„λ‹ λ‹¤λ¥Έ κ³„μ •μ— μ „μ²΄ κ¶ν•μ„ λ¶€μ—¬ν•  μ μλ„λ΅ ν•΄μ¤λ‹λ‹¤.
Adminμ Policy(json)μ€ μ•„λμ™€ κ°™μ΄ κµ¬μ„±μ΄ λμ–΄μμ–΄μ”.</p>
<div class="language-JSON language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"Version"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2012-10-17"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"Statement"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"Effect"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Allow"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"Action"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"*"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"Resource"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"*"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img2.png" width="600">
<ul>
<li>
<p>Identity (λ³΄μ• μ£Όμ²΄, Principal)</p>
<ul>
<li>Root User : λ¨λ“  κ¶ν•μ„ μ†μ , μ΄κΈ° μ„¤μ • ν›„μ— μ‚¬μ©μ„ μ§€μ–‘, λ“±λ΅λ μ΄λ©”μΌ μ£Όμ†λ΅ μ ‘κ·Ό</li>
<li>IAM User : λ¶€μ—¬λ κ¶ν•λ§ ν–‰μ‚¬, μ¥κΈ°μκ²©μ¦λ…, μƒμ„±λ μκ²©(ID, PW)λ΅ μ ‘κ·Ό</li>
<li>IAM Role : λ¶€μ—¬λ κ¶ν•λ§ ν–‰μ‚¬, μ„μ‹μκ²©μ¦λ…, AWS APIλ¥Ό μ‚¬μ©ν•΄ μ ‘κ·Ό</li>
<li>AWS Service(application) : μ‚¬μ©μ λ€μ‹  μ‘μ—… μν–‰, IAM User / IAM Roleμ„ μ΄μ©ν•΄μ„ μ‘μ—…μ„ λ€μ‹  μν–‰</li>
</ul>
</li>
<li>
<p>Access Management</p>
<ul>
<li>IAMμ€ JSON κµ¬μ΅°λ΅ κµ¬μ„±λ μ •μ±…(policy) λ¬Έμ„λ¥Ό κΈ°λ°μΌλ΅ μ‚¬μ©μμ κ¶ν•μ„ κ΄€λ¦¬</li>
</ul>
</li>
</ul>
<div class="language-JSON language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"λ„κ°€"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"IAM User / AWS Service .."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"λ¬΄μ—‡μ„ (λ€μƒ)"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"S3 / EC2 / DynamoDB .."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"μ–΄λ–»κ² (ν–‰μ„)"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"GET / DELETE / CREATE .."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"ν•  μ μλ‹¤/μ—†λ‹¤"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"true/false"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>JSON μ •μ±… -&gt; Roleμ—κ² λ¶€μ—¬ν•κ³  μ΄κ²ƒμ„ λ‹¤μ‹ Serviceμ— μ¤„ μ μμ–΄μ”. EC2 μΈμ¤ν„΄μ¤μ— λ™μΌν• IAM μ •μ±…μ„ λ¶€μ—¬ν•κ³  μ‹¶μΌλ©΄ Roleμ— μ—­ν• μ„ λ¶€μ—¬ν•κ³  ν•΄λ‹Ή μ—­ν• μ„ λ¶€μ—¬ν•΄μ£Όλ©΄ λΌμ”.</p>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img1.png" width="600">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-baseline">Network Baseline<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#network-baseline" class="hash-link" aria-label="Network Baselineμ— λ€ν• μ§μ ‘ λ§ν¬" title="Network Baselineμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>λ„¤νΈμ›ν¬ 3κ°€μ§€ μ„¤κ³„ ν¬μΈνΈ</p>
<ul>
<li>
<p>segmentation : private ν™κ²½μ„ λ§λ“¤μ–΄ λ‘λ” κ²ƒμ…λ‹λ‹¤.</p>
<ul>
<li>CIDR-Subnetting, Public &amp; Private ...</li>
</ul>
</li>
<li>
<p>connectivity : private ν™κ²½κ³Ό μ—°κ²°μ΄ λλ” κ²ƒμ„ λ§ν•©λ‹λ‹¤.</p>
<ul>
<li>IGW, NAT, Elastic IP, Site to Site VPN ...</li>
</ul>
</li>
<li>
<p>security : μ—΄λ¦° κ²ƒλ“¤μ„ μ•μ „ν•κ² λ°©μ–΄ν•λ” κ²ƒμ…λ‹λ‹¤.</p>
<ul>
<li>λ³΄μ• κ·Έλ£Ή, Network-ACL, WAF ...</li>
</ul>
</li>
</ul>
<p>Private IP μ£Όμ† λ€μ—­μ€ μ•„λ μ‚¬μ§„κ³Ό κ°™μ΄ RFC 1918 λ¬Έμ„μ— ν‘μ¤€μΌλ΅ μ§€μ •ν•κ³  μμµλ‹λ‹¤. λ”°λΌμ„ VPC λ„¤νΈμ›ν¬λ¥Ό μ„¤μ •ν•κ² λλ‹¤λ©΄ μ‚¬μ§„κ³Ό κ°™μ€ λ„¤νΈμ›ν¬λ¥Ό μ„¤μ •ν•λ©΄ λ©λ‹λ‹¤.</p>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img1.png" width="600">
<p>AWSμ—μ„λ” μμ•½λ IP 5κ°λ¥Ό μ μ™Έν• λ‚λ¨Έμ§€λ¥Ό μμ λ΅­κ² μ‚¬μ©ν•  μ μμ–΄μ”.</p>
<ul>
<li>x.x.x.0 : Network Address</li>
<li>x.x.x.255 : Broadcast Address</li>
<li>x.x.x.1 : VPC Router</li>
<li>x.x.x.2 : DNS server</li>
<li>x.x.x.3 : Futuer use</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vpc-virtual-private-cloud">VPC (Virtual Private Cloud)<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#vpc-virtual-private-cloud" class="hash-link" aria-label="VPC (Virtual Private Cloud)μ— λ€ν• μ§μ ‘ λ§ν¬" title="VPC (Virtual Private Cloud)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>VPCλ” λ‹¤λ¥Έ λ„¤νΈμ›ν¬ ν™κ²½ λ° μ™Έλ¶€μ™€ κ²©λ¦¬λ κ°€μƒμ μ‚¬μ„¤ λ„¤νΈμ›ν¬λ¥Ό λ§ν•΄μ”.</p>
<ul>
<li>
<p>AWS μ•μ—μ„λ” μµμ† /28 ~ μµλ€ /16 μƒμ„±ν•  μ μμ–΄μ”.</p>
</li>
<li>
<p>VPCλ” μµλ€ 5κ° μƒμ„± κ°€λ¥ν•λ©°, λ” μ¶”κ°€λ¥Ό ν•κΈ° μ„ν•΄μ„λ” AWSμ— μ”μ²­μ„ ν•΄μ£Όλ©΄ λΌμ”.</p>
</li>
<li>
<p>CIDRμ€ ν• λ² μ„¤μ •ν•λ©΄ μμ •μ΄ λ¶κ°€λ¥ν•©λ‹λ‹¤.</p>
<ul>
<li>μ¶”κ°€ν•κ³  μ‹¶μΌλ©΄ Secondaryλ¥Ό μ¶”κ°€ν•΄μ„ λ„¤νΈμ›ν¬ ν™•μ¥μ„ ν•  μ μμ–΄μ”. μ΄κ²ƒλ„ μµλ€ 5κ°μΈλ° 5κ° μ΄κ³Όν•΄μ„ μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” AWSμ— μ”μ²­μ„ ν•΄μ£Όλ©΄ λ©λ‹λ‹¤.</li>
</ul>
</li>
<li>
<p>VPCλ” νΉμ • Regionμ— μΆ…μ† λ¦¬μ†μ¤ (λ¦¬μ „μ•μ—μ„λ§ ν™λ™μ΄ κ°€λ¥ν•¨)μ—μ”.</p>
<ul>
<li>1κ°μ VPCλ΅ λ¨λ“  Regionμ„ μ»¤λ²„ν•λ” κ²ƒμ„ λ¶κ°€λ¥ν•©λ‹λ‹¤.</li>
</ul>
</li>
<li>
<p>μ™Έλ¶€μ™€ κ²©λ¦¬λ VPCλ” Internet GateWayλ¥Ό ν†µν•΄μ„λ§ μΈν„°λ„·κ³Ό ν†µμ‹ μ„ κ°€λ¥ν•΄μ”.</p>
<ul>
<li>Internet Gatewayλ” μƒμ„± ν›„ VPCμ— ν• λ‹Ήν•μ—¬ μ‚¬μ©ν•©λ‹λ‹¤.</li>
<li>1κ°μ VPCμ—λ” 1κ°μ Internet Gatewayλ§ ν• λ‹Ή κ°€λ¥ν•©λ‹λ‹¤.</li>
</ul>
</li>
<li>
<p>κ²©λ¦¬λ network κ°„μ— ν†µμ‹ μ΄ κ°€λ¥ν•λ„λ΅ Routing Tableμ„ μ„¤μ •ν•΄μ£Όλ©΄ λ©λ‹λ‹¤.</p>
</li>
<li>
<p>NAT Gateway vs Routing Table</p>
<ul>
<li>Private Subnetμ λ¦¬μ†μ¤λ“¤μ΄ Nat Gatewayμ Public IPλ¥Ό κ³µμ ν•΄ μΈν„°λ„·μ„ μ΄μ©ν•©λ‹λ‹¤. λ‚΄λ¶€ λ¦¬μ†μ¤κ°€ μ™Έλ¶€λ΅ μ ‘κ·Όν•λ” κ²½μ°μ—λ§ ν—μ©ν•΄μ”.</li>
<li>μ™Έλ¶€μ—μ„ λ‚΄λ¶€λ΅ μ ‘μ†ν•λ” νΈλν”½μ€ μ²λ¦¬ν•  μ μ—†μ–΄μ”.</li>
</ul>
</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img4.png" width="600">
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img5.png" width="600">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-security">Network Security<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#network-security" class="hash-link" aria-label="Network Securityμ— λ€ν• μ§μ ‘ λ§ν¬" title="Network Securityμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-acl">Network ACL<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#network-acl" class="hash-link" aria-label="Network ACLμ— λ€ν• μ§μ ‘ λ§ν¬" title="Network ACLμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>μ„λΈλ„·μ— μ ‘κ·Ό ν—μ©ν•  νΈλν”½ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•λ” κ°€μƒμ λ°©ν™”λ²½μ΄μ—μ”. (μ„λΈλ„· λ‹¨μ„λ΅ μ μ© κ°€λ¥ν•©λ‹λ‹¤.)</li>
<li>1κ°μ NACLμ— μ—¬λ¬ κ°μ μ„λΈλ„·μ„ μ μ©ν•λ” κ²ƒμ€ κ°€λ¥ν•λ‚ κ·Έ λ°λ€λ” λ¶κ°€λ¥ν•΄μ”.</li>
<li>μƒνƒ λΉ„μ €μ¥ λ°©μ‹μ΄μ–΄μ„ In-boundμ™€ Out-bound λ¨λ‘ κ·μΉ™μ„ μ μ©ν•΄μ£Όμ–΄μ•Ό ν•΄μ”.</li>
<li>λ¨λ“  νΈλν”…μ„ ν—μ©ν•κ³ , μ°¨λ‹¨ν•  IP μ£Όμ†λ‚ Portλ¥Ό μ§€μ •ν•΄μ„ μ°¨λ‹¨ν•λ” λ°©μ‹μ΄λΌκ³  μƒκ°ν•λ©΄ νΈν•΄μ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="λ³΄μ•-κ·Έλ£Ή">λ³΄μ• κ·Έλ£Ή<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#%EB%B3%B4%EC%95%88-%EA%B7%B8%EB%A3%B9" class="hash-link" aria-label="λ³΄μ• κ·Έλ£Ήμ— λ€ν• μ§μ ‘ λ§ν¬" title="λ³΄μ• κ·Έλ£Ήμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>λ¦¬μ†μ¤μ— μ ‘κ·Ό ν—μ©ν•  νΈλν”½ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•λ” κ°€μƒμ λ°©ν™”λ²½μ΄μ—μ”.</li>
<li>Elastic Network Interfaceμ— μ—¬λ¬ κ°μ λ³΄μ• κ·Έλ£Ή μ μ©μ΄ κ°€λ¥ν•΄μ”.</li>
<li>In-bound / Out-bound νΈλν”½μ ν—μ© κ·μΉ™λ§μ„ μ •μν•΄μ”. κΈ°λ³Έμ μΌλ΅λ” λ‹¤ λ§‰μ•„λ‘μ§€λ§ νΉμ •ν• κ²ƒμ— λ€ν•΄μ„ ν—μ©ν•΄μ”.</li>
<li>λ³΄μ• κ·Έλ£Ήμ€ μƒνƒ μ €μ¥ λ°©μ‹μ λ°©ν™”λ²½μ΄κΈ° λ•λ¬Έμ— In-bound ν—μ© κ·μΉ™μ΄ μ μ©μ΄ λμ–΄μμΌλ©΄, Out-bound ν—μ© κ·μΉ™μ΄ μ—†μ–΄λ„ ν†µκ³Όν•  μ μμ–΄μ”.</li>
<li>λ¦¬μ†μ¤ λ‹¨μ„λ΅ κ° ν—μ©λμ–΄μ•Όν•  Protocol, Portλ¥Ό μ„Έλ¶€μ μΌλ΅ μ§€μ •ν•λ” λ°©μ‹μ΄λΌκ³  μ•κ³  μμΌλ©΄ λΌμ”.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="elastic-compute-cloud-ec2">Elastic Compute Cloud (EC2)<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#elastic-compute-cloud-ec2" class="hash-link" aria-label="Elastic Compute Cloud (EC2)μ— λ€ν• μ§μ ‘ λ§ν¬" title="Elastic Compute Cloud (EC2)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>κ°€μƒν™”λ μ»΄ν“¨ν… μμ›(μΈμ¤ν„΄μ¤λ¥Ό μ κ³µ)μ„ λΉλ ¤μ¤μ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="naming-rule">Naming Rule<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#naming-rule" class="hash-link" aria-label="Naming Ruleμ— λ€ν• μ§μ ‘ λ§ν¬" title="Naming Ruleμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>EC2 instance Typeμ€ instance family, generation, attributes, sizeλ΅ κµ¬μ„±μ΄ λμ–΄μμ–΄μ”.</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ex. t4g. 2xlarge λ¥Ό λ³΄λ©΄ t(instance family) | 4(instance generation) | g(attributes) | 2xlarge(size)</span><br></span></code></pre></div></div>
<ul>
<li>instance family: κΈ°λ¥ λ³„λ΅ κ·Έλ£ΉμΌλ΅ λ¬¶μ–΄ ν¨λ°€λ¦¬ λ‹¨μ„λ΅ κµ¬λ¶„ν•΄μ”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img6.png" width="600">
<ul>
<li>
<p>instance generation</p>
<ul>
<li>μ£ΌκΈ°μ μΌλ΅ μµμ‹  κΈ°μ μ„ λ°μν• μΈμ¤ν„΄μ¤ μ„Έλ€λ¥Ό μ¶μ‹ν•΄μ”.</li>
<li>μ΄μ „ μ„Έλ€ μΈμ¤ν„΄μ¤ λ€λΉ„ λΉ„μ©μ΄ λ‚®μ•„μ§€κ±°λ‚ μ„±λ¥μ΄ ν–¥μƒλΌμ”.</li>
<li>λ¦¬μ „, κ°€μ©μμ—­(AZ) λ³„λ΅ μ§€μ›λλ” μΈμ¤ν„΄μ¤ μ„Έλ€κ°€ λ‹¬λΌμ”.</li>
</ul>
</li>
<li>
<p>attributes</p>
<ul>
<li>μ¶”κ°€ μ§€μ›λλ” κΈ°λ¥μ— λ”°λΌ attributesκ°€ λ¶™μ–΄μ”.</li>
</ul>
</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img7.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-machine-imageami">Amazon Machine Image(AMI)<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#amazon-machine-imageami" class="hash-link" aria-label="Amazon Machine Image(AMI)μ— λ€ν• μ§μ ‘ λ§ν¬" title="Amazon Machine Image(AMI)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>
<p>EC2 μΈμ¤ν„΄μ¤λ¥Ό μ‹¤ν–‰ν•λ”λ° ν•„μ”ν• μ„¤μ • μ •λ³΄λ¥Ό λ¨μ€ λ‹¨μ„μ…λ‹λ‹¤.</p>
</li>
<li>
<p>AMI κµ¬μ„± μ”μ† μ•„λμ™€ 3κ°€μ§€μ—μ”:</p>
<ul>
<li>λ£¨νΈ λ³Όλ¥¨ ν…ν”λ¦Ώ: μΈμ¤ν„΄μ¤ λ£¨νΈ λ³Όλ¥¨μ— μ‚¬μ©λλ” ν…ν”λ¦Ώ (ex. μ•„λ§μ΅΄ λ¦¬λ…μ¤2, μ°λ¶„ν¬ λ¦¬λ…μ¤ λ“±)</li>
<li>μΈμ¤ν„΄μ¤ μ‹μ‘ μ„¤μ • κ°’ : μΈμ¤ν„΄μ¤ νƒ€μ…, λ„¤νΈμ›ν¬ μ„¤μ •, μ¤ν† λ¦¬μ§€ κµ¬μ„±</li>
<li>AMI κ¶ν™ κ΄€λ¦¬ μ •λ³΄(Permission): public / private</li>
</ul>
</li>
<li>
<p>λ¦¬μ „ λ‹¨μ„λ΅ μ €μ¥λλ©°, μ‚¬μ©ν•λ ¤λ©΄ λ¦¬μ „μ— AMIκ°€ μ—†μΌλ©΄ λ¦¬μ „ κ°„ λ³µμ‚¬λ¥Ό μ§„ν–‰ν•΄μ”.</p>
</li>
<li>
<p>AMI λ°μ΄ν„° μμ²΄λ” S3μ— μ €μ¥μ΄ λλ©° μ €μ¥ λΉ„μ©μ΄ λ°μƒν•΄μ”.</p>
</li>
<li>
<p>μ‹¤μ  μ‚¬μ©ν•λ” μ‚¬λ΅€λ” μ•„λμ™€ κ°™μ•„μ”:</p>
<ol>
<li>DevOps CI/CD ν™κ²½μ—μ„ κ°λ° ν™κ²½μ΄ μ‚¬μ „ κµ¬μ„±λ AMIλ΅ ν…μ¤νΈ ν™κ²½μ„ κµ¬μ„±ν•΄μ”.</li>
<li>Autu Scalingμ„ ν†µν•΄ λ™μΌν• μ„¤μ •μ„ κ°€μ§„ μΈμ¤ν„΄μ¤λ¥Ό λ³µμ  μƒμ„±ν•΄μ”.</li>
<li>μ‚¬λ‚΄ μ§€μ •λ λ³΄μ• μ†ν”„νΈμ›¨μ–΄κ°€ μ„¤μΉλ AMI μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  λ• μ‚¬μ©ν•΄μ”.</li>
<li>μΈμ¤ν„΄μ¤ μ¥μ•  λ°μƒ μƒν™©μ—μ„ μ‚¬μ „μ— λ°±μ—…ν• μΈμ¤ν„΄μ¤ AMI μ΄μ©ν•μ—¬ μ‹μ¤ν…μ„ λ³µμ›ν•΄μ”.</li>
</ol>
</li>
<li>
<p>AMI μ μΆ…λ¥λ” μ•„λμ™€ κ°™μ΄ μμ–΄μ”:</p>
<ol>
<li>AWS AMI : AWSκ°€ κΈ°λ³Έμ μΌλ΅ μ κ³µν•λ” μ΄λ―Έμ§€μ…λ‹λ‹¤.</li>
<li>Marketplace AMI : third-party venderκ°€ μƒμ„±ν• μ΄λ―Έμ§€μ…λ‹λ‹¤.</li>
<li>Community AMI : aws μ‚¬μ©μκ°€ μƒμ„±ν• μ΄λ―Έμ§€μ΄κ³  μ‚¬μ© μ „ λ³΄μ•κ³Ό μ•μ •μ„± κ²€ν† κ°€ ν•„μμ—μ”.</li>
<li>Sharing AMI : νΉμ • μ‚¬μ©μ κ°„μ— κ³µμ ν•λ” μ΄λ―Έμ§€λ΅, μ΅°μ§ λ‚΄ ν‘μ—…, νΉμ • ν”„λ΅μ νΈμ—μ„ μ‚¬μ©λΌμ”.</li>
</ol>
</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/aws/2025-07-21/img8.png" width="600">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ip">IP<a href="https://indianapoly.github.io/blog/2025/07/21/aws/AWS-basic-1-title#ip" class="hash-link" aria-label="IPμ— λ€ν• μ§μ ‘ λ§ν¬" title="IPμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>public IPλ” μ„λΈλ„·μ— μƒμ„±ν•  λ• μλ™ ν• λ‹Ή λλ” IPμ—μ”. μµκ·Όμ—λ” IPv4 IPκ°―μκ°€ λ¶€μ΅±ν•΄μ„ λμ„ λ°›μ•„μ”.</p>
<p>Elastic IPλ” μκµ¬μ μΈ IPλ΅ μΈμ¤ν„΄μ¤ μ¤‘μ§€ ν›„μ— λ‹¤μ‹ μ‹μ‘ν•΄λ„ κ°™μ€ κ°’μ„ μ μ§€ν•΄μ”.</p>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="AWS" term="AWS"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Grafana + Prometheus + MySQL Exporterλ¥Ό ν™μ©ν• MySQL λ¨λ‹ν„°λ§ μ„¤μ •κΈ°]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title"/>
        <updated>2025-07-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<p>μµκ·Όμ— μΈν”„λΌ κ΄€λ ¨λ μμ—…μ„ μ§„ν–‰ν•λ©΄μ„ λ‚΄ μ¤μ¤λ΅ ν•  μ μλ” ν”„λ΅μ νΈκ°€ λ­”μ§€, μ–΄λ–»κ² ν•λ©΄ μ¤ν”μ†μ¤λ“¤μ„ μ μ‚¬μ©ν•  μ μμ„μ§€ κ³ λ―Όμ„ ν•΄λ³΄μ•μµλ‹λ‹¤. κ·Έ κ²°κ³Ό DBλ¥Ό λ§λ“¤κ³  DBμ— λ°μ΄ν„°κ°€ λ§μ΄ λ°λ¦¬κ² λμ—μ„ λ• κ΄€λ¦¬ν•  μ μλ” νλ¦„μ„ λ§λ“¤λ©΄ μΆ‹κ² λ‹¤ μƒκ°μ„ ν–μµλ‹λ‹¤.</p>
<p>λ”°λΌμ„ MySQLμ„ λ¨λ‹ν„°λ§ν•κΈ° μ„ν•΄ Prometheusμ™€ Grafanaλ¥Ό μ—°λ™ν•΄ λ€μ‹λ³΄λ“λ¥Ό κµ¬μ„±ν•λ” μ‘μ—…μ„ μ§„ν–‰ν–μµλ‹λ‹¤. μ΄ κΈ€μ—μ„λ” κ·Έ μ „μ²΄ κ³Όμ •μ„ μ •λ¦¬ν•΄λ΄¤μ–΄μ”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="οΈ-μ „μ²΄-μ•„ν‚¤ν…μ²">π—οΈ μ „μ²΄ μ•„ν‚¤ν…μ²<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#%EF%B8%8F-%EC%A0%84%EC%B2%B4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98" class="hash-link" aria-label="π—οΈ μ „μ²΄ μ•„ν‚¤ν…μ²μ— λ€ν• μ§μ ‘ λ§ν¬" title="π—οΈ μ „μ²΄ μ•„ν‚¤ν…μ²μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>μ¶”ν›„μ— μΆ€ λ” λ³µμ΅ν• μ•„ν‚¤ν…μ²λ„ λ§μ Έλ³΄λ©΄μ„ κ³„μ†ν•΄μ„ ν™•μ¥ν•΄λ‚κ°€λ³΄λ©΄ μΆ‹μ„κ±° κ°™μ€ μƒκ°μ΄λ“­λ‹λ‹¤!</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MySQL β† mysqld_exporter β†’ Prometheus β†’ Grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  β†‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">phpMyAdmin (κ΄€λ¦¬μ©)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-ν”„λ΅μ νΈ-κµ¬μ΅°">π“ ν”„λ΅μ νΈ κµ¬μ΅°<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0" class="hash-link" aria-label="π“ ν”„λ΅μ νΈ κµ¬μ΅°μ— λ€ν• μ§μ ‘ λ§ν¬" title="π“ ν”„λ΅μ νΈ κµ¬μ΅°μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">grafana/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ provisioning/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β”β”€β”€ dashboards/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β”‚   β””β”€β”€ dashboard.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ datasources/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚       β””β”€β”€ datasource.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ mysql/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ mysql_data/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ mysqld-exporter/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ my.cnf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ prometheus/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ prometheus.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β””β”€β”€ docker-compose.yml</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-docker-compose-μ„¤μ •">π³ Docker Compose μ„¤μ •<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-docker-compose-%EC%84%A4%EC%A0%95" class="hash-link" aria-label="π³ Docker Compose μ„¤μ •μ— λ€ν• μ§μ ‘ λ§ν¬" title="π³ Docker Compose μ„¤μ •μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>μ „μ²΄ μ¤νƒμ„ ν• λ²μ— κ΄€λ¦¬ν•κΈ° μ„ν•΄ λ‹¤μκ³Ό κ°™μ΄ docker-compose.ymlμ„ κµ¬μ„±ν–μ–΄μ”.</p>
<p>λ³Όλ¥¨ μ„¤μ •μ‹ νμΌ μ„μΉ μ‹¤μλ¥Ό λ°©μ§€ν•κΈ° μ„ν•΄μ„ ν•λ‚μ νμΌ λ‚΄μ—μ„ κ΄€λ ¨λ νμΌλ“¤μ„ λ¨λ‘ κ΄€λ¦¬ν•΄μ£Όμ—μµλ‹λ‹¤.(μ΄λ ‡κ² ν•λ‹κΉ ν™•μ‹¤ν μƒλ€κ²½λ΅λ΅ κ΄€λ¦¬ν•κΈ° μ‰½λ‹¤λ” μ μ΄ μΆ‹μ•μµλ‹λ‹¤.) κ·Έλ¦¬κ³  $<!-- -->λ΅ ν‘μ‹ν• λ‚΄μ©μ— λ€ν•΄μ„λ” μ¤‘μ”νμΌμ΄κΈ° λ•λ¬Έμ— .envλ΅ νμΌμ„ μ„¤μ •ν•΄μ£Όμ—μµλ‹λ‹¤. .env νμΌμ— λ€ν• λ‚΄μ©μ€ μ•„λμ— λ³΄λ©΄ ν™•μΈν•  μ μμ–΄μ”.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.8"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./mysql/mysql_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3306:3306"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">phpmyadmin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> phpmyadmin/phpmyadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> phpmyadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">platform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> linux/amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"8080:80"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_HOST</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_PORT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mysqld-exporter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prom/mysqld</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysqld_exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./mysqld</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">exporter/my.cnf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/mysql/my.cnf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">ro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"9104:9104"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"--config.my-cnf=/etc/mysql/my.cnf"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">prometheus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prom/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./prometheus/prometheus.yml</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/prometheus/prometheus.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"9090:9090"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysqld</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">grafana</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> grafana/grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> grafana</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">GF_SECURITY_ADMIN_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">GF_SECURITY_ADMIN_USER</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">GF_SECURITY_ADMIN_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">GF_SECURITY_ADMIN_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./grafana/provisioning/dashboards</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/grafana/provisioning/dashboards</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./grafana/provisioning/datasources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/grafana/provisioning/datasources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3000:3000"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mysql_data</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre></div></div>
<p>.env μ„¤μ • νμΌμ΄μ—μ”. MYSQLμ—μ„ rootλ΅ μ ‘κ·Όν•  λ• μ‚¬μ©ν•  μ μλ” passwordμ™€ μ‚¬μ©ν•  databaseλ¥Ό μ§€μ •μ„ ν•΄μ¤λ‹λ‹¤. Grafanaμ™€ κ°™μ€ κ²½μ°μ—λ” λΉ„λ°€λ²νΈλ¥Ό μ„¤μ •ν•΄μ£Όμ§€ μ•μΌλ©΄ μ•„μ΄λ””μ™€ λΉ„λ°€λ²νΈκ°€ adminμΌλ΅ μ„¤μ •μ΄ λμ–΄μμ–΄μ”. κ·Έλ¦¬κ³  λΉ„λ°€λ²νΈλ¥Ό λ³€κ²½ν•λΌλ” λ©”μ„Έμ§€κ°€ λ‚μ¤λ”λ° docker μ»¨ν…μ΄λ„λ¥Ό λ‚΄λ¦¬κ³  λ‹¤μ‹ μ‹¤ν–‰μ„ ν•κ² λλ©΄ κ³„μ†ν•΄μ„ λΉ„λ°€λ²νΈλ¥Ό μ„¤μ •ν•λΌλ” μ°½μ΄ λ‚μ™€μ„ μ„¤μ •ν•΄μ£Όλ”κ² νΈν–μµλ‹λ‹¤.</p>
<div class="language-.env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-.env codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_ROOT_PASSWORD=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_DATABASE=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GF_SECURITY_ADMIN_USER=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GF_SECURITY_ADMIN_PASSWORD=</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-μ£Όμ”-μ„¤μ •-νμΌλ“¤">π”§ μ£Όμ” μ„¤μ • νμΌλ“¤<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%EC%A3%BC%EC%9A%94-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC%EB%93%A4" class="hash-link" aria-label="π”§ μ£Όμ” μ„¤μ • νμΌλ“¤μ— λ€ν• μ§μ ‘ λ§ν¬" title="π”§ μ£Όμ” μ„¤μ • νμΌλ“¤μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-mysqld_exporter-μ„¤μ •-mycnf">1. mysqld_exporter μ„¤μ • (my.cnf)<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#1-mysqld_exporter-%EC%84%A4%EC%A0%95-mycnf" class="hash-link" aria-label="1. mysqld_exporter μ„¤μ • (my.cnf)μ— λ€ν• μ§μ ‘ λ§ν¬" title="1. mysqld_exporter μ„¤μ • (my.cnf)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ—¬κΈ°μ„ μ¤‘μ”ν• μ μ€ userμ™€ passwordλ” λ‚΄κ°€ μ ‘κ·Όν•κ³ μν•λ” mysqlμ λ‚΄μ©μ΄μ–΄μ•Ό λΌμ”. μ¦‰ userμ— exporterκ°€ μ„¤μ •μ΄ λμ–΄ μμ§€ μ•μΌλ©΄ access deniedκ°€ μ„¤μ •μ΄ λ  μ μμ–΄μ”. μ΄λ¥Ό μ μν•΄μ„ μ‘μ„±ν•΄μ£Όμ–΄μ•Ό ν•΄μ”. μ•„λ λ‚΄μ©μ—μ„ μ΄μ™€ κ΄€λ ¨λ λ¬Έμ  ν•΄κ²°μ„ μ μ–΄λ‘μ—μµλ‹λ‹¤.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[client]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user=exporter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password=exporter_password</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-prometheus-μ„¤μ •-prometheusyml">2. Prometheus μ„¤μ • (prometheus.yml)<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#2-prometheus-%EC%84%A4%EC%A0%95-prometheusyml" class="hash-link" aria-label="2. Prometheus μ„¤μ • (prometheus.yml)μ— λ€ν• μ§μ ‘ λ§ν¬" title="2. Prometheus μ„¤μ • (prometheus.yml)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>Prometheusκ°€ νƒ€κ²μΌλ΅ ν•λ” mysqld-expoertλ¥Ό μ„¤μ •μ„ ν•΄μ£Όμ–΄μ•Ό ν•©λ‹λ‹¤.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scrape_interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">scrape_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"mysqld-exporter"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">static_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"mysqld-exporter:9104"</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-grafana-λ°μ΄ν„°μ†μ¤-μλ™-μ„¤μ •-datasourceyml">3. Grafana λ°μ΄ν„°μ†μ¤ μλ™ μ„¤μ • (datasource.yml)<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#3-grafana-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%86%8C%EC%8A%A4-%EC%9E%90%EB%8F%99-%EC%84%A4%EC%A0%95-datasourceyml" class="hash-link" aria-label="3. Grafana λ°μ΄ν„°μ†μ¤ μλ™ μ„¤μ • (datasource.yml)μ— λ€ν• μ§μ ‘ λ§ν¬" title="3. Grafana λ°μ΄ν„°μ†μ¤ μλ™ μ„¤μ • (datasource.yml)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>Grafanaλ¥Ό μ²μ μ‹¤ν–‰μ„ ν•κ² λλ©΄ data sourceλ¥Ό μ •ν•λ” κ³Όμ •μ΄ μμµλ‹λ‹¤. μ΄ κ³Όμ •μ„ ν•μ§€ μ•μΌλ©΄ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤μ§€ μ•κΈ° λ•λ¬Έμ— λ‹Ήμ—°ν λ€μ‹λ³΄λ“κ°€ μ •μƒμ μΌλ΅ λ§λ“¤μ–΄μ§€μ§€ μ•μ•„μ”. μ•„λ νμΌμ„ μ„¤μ •μ„ ν•΄μ£Όλ©΄ Grafanaκ°€ μ‹¤ν–‰ν•  λ• μλ™μΌλ΅ Prometheusλ¥Ό μ„¤μ •ν•΄μ¤λ‹λ‹¤.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">datasources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">access</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//prometheus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9090</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">isDefault</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-μ£Όμ”-λ¬Έμ λ“¤κ³Ό-ν•΄κ²°μ±…">π¨ μ£Όμ” λ¬Έμ λ“¤κ³Ό ν•΄κ²°μ±…<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%EC%A3%BC%EC%9A%94-%EB%AC%B8%EC%A0%9C%EB%93%A4%EA%B3%BC-%ED%95%B4%EA%B2%B0%EC%B1%85" class="hash-link" aria-label="π¨ μ£Όμ” λ¬Έμ λ“¤κ³Ό ν•΄κ²°μ±…μ— λ€ν• μ§μ ‘ λ§ν¬" title="π¨ μ£Όμ” λ¬Έμ λ“¤κ³Ό ν•΄κ²°μ±…μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-mysqld_exporter-access-denied-λ¬Έμ -ν•΄κ²°">1. mysqld_exporter <code>access denied</code> λ¬Έμ  ν•΄κ²°<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#1-mysqld_exporter-access-denied-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0" class="hash-link" aria-label="1-mysqld_exporter-access-denied-λ¬Έμ -ν•΄κ²°μ— λ€ν• μ§μ ‘ λ§ν¬" title="1-mysqld_exporter-access-denied-λ¬Έμ -ν•΄κ²°μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p><strong>λ¬Έμ </strong>: mysqld_exporter μ‹¤ν–‰ μ‹ λ‹¤μ μ¤λ¥ λ°μƒ</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ERROR] Access denied for user 'exporter'@'localhost'</span><br></span></code></pre></div></div>
<p><strong>ν•΄κ²°μ±…</strong>:</p>
<p>exporterκ°€ μ ‘κ·Όν•  userμ™€ ν•΄λ‹Ή userμ passwordλ¥Ό my.cnfμ— μ μ„¤μ • ν•΄μ£Όλ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤. my.cnfμ— exporterλ¥Ό μ„¤μ •μ„ ν•΄λ‘μ—λ”λ° mysql userμ— exporterκ°€ μ—†λ‹¤λ©΄ λ‹Ήμ—°ν μ—λ¬κ°€ λ‚μ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-grafanaμ—μ„-prometheus-μ—°κ²°-μ‹¤ν¨">2. Grafanaμ—μ„ Prometheus μ—°κ²° μ‹¤ν¨<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#2-grafana%EC%97%90%EC%84%9C-prometheus-%EC%97%B0%EA%B2%B0-%EC%8B%A4%ED%8C%A8" class="hash-link" aria-label="2. Grafanaμ—μ„ Prometheus μ—°κ²° μ‹¤ν¨μ— λ€ν• μ§μ ‘ λ§ν¬" title="2. Grafanaμ—μ„ Prometheus μ—°κ²° μ‹¤ν¨μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p><strong>λ¬Έμ </strong>: Grafanaμ—μ„ <code>http://localhost:9090</code>μΌλ΅ μ„¤μ •ν–λ”λ‹ μ—°κ²° μ‹¤ν¨</p>
<p><strong>ν•΄κ²°μ±…</strong>: λ„μ»¤ μ»¨ν…μ΄λ„ ν™κ²½μ—μ„λ” μ„λΉ„μ¤ μ΄λ¦„μΌλ΅ μ ‘κ·Όν•λ” κ²ƒμ΄ ν•µμ‹¬μ΄μ—μµλ‹λ‹¤.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">β http://localhost:9090</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β… http://prometheus:9090</span><br></span></code></pre></div></div>
<p><strong>μ΄μ </strong>: λ„μ»¤ μ»¨ν…μ΄λ„μ—μ„ <code>localhost</code>λ” μκΈ° μμ‹ (μ»¨ν…μ΄λ„ λ‚΄λ¶€)μ„ μλ―Έν•λ―€λ΅, κ°™μ€ λ„¤νΈμ›ν¬ λ‚΄μ λ‹¤λ¥Έ μ»¨ν…μ΄λ„μ— μ ‘κ·Όν•  λ•λ” μ„λΉ„μ¤λ…μ„ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-grafana-μ„¤μ •-μλ™ν™”">3. Grafana μ„¤μ • μλ™ν™”<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#3-grafana-%EC%84%A4%EC%A0%95-%EC%9E%90%EB%8F%99%ED%99%94" class="hash-link" aria-label="3. Grafana μ„¤μ • μλ™ν™”μ— λ€ν• μ§μ ‘ λ§ν¬" title="3. Grafana μ„¤μ • μλ™ν™”μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>2λ²κ³Ό κ°™μ΄ μλ™ μ„¤μ •μΌλ΅ μ„¤μ •ν•λ” κ³Όμ •μ— μμ–΄μ„ λ¬Έμ κ°€ λ°μƒν•  μλ„ μκ³ , μ»¨ν…μ΄λ„κ°€ down λ μƒνƒμ—μ„ λ‹¤μ‹ μ‹¤ν–‰μ„ ν•λ‹¤λ©΄ λ§¤λ² ν•΄μ£Όλ” κ³Όμ •μ΄ κ·€μ°®μ•„μ§ μ μμ–΄ data sourceλ¥Ό μλ™ν™” ν•΄μ¤„ μ μμµλ‹λ‹¤.</p>
<p><code>provisioning</code> λ””λ ‰ν„°λ¦¬λ¥Ό ν™μ©ν• μλ™ν™” κµ¬ν„:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./grafana/provisioning/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ dashboards/     # λ€μ‹λ³΄λ“ μλ™ λ΅λ”©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β””β”€β”€ datasources/    # λ°μ΄ν„°μ†μ¤ μλ™ μ„¤μ •</span><br></span></code></pre></div></div>
<p>μ΄λ ‡κ² ν•λ©΄ μ»¨ν…μ΄λ„ μ΄κΈ° μ‹¤ν–‰ μ‹ λ¨λ“  μ„¤μ •μ΄ μλ™μΌλ΅ μ μ©λ¨</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-phpmyadmin-μ¶”κ°€λ΅-κ΄€λ¦¬-νΈμμ„±-ν–¥μƒ">4. phpMyAdmin μ¶”κ°€λ΅ κ΄€λ¦¬ νΈμμ„± ν–¥μƒ<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#4-phpmyadmin-%EC%B6%94%EA%B0%80%EB%A1%9C-%EA%B4%80%EB%A6%AC-%ED%8E%B8%EC%9D%98%EC%84%B1-%ED%96%A5%EC%83%81" class="hash-link" aria-label="4. phpMyAdmin μ¶”κ°€λ΅ κ΄€λ¦¬ νΈμμ„± ν–¥μƒμ— λ€ν• μ§μ ‘ λ§ν¬" title="4. phpMyAdmin μ¶”κ°€λ΅ κ΄€λ¦¬ νΈμμ„± ν–¥μƒμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>ν„°λ―Έλ„ κΈ°λ° MySQL κ΄€λ¦¬μ λ¶νΈν•¨μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ phpMyAdmin μ¶”κ°€ν–μ–΄μ”.:</p>
<ul>
<li>ν¬νΈ: 8080 (λ³΄ν†µ μ μ‚¬μ©ν•κΈ° λ•λ¬Έμ— docker ps -a λ¥Ό ν™μ©ν•΄μ„ ν•΄λ‹Ή ν¬νΈλ¥Ό μ΅κ³  μλ” μ»¨ν…μ΄λ„κ°€ μλ”μ§€ ν™•μΈν•΄μ£Όμ–΄μ•Ό ν•΄μ”.)</li>
<li>μ‹κ°μ  ν…μ΄λΈ” κ΄€λ¦¬</li>
<li>μ‚¬μ©μ κ¶ν• μ„¤μ • κ°„νΈν™”</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-grafana-mysql-overview-dashboard-λ°μ΄ν„°-ν‘μ‹-λ¬Έμ ">5. Grafana MySQL Overview Dashboard λ°μ΄ν„° ν‘μ‹ λ¬Έμ <a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#5-grafana-mysql-overview-dashboard-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%91%9C%EC%8B%9C-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="5. Grafana MySQL Overview Dashboard λ°μ΄ν„° ν‘μ‹ λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬" title="5. Grafana MySQL Overview Dashboard λ°μ΄ν„° ν‘μ‹ λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p><strong>λ¬Έμ </strong>: λ¨λ“  ν¨λ„μ΄ <code>No data</code> ν‘μ‹</p>
<p><strong>μ›μΈ</strong>: ν…ν”λ¦Ώ λ³€μμ™€ μΏΌλ¦¬ κ°„ μ—°λ™ λ¬Έμ κ°€ μμ—μ–΄μ”.</p>
<ul>
<li><code>$host</code> λ³€μ μ„¤μ • μ¤λ¥κ°€ μμ–΄ prometheusλ΅ λ¶€ν„° λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μ¤μ§€ λ»ν•΄μ„ No dataκ°€ λ³΄μ€μ–΄μ”.</li>
</ul>
<p><strong>ν•΄κ²°μ±…</strong>:</p>
<ol>
<li>
<p><strong>$host λ³€μ μ¬μ„¤μ •</strong>:</p>
<ul>
<li>Query type: <code>Label values</code></li>
<li>Metric: <code>mysql_global_status_threads_connected</code></li>
<li>Label: <code>instance</code></li>
</ul>
</li>
<li>
<p><strong>λ³€μ μƒλ΅κ³ μΉ¨ μ„¤μ •</strong>:</p>
<ul>
<li><code>On dashboard load</code>λ΅ μ„¤μ •</li>
<li>λλ” ν¨λ„μ—μ„ μλ™ <code>Run query</code> μ‹¤ν–‰</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-μµμΆ…-κµ¬μ„±-κ²°κ³Ό">π“ μµμΆ… κµ¬μ„± κ²°κ³Ό<a href="https://indianapoly.github.io/blog/2025/07/20/docker/MYSQL-monioring-setting-title#-%EC%B5%9C%EC%A2%85-%EA%B5%AC%EC%84%B1-%EA%B2%B0%EA%B3%BC" class="hash-link" aria-label="π“ μµμΆ… κµ¬μ„± κ²°κ³Όμ— λ€ν• μ§μ ‘ λ§ν¬" title="π“ μµμΆ… κµ¬μ„± κ²°κ³Όμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p><a href="https://github.com/indianaPoly/mysql-monitoring" target="_blank" rel="noopener noreferrer">μ „μ²΄ μ½”λ“ λ³΄λ¬ κ°λμ”</a></p>
<p>μ„¤μ • μ™„λ£ ν›„ Grafana λ€μ‹λ³΄λ“μ—μ„ μ‹¤μ‹κ°„μΌλ΅ ν™•μΈ κ°€λ¥ν• μ§€ν‘λ“¤μ€ μ•„λμ™€ κ°™μ•„μ”:</p>
<ul>
<li><strong>MySQL Uptime</strong>: μ„λ²„ κ°€λ™ μ‹κ°„</li>
<li><strong>Threads Connected/Running</strong>: μ—°κ²°λ μ¤λ λ“ μ</li>
<li><strong>QPS (Queries per Second)</strong>: μ΄λ‹Ή μΏΌλ¦¬ μ</li>
<li><strong>InnoDB Buffer Pool</strong>: λ²„νΌ ν’€ μ‚¬μ©λ‰</li>
<li><strong>Connections</strong>: μ—°κ²° μƒνƒ</li>
<li><strong>Table Locks</strong>: ν…μ΄λΈ” μ κΈ ν„ν™©</li>
<li><strong>Thread Cache</strong>: μ¤λ λ“ μΊμ‹ μƒνƒ</li>
</ul>
<p>λ€μ‹λ³΄λ“ μƒλ΅κ³ μΉ¨ κ°„κ²©μ„ <code>5μ΄</code>λ΅ μ„¤μ •ν•μ—¬ μ‹¤μ‹κ°„μ— κ°€κΉμ΄ λ¨λ‹ν„°λ§ ν™κ²½ κµ¬μ¶•ν•  μ μμ—μµλ‹λ‹¤! μ•„λλ” κµ¬μ„± ν›„ κ²°κ³Όλ¬Όμ…λ‹λ‹¤.</p>
<img src="https://indianapoly.github.io/img/blog/docker/2025-07-20/img1.png" width="600">]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Docker" term="Docker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[TerraformμΌλ΅ EKS λ°°ν¬ μ‹ λ°μƒν•λ” λ¦¬μ†μ¤ μ¶©λ ν•΄κ²° κ°€μ΄λ“]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title"/>
        <updated>2025-07-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-λ¬Έμ -μƒν™©">π¨ λ¬Έμ  μƒν™©<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9" class="hash-link" aria-label="π¨ λ¬Έμ  μƒν™©μ— λ€ν• μ§μ ‘ λ§ν¬" title="π¨ λ¬Έμ  μƒν™©μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>TerraformμΌλ΅ EKS ν΄λ¬μ¤ν„°λ¥Ό λ°°ν¬ν•λ μ¤‘ λ‹¤μκ³Ό κ°™μ€ μ¤λ¥λ“¤μ΄ μ—°μ†μΌλ΅ λ°μƒν–μ–΄μ”:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating EC2 EIP: operation error EC2: AllocateAddress,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 400, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api error AddressLimitExceeded: The maximum number of addresses has been reached.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating KMS Alias (alias/eks/cwave): operation error KMS: CreateAlias,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 400, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AlreadyExistsException: An alias with the name arn:aws:kms:ap-northeast-2:368677659737:alias/eks/cwave already exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating EKS Cluster (cwave): operation error EKS: CreateCluster,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 409, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ResourceInUseException: Cluster already exists with name: cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error: creating IAM Role (efs-csi): operation error IAM: CreateRole,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https response error StatusCode: 409, RequestID: &lt;requiest id&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EntityAlreadyExists: Role with name efs-csi already exists.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-λ¬Έμ -μ›μΈ-λ¶„μ„">π” λ¬Έμ  μ›μΈ λ¶„μ„<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EB%AC%B8%EC%A0%9C-%EC%9B%90%EC%9D%B8-%EB%B6%84%EC%84%9D" class="hash-link" aria-label="π” λ¬Έμ  μ›μΈ λ¶„μ„μ— λ€ν• μ§μ ‘ λ§ν¬" title="π” λ¬Έμ  μ›μΈ λ¶„μ„μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="κ·Όλ³Έ-μ›μΈ-κ°λ°-ν™κ²½-νΌλ™μΌλ΅-μΈν•-λ¦¬μ†μ¤-μ¤‘λ³µ">κ·Όλ³Έ μ›μΈ: κ°λ° ν™κ²½ νΌλ™μΌλ΅ μΈν• λ¦¬μ†μ¤ μ¤‘λ³µ<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#%EA%B7%BC%EB%B3%B8-%EC%9B%90%EC%9D%B8-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%ED%98%BC%EB%8F%99%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A4%91%EB%B3%B5" class="hash-link" aria-label="κ·Όλ³Έ μ›μΈ: κ°λ° ν™κ²½ νΌλ™μΌλ΅ μΈν• λ¦¬μ†μ¤ μ¤‘λ³µμ— λ€ν• μ§μ ‘ λ§ν¬" title="κ·Όλ³Έ μ›μΈ: κ°λ° ν™κ²½ νΌλ™μΌλ΅ μΈν• λ¦¬μ†μ¤ μ¤‘λ³µμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p><strong>μ‹¤μ  λ°μƒ κ³Όμ •:</strong></p>
<ol>
<li>κ°λ° ν™κ²½μ— <code>local</code>κ³Ό <code>aws</code> λ‘ κ°μ ν΄λ”κ°€ μ΅΄μ¬</li>
<li>μ§€κΈκΉμ§€ local ν™κ²½κ³Ό aws ν™κ²½μ„ μ°©κ°ν•΄μ„ κ°λ°μ„ μ§„ν–‰</li>
<li>local ν™κ²½μ—μ„ μƒμ„±ν• Terraform λ¦¬μ†μ¤λ¥Ό μ •ν™•ν•κ² μ‚­μ ν•μ§€ μ•μ</li>
<li>aws ν΄λ”λ΅ μ΄λ™ν•΄μ„ λ‹¤μ‹ <code>terraform apply</code>λ¥Ό μ‹λ„</li>
<li><strong>κ²°κ³Ό</strong>: λ™μΌν• λ¦¬μ†μ¤λ…μΌλ΅ μΈν• μ¤‘λ³µ μƒμ„± μ‹λ„λ΅ μ¶©λ λ°μƒν–μ–΄μ”</li>
</ol>
<p><strong>ν΄λ” κµ¬μ΅° μμ‹:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ local/          # λ΅μ»¬ κ°λ°μ© (κΈ°μ΅΄ λ¦¬μ†μ¤ μ”μ΅΄)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β”β”€β”€ main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ terraform.tfstate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β””β”€β”€ aws/            # AWS ν™κ²½μ© (μƒλ΅ λ°°ν¬ μ‹λ„)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    β”β”€β”€ main.tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    β””β”€β”€ terraform.tfstate</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="μ„Έλ¶€-μ›μΈλ“¤">μ„Έλ¶€ μ›μΈλ“¤<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#%EC%84%B8%EB%B6%80-%EC%9B%90%EC%9D%B8%EB%93%A4" class="hash-link" aria-label="μ„Έλ¶€ μ›μΈλ“¤μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ„Έλ¶€ μ›μΈλ“¤μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-eip-ν•λ„-μ΄κ³Ό-λ¬Έμ ">1. EIP ν•λ„ μ΄κ³Ό λ¬Έμ <a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#1-eip-%ED%95%9C%EB%8F%84-%EC%B4%88%EA%B3%BC-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="1. EIP ν•λ„ μ΄κ³Ό λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬" title="1. EIP ν•λ„ μ΄κ³Ό λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h4>
<p>AWS κ³„μ •λ‹Ή EIP(Elastic IP) ν• λ‹Ή ν•λ„κ°€ μκ³  μ κ°€ ν™•μΈν–μ„ λ•λ” 5κ°κ°€ ν• λ‹Ή ν•λ„κ°€ μμ—μ–΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ν„μ¬ EIP μ‚¬μ©λ‰ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-λ¦¬μ†μ¤-μ¤‘λ³µ-λ¬Έμ ">2. λ¦¬μ†μ¤ μ¤‘λ³µ λ¬Έμ <a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#2-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A4%91%EB%B3%B5-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="2. λ¦¬μ†μ¤ μ¤‘λ³µ λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬" title="2. λ¦¬μ†μ¤ μ¤‘λ³µ λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h4>
<p>EKS ν΄λ¬μ¤ν„°λ¥Ό μ‚­μ ν–μ§€λ§ κ΄€λ ¨ λ¦¬μ†μ¤λ“¤(IAM μ—­ν• , KMS λ³„μΉ­ λ“±)μ€ μλ™μΌλ΅ μ‚­μ λμ§€ μ•μ•μ–΄μ”.</p>
<p><strong>μ™ μ΄λ° μΌμ΄ λ°μƒν•λ”κ°€?</strong></p>
<ul>
<li>EKS ν΄λ¬μ¤ν„° μ‚­μ  μ‹ <strong>IAM μ—­ν• μ€ μλ™μΌλ΅ μ‚­μ λμ§€ μ•μ•„μ”.</strong></li>
<li>KMS λ³„μΉ­λ„ λ§μ°¬κ°€μ§€λ΅ μλ™ μ‚­μ κ°€ ν•„μ”ν•΄μ”.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-terraform-μƒνƒ-νμΌ-λ¶„λ¦¬λ΅-μΈν•-λ¬Έμ ">3. Terraform μƒνƒ νμΌ λ¶„λ¦¬λ΅ μΈν• λ¬Έμ <a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#3-terraform-%EC%83%81%ED%83%9C-%ED%8C%8C%EC%9D%BC-%EB%B6%84%EB%A6%AC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EB%AC%B8%EC%A0%9C" class="hash-link" aria-label="3. Terraform μƒνƒ νμΌ λ¶„λ¦¬λ΅ μΈν• λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬" title="3. Terraform μƒνƒ νμΌ λ¶„λ¦¬λ΅ μΈν• λ¬Έμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h4>
<ul>
<li><code>local/terraform.tfstate</code>μ™€ <code>aws/terraform.tfstate</code>κ°€ κ°κ° κ΄€λ¦¬λΌμ”.</li>
<li>μ‹¤μ  AWS λ¦¬μ†μ¤λ” λ™μΌν•μ§€λ§ Terraform μƒνƒλ” λ¶„λ¦¬λμ–΄ μμ–΄μ”.</li>
<li>μƒλ΅μ΄ ν΄λ”μ—μ„ λ°°ν¬ μ‹ κΈ°μ΅΄ λ¦¬μ†μ¤λ¥Ό μΈμ‹ν•μ§€ λ»ν•λ” λ¬Έμ κ°€ μλ” κ²ƒμ„ νμ•…ν–μ–΄μ”.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="οΈ-ν•΄κ²°-κ³Όμ •">π› οΈ ν•΄κ²° κ³Όμ •<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#%EF%B8%8F-%ED%95%B4%EA%B2%B0-%EA%B3%BC%EC%A0%95" class="hash-link" aria-label="π› οΈ ν•΄κ²° κ³Όμ •μ— λ€ν• μ§μ ‘ λ§ν¬" title="π› οΈ ν•΄κ²° κ³Όμ •μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1λ‹¨κ³„-eip-μ‚¬μ©λ‰-ν™•μΈ-λ°-λ¶„μ„">1λ‹¨κ³„: EIP μ‚¬μ©λ‰ ν™•μΈ λ° λ¶„μ„<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#1%EB%8B%A8%EA%B3%84-eip-%EC%82%AC%EC%9A%A9%EB%9F%89-%ED%99%95%EC%9D%B8-%EB%B0%8F-%EB%B6%84%EC%84%9D" class="hash-link" aria-label="1λ‹¨κ³„: EIP μ‚¬μ©λ‰ ν™•μΈ λ° λ¶„μ„μ— λ€ν• μ§μ ‘ λ§ν¬" title="1λ‹¨κ³„: EIP μ‚¬μ©λ‰ ν™•μΈ λ° λ¶„μ„μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># EIP λ©λ΅κ³Ό μ—°κ²° μƒνƒ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2 --output table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># κ° EIPκ°€ λ¬΄μ—‡μ— μ—°κ²°λμ–΄ μλ”μ§€ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-network-interfaces --region ap-northeast-2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network-interface-ids eni-xxxx eni-yyyy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query 'NetworkInterfaces[*].{NetworkInterfaceId:NetworkInterfaceId,Description:Description,Status:Status}'</span><br></span></code></pre></div></div>
<p><strong>κ²°κ³Ό λ¶„μ„:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"NetworkInterfaceId"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"eni-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"Description"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Interface for NAT Gateway nat-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"Status"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"in-use"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ... 5κ°μ EIPκ°€ λ¨λ‘ NAT Gatewayμ— μ—°κ²°λ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2λ‹¨κ³„-terraform-μƒνƒ-ν™•μΈ">2λ‹¨κ³„: Terraform μƒνƒ ν™•μΈ<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#2%EB%8B%A8%EA%B3%84-terraform-%EC%83%81%ED%83%9C-%ED%99%95%EC%9D%B8" class="hash-link" aria-label="2λ‹¨κ³„: Terraform μƒνƒ ν™•μΈμ— λ€ν• μ§μ ‘ λ§ν¬" title="2λ‹¨κ³„: Terraform μƒνƒ ν™•μΈμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ν„μ¬ Terraformμ—μ„ κ΄€λ¦¬ν•λ” EIP ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan | grep eip</span><br></span></code></pre></div></div>
<p><strong>κ²°κ³Ό:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws_eip.nat["c"]: Refreshing state... [id=eipalloc-id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws_eip.nat["a"]: Refreshing state... [id=eipalloc-id]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># aws_eip.nat["b"] will be created &lt;- μ΄ λ¶€λ¶„μ΄ λ¬Έμ !</span><br></span></code></pre></div></div>
<p><strong>λ°κ²¬ν• λ¬Έμ μ :</strong></p>
<ul>
<li><code>nat["a"]</code>μ™€ <code>nat["c"]</code>λ” μ΄λ―Έ Terraform μƒνƒμ— μ΅΄μ¬ν•΄μ”.</li>
<li><code>nat["b"]</code>λ§ μƒλ΅ μƒμ„±ν•λ ¤κ³  ν•΄μ„ EIP ν•λ„ μ΄κ³Ό λ°μƒκ°€ λ°μƒν–μ–΄μ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3λ‹¨κ³„-eip-λ¬Έμ -ν•΄κ²°">3λ‹¨κ³„: EIP λ¬Έμ  ν•΄κ²°<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#3%EB%8B%A8%EA%B3%84-eip-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0" class="hash-link" aria-label="3λ‹¨κ³„: EIP λ¬Έμ  ν•΄κ²°μ— λ€ν• μ§μ ‘ λ§ν¬" title="3λ‹¨κ³„: EIP λ¬Έμ  ν•΄κ²°μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p><strong>λ°©λ²• 1: κΈ°μ΅΄ EIP μ¬μ‚¬μ©</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># μ‚¬μ© κ°€λ¥ν• EIP ν™•μΈ (a, cκ°€ μ•„λ‹ κ²ƒλ“¤)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># eipalloc-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># νΉμ • EIPκ°€ μ–΄λ–¤ NAT Gatewayμ— μ—°κ²°λμ–΄ μλ”μ§€ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-nat-gateways --region ap-northeast-2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --query 'NatGateways[?NatGatewayAddresses[0].AllocationId==`eipalloc-id`].{NatGatewayId:NatGatewayId,State:State}'</span><br></span></code></pre></div></div>
<p><strong>κ²°κ³Ό:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"NatGatewayId"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nat-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"State"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"deleted"</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// μ΄λ―Έ μ‚­μ λ¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"NatGatewayId"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nat-id"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"State"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"available"</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// μ‚¬μ© μ¤‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>ν•΄κ²° λ‹¨κ³„:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. μ‚¬μ© μ¤‘μΈ NAT Gateway μ‚­μ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 delete-nat-gateway --nat-gateway-id nat-id --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. μ‚­μ  μ™„λ£ λ€κΈ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-nat-gateways --region ap-northeast-2 --nat-gateway-ids nat-id --query 'NatGateways[0].State'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. ν•΄μ λ EIPλ¥Ό TerraformμΌλ΅ κ°€μ Έμ¤κΈ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import 'aws_eip.nat["b"]' eipalloc-id</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4λ‹¨κ³„-κΈ°μ΅΄-λ¦¬μ†μ¤-import">4λ‹¨κ³„: κΈ°μ΅΄ λ¦¬μ†μ¤ Import<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#4%EB%8B%A8%EA%B3%84-%EA%B8%B0%EC%A1%B4-%EB%A6%AC%EC%86%8C%EC%8A%A4-import" class="hash-link" aria-label="4λ‹¨κ³„: κΈ°μ΅΄ λ¦¬μ†μ¤ Importμ— λ€ν• μ§μ ‘ λ§ν¬" title="4λ‹¨κ³„: κΈ°μ΅΄ λ¦¬μ†μ¤ Importμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># EKS ν΄λ¬μ¤ν„° κ°€μ Έμ¤κΈ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.eks.aws_eks_cluster.this[0] cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># KMS λ³„μΉ­ κ°€μ Έμ¤κΈ° (λ”°μ΄ν‘ μ£Όμ!)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import 'module.eks.module.kms.aws_kms_alias.this["cluster"]' alias/eks/cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># IAM μ—­ν• λ“¤ κ°€μ Έμ¤κΈ°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.attach_efs_csi_role.aws_iam_role.this[0] efs-csi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.ebs_csi_irsa.aws_iam_role.this[0] cwave-ebs-csi-controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import module.lb_controller_role.aws_iam_role.this[0] eks-aws-lb-controller-role</span><br></span></code></pre></div></div>
<p><strong>Import μ‹ μ£Όμμ‚¬ν•­:</strong></p>
<ul>
<li>μΈλ±μ¤κ°€ μλ” λ¦¬μ†μ¤λ” λ”°μ΄ν‘λ΅ κ°μ‹Έμ£Όλ” κ²ƒμ΄ μ¤‘μ”ν•΄μ”.</li>
<li>μ •ν™•ν• λ¦¬μ†μ¤ μ΄λ¦„κ³Ό ID ν™•μΈ ν•„μμ…λ‹λ‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5λ‹¨κ³„-terraform-μ μ©">5λ‹¨κ³„: Terraform μ μ©<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#5%EB%8B%A8%EA%B3%84-terraform-%EC%A0%81%EC%9A%A9" class="hash-link" aria-label="5λ‹¨κ³„: Terraform μ μ©μ— λ€ν• μ§μ ‘ λ§ν¬" title="5λ‹¨κ³„: Terraform μ μ©μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># κ³„ν ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># λ¬Έμ μ—†μΌλ©΄ μ μ©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-kubectl-μ—°κ²°-λ¬Έμ -ν•΄κ²°">π”§ kubectl μ—°κ²° λ¬Έμ  ν•΄κ²°<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#-kubectl-%EC%97%B0%EA%B2%B0-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0" class="hash-link" aria-label="π”§ kubectl μ—°κ²° λ¬Έμ  ν•΄κ²°μ— λ€ν• μ§μ ‘ λ§ν¬" title="π”§ kubectl μ—°κ²° λ¬Έμ  ν•΄κ²°μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>λ°°ν¬ μ™„λ£ ν›„ kubectl λ…λ Ήμ–΄ μ‹¤ν–‰ μ‹ DNS μ¤λ¥ λ°μƒ:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Error: dial tcp: lookup .gr7.ap-northeast-2.eks.amazonaws.com on 127.0.0.11:53: no such host</span><br></span></code></pre></div></div>
<p><strong>ν•΄κ²° λ°©λ²•:</strong></p>
<p>μ—…λ°μ΄ν„°λ¥Ό μƒλ΅ ν•΄μ¤μΌλ΅μ¨ κΈ°μ΅΄ contextλ¥Ό switchλ¥Ό μ§„ν–‰ν•΄μ£Όλ©΄ μ •μƒμ μΌλ΅ λ™μ‘ν•λ” κ²ƒμ„ ν™•μΈν•  μ μμ–΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># kubeconfig μ—…λ°μ΄νΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws eks update-kubeconfig --region ap-northeast-2 --name cwave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># μ—°κ²° ν…μ¤νΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -A</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-κµν›-λ°-μλ°©-λ°©λ²•">π“ κµν› λ° μλ°© λ°©λ²•<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EA%B5%90%ED%9B%88-%EB%B0%8F-%EC%98%88%EB%B0%A9-%EB%B0%A9%EB%B2%95" class="hash-link" aria-label="π“ κµν› λ° μλ°© λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬" title="π“ κµν› λ° μλ°© λ°©λ²•μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-κ°λ°-ν™κ²½-κ΄€λ¦¬-μ›μΉ™">1. κ°λ° ν™κ²½ κ΄€λ¦¬ μ›μΉ™<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#1-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EA%B4%80%EB%A6%AC-%EC%9B%90%EC%B9%99" class="hash-link" aria-label="1. κ°λ° ν™κ²½ κ΄€λ¦¬ μ›μΉ™μ— λ€ν• μ§μ ‘ λ§ν¬" title="1. κ°λ° ν™κ²½ κ΄€λ¦¬ μ›μΉ™μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li><strong>ν™κ²½λ³„ ν΄λ” λ¶„λ¦¬ μ‹ λ…ν™•ν• λ„¤μ΄λ° μ‚¬μ©</strong></li>
<li><strong>ν„μ¬ μ‘μ—… μ¤‘μΈ ν™κ²½μ„ ν•­μƒ ν™•μΈ</strong></li>
<li><strong>ν™κ²½ μ „ν™ μ‹ κΈ°μ΅΄ λ¦¬μ†μ¤ μ •λ¦¬ ν›„ μ§„ν–‰</strong></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ν™κ²½ ν™•μΈ μµκ΄€ν™”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pwd                    # ν„μ¬ μ‘μ—… λ””λ ‰ν„°λ¦¬ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace show  # Terraform μ›ν¬μ¤νμ΄μ¤ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws sts get-caller-identity  # ν„μ¬ AWS κ³„μ •/μ—­ν•  ν™•μΈ</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-μ•μ „ν•-ν™κ²½-μ „ν™-μ μ°¨">2. μ•μ „ν• ν™κ²½ μ „ν™ μ μ°¨<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#2-%EC%95%88%EC%A0%84%ED%95%9C-%ED%99%98%EA%B2%BD-%EC%A0%84%ED%99%98-%EC%A0%88%EC%B0%A8" class="hash-link" aria-label="2. μ•μ „ν• ν™κ²½ μ „ν™ μ μ°¨μ— λ€ν• μ§μ ‘ λ§ν¬" title="2. μ•μ „ν• ν™κ²½ μ „ν™ μ μ°¨μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># κΈ°μ΅΄ ν™κ²½ μ •λ¦¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform destroy -auto-approve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># μƒνƒ νμΌ λ°±μ—…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp terraform.tfstate terraform.tfstate.backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># μƒ ν™κ²½μΌλ΅ μ΄λ™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ../aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># λ¦¬μ†μ¤ ν™•μΈ ν›„ λ°°ν¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform apply</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-λ¦¬μ†μ¤-μ •λ¦¬-μ‹-μ£Όμμ ">3. λ¦¬μ†μ¤ μ •λ¦¬ μ‹ μ£Όμμ <a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#3-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%A6%AC-%EC%8B%9C-%EC%A3%BC%EC%9D%98%EC%A0%90" class="hash-link" aria-label="3. λ¦¬μ†μ¤ μ •λ¦¬ μ‹ μ£Όμμ μ— λ€ν• μ§μ ‘ λ§ν¬" title="3. λ¦¬μ†μ¤ μ •λ¦¬ μ‹ μ£Όμμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>EKS ν΄λ¬μ¤ν„° μ‚­μ  μ‹ IAM μ—­ν• , KMS λ³„μΉ­ λ“±μ€ μλ™μΌλ΅ μ‚­μ ν•΄μ£Όμ–΄μ•Ό ν•΄μ”.</li>
<li>λ§μ•½ μ‚­μ ν•΄μ£Όμ–΄μ•Ό ν•λ”κ² λ§λ‹¤λ©΄ Terraform importλ¥Ό ν™μ©ν•μ—¬ κΈ°μ΅΄ λ¦¬μ†μ¤ μ¬μ‚¬μ©ν•  μ μμ–΄μ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-eip-κ΄€λ¦¬">4. EIP κ΄€λ¦¬<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#4-eip-%EA%B4%80%EB%A6%AC" class="hash-link" aria-label="4. EIP κ΄€λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="4. EIP κ΄€λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>AWS κ³„μ •μ EIP ν•λ„λ¥Ό λ―Έλ¦¬ ν™•μΈν•λ” κ²ƒμ΄ μ¤‘μ”ν•΄μ”.</li>
<li>λ¶ν•„μ”ν• EIPλ” μ •κΈ°μ μΌλ΅ μ •λ¦¬ν•κ³  ν•„μ”μ‹ AWS Supportλ¥Ό ν†µν•΄ ν•λ„ μ¦κ°€ μ”μ²­ν•΄μ£Όμ–΄μ•Ό ν•©λ‹λ‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-terraform-μƒνƒ-κ΄€λ¦¬">5. Terraform μƒνƒ κ΄€λ¦¬<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#5-terraform-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC" class="hash-link" aria-label="5. Terraform μƒνƒ κ΄€λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="5. Terraform μƒνƒ κ΄€λ¦¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li><code>terraform plan</code>μΌλ΅ μƒμ„±λ  λ¦¬μ†μ¤λ¥Ό λ―Έλ¦¬ ν™•μΈν•λ” μµκ΄€μ΄ μ •λ§ μ¤‘μ”ν•©λ‹λ‹¤.</li>
<li>κΈ°μ΅΄ λ¦¬μ†μ¤μ™€μ μ¶©λ κ°€λ¥μ„± κ²€ν†  λ° Importλ¥Ό ν™μ©ν• κΈ°μ΅΄ λ¦¬μ†μ¤ μ¬μ‚¬μ©μ„ κ³ λ ¤ν•  μ μμ–΄μ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-μ•μ „ν•-λ°°ν¬-μ „λµ">6. μ•μ „ν• λ°°ν¬ μ „λµ<a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#6-%EC%95%88%EC%A0%84%ED%95%9C-%EB%B0%B0%ED%8F%AC-%EC%A0%84%EB%9E%B5" class="hash-link" aria-label="6. μ•μ „ν• λ°°ν¬ μ „λµμ— λ€ν• μ§μ ‘ λ§ν¬" title="6. μ•μ „ν• λ°°ν¬ μ „λµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># λ°°ν¬ μ „ μ²΄ν¬λ¦¬μ¤νΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan                    # μƒμ„±λ  λ¦¬μ†μ¤ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses        # EIP μ‚¬μ©λ‰ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws iam list-roles               # κΈ°μ΅΄ IAM μ—­ν•  ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws kms list-aliases             # κΈ°μ΅΄ KMS λ³„μΉ­ ν™•μΈ</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-κ²°λ΅ ">π― κ²°λ΅ <a href="https://indianapoly.github.io/blog/2025/07/19/terraform/terraform-errorHandling-title#-%EA%B2%B0%EB%A1%A0" class="hash-link" aria-label="π― κ²°λ΅ μ— λ€ν• μ§μ ‘ λ§ν¬" title="π― κ²°λ΅ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>μ΄λ² λ¬Έμ μ κ·Όλ³Έ μ›μΈμ€ <strong>κ°λ° ν™κ²½ νΌλ™μΌλ΅ μΈν• λ¦¬μ†μ¤ μ¤‘λ³µ</strong>μ΄μ—μµλ‹λ‹¤. localκ³Ό aws ν™κ²½μ„ λ…ν™•ν κµ¬λ¶„ν•μ§€ μ•κ³  κ°λ°ν•λ‹¤κ°€, κΈ°μ΅΄ λ¦¬μ†μ¤λ¥Ό μ •λ¦¬ν•μ§€ μ•μ€ μƒνƒμ—μ„ μƒλ΅μ΄ ν™κ²½μ— λ°°ν¬λ¥Ό μ‹λ„ν• κ²ƒμ΄ λ¬Έμ μ μ‹μ‘μ΄μ—μµλ‹λ‹¤.</p>
<p>TerraformμΌλ΅ AWS λ¦¬μ†μ¤λ¥Ό κ΄€λ¦¬ν•  λ•λ” λ‹¤μ μ‚¬ν•­λ“¤μ„ λ°λ“μ‹ κ³ λ ¤ν•΄μ•Ό ν•©λ‹λ‹¤:</p>
<ol>
<li><strong>ν™κ²½ λ¶„λ¦¬μ™€ λ…ν™•ν• μ‹λ³„</strong></li>
<li><strong>κΈ°μ΅΄ λ¦¬μ†μ¤μ™€μ μ¶©λ κ°€λ¥μ„±</strong></li>
<li><strong>Terraform Importλ¥Ό ν™μ©ν• κΈ°μ΅΄ λ¦¬μ†μ¤ μ¬μ‚¬μ©</strong></li>
</ol>
<p>νΉν EKSμ™€ κ°™μ€ λ³µμ΅ν• μ„λΉ„μ¤λ” μ—¬λ¬ AWS μ„λΉ„μ¤μ™€ μ—°λ™λμ–΄ μμ–΄, μ‚­μ  μ‹μ—λ„ μΌλ¶€ λ¦¬μ†μ¤κ°€ λ‚¨μ„ μ μμµλ‹λ‹¤. μ΄λ° μƒν™©μ—μ„λ” <strong>Terraform Import</strong>λ¥Ό ν™μ©ν•μ—¬ κΈ°μ΅΄ λ¦¬μ†μ¤λ¥Ό μ¬μ‚¬μ©ν•λ” κ²ƒμ΄ κ°€μ¥ μ•μ „ν•κ³  ν¨μ¨μ μΈ ν•΄κ²°μ±…μ…λ‹λ‹¤.</p>
<hr>
<p><strong>κ΄€λ ¨ λ…λ Ήμ–΄ λ¨μ:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ν™κ²½ ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform workspace show</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws sts get-caller-identity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># EIP κ΄€λ ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-addresses --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 release-address --allocation-id eipalloc-xxx --region ap-northeast-2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Terraform Import</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform import 'resource_address' resource_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform state list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">terraform plan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># EKS κ΄€λ ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws eks update-kubeconfig --region ap-northeast-2 --name cluster-name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config current-context</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Terraform" term="Terraform"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kubernetes Basic(3)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title"/>
        <updated>2025-07-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secret">Secret<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#secret" class="hash-link" aria-label="Secretμ— λ€ν• μ§μ ‘ λ§ν¬" title="Secretμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ul>
<li>μƒμ„±ν•λ” λ°©λ²•μ€ cliλ΅ ν•κ±°λ‚ .yml νμΌμ„ μ‘μ„±ν•΄μ„ λ§λ“λ” λ°©λ²•μ΄ μμ–΄μ”.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic my-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--from-literal=username=admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--from-literal=password=1234</span><br></span></code></pre></div></div>
<p>cliλ΅ κ°’μ„ ν™•μΈμ„ ν•΄μ£Όλ ¤λ©΄, μ•„λ cli λ…λ Ήμ„ ν†µν•΄μ„ ymlμ„ μ¶λ ¥ν•  μ μμ–΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get secret my-secret -o yaml</span><br></span></code></pre></div></div>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-17/img1.png">
<p>μ—¬κΈ°μ„ μ¶λ ¥λλ” λ°μ΄ν„° μ—­μ‹ base64λ΅ μΈμ½”λ”©μ΄ λκΈ° λ•λ¬Έμ— μ΄λ¥Ό ν™•μΈν•΄μ£ΌκΈ° μ„ν•΄μ„λ”
λ³µνΈν™”ν•΄μ£Όμ–΄μ•Ό ν•΄μ”.</p>
<p>yml νμΌλ΅ λ„£μ–΄μ¤„λ•λ” base64 μΈμ½”λ”©λ κ°’μ„ λ„£μ–΄μ£Όμ–΄μ•Ό ν•΄μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Opaque</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> YWRtaW4= </span><span class="token comment" style="color:#999988;font-style:italic"># admin (base64 μΈμ½”λ”©)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MTIzNA== </span><span class="token comment" style="color:#999988;font-style:italic"># 1234 (base64 μΈμ½”λ”©)</span><br></span></code></pre></div></div>
<p>μ„μ™€ κ°™μ΄ μ„¤μ •μ„ ν•κ³  λ‚ μ΄ν›„μ— ν™κ²½λ³€μλ΅ λ„κ²¨μ¤„ μλ„ μκ³ , λ³Όλ¥¨μΌλ΅ λ„κ²¨μ¤„ μλ„ μμ–΄μ”.</p>
<p>ν™κ²½λ³€μλ΅ λ„κ²¨ μ¤„λ•λ” μ•„λμ™€ κ°™μ΄ keyκ°’μ„ μ§€μ •ν•΄μ„ λ„κ²¨μ£Όμ–΄μ•Ό ν•΄μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mycontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> USERNAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> password</span><br></span></code></pre></div></div>
<p>λ³Όλ¥¨μΌλ΅ λ„κ²¨μ£Όλ” κ²ƒμ€ λ”°λ΅ keyλ¥Ό μ„¤μ •ν•΄μ£Όλ” κ²ƒμ΄ μ•„λ‹λΌ μƒμ„±ν• secretλ¥Ό μ „μ²΄ λ„κ²¨μ£Όμ–΄μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mycontainer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/etc/secret"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">readOnly</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">secret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">secretName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="statefulset">StateFulSet<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#statefulset" class="hash-link" aria-label="StateFulSetμ— λ€ν• μ§μ ‘ λ§ν¬" title="StateFulSetμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ul>
<li>
<p>μƒμ„±λ Podλ§λ‹¤ λ³„λ„μ λ””μ¤ν¬ κ³µκ°„μ„ κ°€μ Έμ•Όν•λ” κ²½μ°μ— μ£Όλ΅ μ‚¬μ©ν•΄μ”. λ¶„μ‚° κΈ°λ° μ• ν”λ¦¬μΌ€μ΄μ…μ κ²½μ° νΈμ¤νΈλ…κ³Ό IP λ“±μ΄ λ°”λ€λ©΄ μ•λΌμ”.</p>
</li>
<li>
<p>ReplicaSetμ κ²½μ°μ—λ” μƒμ„± λ° μ‚­μ κ°€ λ™μ‹μ— μ§„ν–‰λλ” λ°λ©΄μ—, StatefullSetμ€ μμ°¨μ μΌλ΅ μ§„ν–‰λμ–΄μ„ μ‹κ°„ μ΅°μ μ΄ κ°€λ¥ν•΄μ”.</p>
</li>
<li>
<p>Podλ¥Ό μ‚­μ ν•λ” κ²½μ° ID κ°’μ΄ κ°€μ¥ ν° κ²ƒλ¶€ν„° μ‚­μ κ°€ λΌμ”. μ μΌ λ§μ§€λ§‰μ— μƒμ„±λ Podκ°€ λ¨Όμ € μ‚­μ κ°€ λκ³  λ§μ¤ν„°μ κ²½μ°μ—λ” κ°€μ¥ λ§μ§€λ§‰μ— μ‚­μ κ°€ λΌμ”.</p>
</li>
<li>
<p>μ¤μΌ€μΌλ¦¬μ—μ„ Podκ°€ μ‚­μ κ°€ λλ©΄ ν•΄λ‹Ή Podκ°€ λ¬Όκ³  μλ” PVCλ” Podμ— λ€ν• μ •λ³΄λ¥Ό κ°€μ§€κ³  μμ–΄μ”. λ”°λΌμ„ Podλ¥Ό μƒμ„±ν•λ©΄ μ΄μ „κ³Ό λ™μΌν• IDλ΅ μ¬μƒμ„±μ΄ λΌμ”.</p>
</li>
</ul>
<p>β€Ό Deploymentλ” Elastic Block Storeλ¥Ό μ‚¬μ©ν•μ§€ μ•μ•„μ”. λ§μ•½ Deploymentμ— λ””μ¤ν¬λ¥Ό λ¶™νλΌκ³  ν•λ‹¤λ©΄ EFSλ¥Ό λ¶™ν€μ•Ό ν•΄μ”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize--helm-μ°¨νΈ">Kustomize / Helm μ°¨νΈ<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#kustomize--helm-%EC%B0%A8%ED%8A%B8" class="hash-link" aria-label="Kustomize / Helm μ°¨νΈμ— λ€ν• μ§μ ‘ λ§ν¬" title="Kustomize / Helm μ°¨νΈμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>2κ°λ¥Ό κ°™μ΄ μ‚¬μ©ν•  μ μμ§€λ§ κ±°μ κ°™μ΄ μ‚¬μ©ν•μ§€ μ•μ•„μ”.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize">Kustomize<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#kustomize" class="hash-link" aria-label="Kustomizeμ— λ€ν• μ§μ ‘ λ§ν¬" title="Kustomizeμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>base + overlayλ¥Ό μ΅°ν•©ν•μ—¬ ν™κ²½λ³„ λ°°ν¬ YAMLμ„ kustomize build λ…λ ΉμΌλ΅ μ¶”μ¶ν•©λ‹λ‹¤.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kustomize/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ base/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”β”€β”€ overlays/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β”β”€β”€ dev/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β”‚   β””β”€β”€ kustomization.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β”β”€β”€ stage/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ prod/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ aws/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β”‚   β””β”€β”€ gcp/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="helm-chart">Helm chart<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#helm-chart" class="hash-link" aria-label="Helm chartμ— λ€ν• μ§μ ‘ λ§ν¬" title="Helm chartμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>
<p>μλ¥Ό λ“¤μ–΄μ„ MYSQL κ°λ°μκ°€ ymlμ„ μ κ³µμ„ ν•κ³  μ†λΉ„μκ°€ ν™κ²½λ³€μλ‚ μ„¤μ • λ“±μ„ λ³€κ²½ν•κ³  μ‹¶μ„ λ• :</p>
<ul>
<li>κ°λ°μκ°€ Helm μ°¨νΈλ¥Ό ν™μ©ν•λ©΄ λ³€κ²½ κ°€λ¥ν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•΄μ¤μ”. μ΄λ¥Ό ν†µν•΄μ„ μ‚¬μ©μλ” ν™κ²½λ³€μλ‚ μ„¤μ •μ„ μ‰½κ² λ°”κΏ€ μ μμ–΄μ”.</li>
</ul>
</li>
</ul>
<p><strong>μ„¤μΉ λ°©λ²•</strong></p>
<p>μ•„λμ™€ κ°™μ€ λ…λ Ήμ–΄λ¥Ό μμ„λ€λ΅ μ…λ ¥μ„ ν•΄μ£Όλ©΄ helm chartλ¥Ό μ„¤μΉν•  μ μμ–΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 get_helm.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./get_helm.sh</span><br></span></code></pre></div></div>
<p>μ μ„¤μΉκ°€ λμ—λ”μ§€ ν™•μΈν•κΈ° μ„ν•΄μ„ mysqlλ¥Ό κ²€μƒ‰μ„ ν•΄λ³΄λ©΄ μ λ‚μ¤λ” κ²ƒμ„ ν™•μΈν•  μ μμ–΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm show chart stable/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appVersion: 5.7.30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deprecated: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description: DEPRECATED - Fast, reliable, scalable, and easy to use open-source relational</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  database system.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">home: https://www.mysql.com/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">icon: https://www.mysql.com/common/logos/logo-mysql-170x115.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keywords:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name: mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- https://github.com/kubernetes/charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- https://github.com/docker-library/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version: 1.6.9</span><br></span></code></pre></div></div>
<p><strong>helm chart μƒμ„±ν•κΈ°</strong></p>
<p>ν•΄λ‹Ή λ…λ Ήμ–΄λ¥Ό ν†µν•΄μ„ μƒμ„±ν•΄μ£Όμ„Έμ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm create &lt;μ΄λ¦„&gt;</span><br></span></code></pre></div></div>
<p>templates ν΄λ”μ—μ„ deployment.ymlμ™€ service.ymlμ„ μƒμ„±μ„ ν•΄μ¤μ”. _helpers.tplμ„ μ μ™Έν• λ‚λ¨Έμ§€ νμΌλ“¤μ€ μ‚­μ λ¥Ό μ§„ν–‰ν•΄μ¤μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># deployment.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.replicas </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.environment </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.image </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.tag </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.port </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.environment </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># service.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.port </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> .Values.container.name </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span></code></pre></div></div>
<p>κΈ°μ΅΄μ values.yamlμ„ μ „μ²΄ μ‚­μ λ¥Ό ν•΄μ¤μ”. κ·Έλ°λ‹¤μμ— μ•„λλ¥Ό λ„£μ–΄μ¤μ”. μ΄λ ‡κ² ν•λ©΄ μ‚¬μ©μλ” μ—¬κΈ°μ— μ§€μ •λ λ³€μλ§ κ±΄λ“¤ μ μλ‹¤λ” κ²ƒμ„ μ•λ ¤μ¤μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre></div></div>
<p>μ„μ—μ„ μ‘μ—…ν• κ²ƒμ„ μ„¤μΉλ¥Ό μ§„ν–‰ν•΄μ¤μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm install nginxstd ./nginxstd</span><br></span></code></pre></div></div>
<p>ν¨ν‚¤μ§€λ¥Ό μƒμ„±ν•΄μ£Όκ³  νμΌμ„ μ΄λ™μ‹μΌμ¤λ‹λ‹¤. κ·Έλ¦¬κ³  helm repository νμΌμ„ μƒμ„±ν•΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm package ./nginxstd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv ./nginx-std-0.1.0.tgz ./prod/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># λ¦¬ν¬μ§€ν† λ¦¬ νμΌ μƒμ„± (index.yaml)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">heml repo index ./prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># νμΌ μƒμ„± ν™•μΈ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ./prod/index.yaml</span><br></span></code></pre></div></div>
<p>μ„ μ‘μ—…κΉμ§€ λ‹¤ ν–λ‹¤λ©΄ Github Repositoryλ¥Ό λ§λ“¤μ–΄μ”. κ·Έλ¦¬κ³  Repositoryμ— μ°λ¦¬κ°€ μ‘μ—…ν• κ²ƒμ„ μ¬λ ¤μ¤μ”. Githubμ— μ •μƒμ μΌλ΅ λ“±λ΅μ΄ μ™„λ£κ°€ λμ—λ‹¤λ©΄ μ•„λ λ…λ Ήμ–΄λ¥Ό ν†µν•΄μ„ repositoryλ¥Ό μ¶”κ°€μ‹μΌμ¤λ‹λ‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add helm-prod &lt;μμ‹  github μ£Όμ†μ— μ¬λΌκ°€ μλ” helm Repository&gt;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ‹¤μµ">μ‹¤μµ<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬" title="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mysql-db-secret-μƒμ„±-λ°-μ‚¬μ©">MySQL DB Secret μƒμ„± λ° μ‚¬μ©<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#mysql-db-secret-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EC%82%AC%EC%9A%A9" class="hash-link" aria-label="MySQL DB Secret μƒμ„± λ° μ‚¬μ©μ— λ€ν• μ§μ ‘ λ§ν¬" title="MySQL DB Secret μƒμ„± λ° μ‚¬μ©μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>Secretλ¥Ό μƒμ„±ν•λ”λ° μ”κµ¬μ΅°κ±΄μ€ μ•„λμ™€ κ°™μ•„μ”. ν•΄λ‹Ή λ‚΄μ©μ„ λ„£κΈ° μ„ν•΄μ„λ” κ·Έλ€λ΅ μ‘μ„±ν•λ” κ²ƒμ΄ μ•„λ‹λΌ base64λ΅ μΈμ½”λ”©μ„ μ§„ν–‰ν•΄μ•Όν•΄μ”.</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_USER: user1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_PASSWORD: pw1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_ROOT_PASSWORD: rootpw9876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_DATABASE: mydb</span><br></span></code></pre></div></div>
<p>μ²« λ²μ§Έλ΅ Secretλ¥Ό μƒμ„±μ„ ν•΄μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dXNlcjE= </span><span class="token comment" style="color:#999988;font-style:italic">#user1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cHcxMjM0 </span><span class="token comment" style="color:#999988;font-style:italic">#pw1234</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cm9vdHB3OTg3Ng== </span><span class="token comment" style="color:#999988;font-style:italic">#rootpw9876</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bXlkYg== </span><span class="token comment" style="color:#999988;font-style:italic">#mydb</span><br></span></code></pre></div></div>
<p><code>kubectl apply -f ./νμΌμ΄λ¦„</code> λ…λ Ήμ–΄λ΅ μ‹¤ν–‰μ„ ν•λ©΄ μƒμ„±μ΄ λΌμ”.</p>
<p>μƒμ„±μ„ ν•΄μ¤€λ‹¤μμ— ν™κ²½λ³€μ λ°©λ²•μ„ μ‚¬μ©ν•΄μ„ Podλ¥Ό μƒμ„±μ„ ν•΄μ¤„κ±°μ—μ”. μ΄ λ• secretKeyRefμ μ΄λ¦„μ„ μƒμ„±ν• secretμ μ΄λ¦„μΌλ΅ μ§€μ •μ„ ν•΄μ£Όλ©΄ λΌμ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_USER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_USER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_ROOT_PASSWORD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_DATABASE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MYSQL_DATABASE</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="statefulset-1">StatefulSet<a href="https://indianapoly.github.io/blog/2025/07/17/kubernetes/kubernetes-basic-3-title#statefulset-1" class="hash-link" aria-label="StatefulSetμ— λ€ν• μ§μ ‘ λ§ν¬" title="StatefulSetμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StatefulSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">serviceName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hyeonlim/nodejs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">sfs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumeClaimTemplates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteOnce</span><br></span></code></pre></div></div>
<p>ν•΄λ‹Ή μ‘μ—…μ„ ν†µν•΄μ„ μ•„λμ™€ κ°™μ€ λ¦¬μ¤μ†λ¥Ό κ°€μ§€λ” PVCλ¥Ό λ§λ“¤μ–΄μ£Όκ³ , volumeClaimTemplatesλ¥Ό ν†µν•΄μ„ Pod λ§λ‹¤ λ…λ¦½μ μΈ PVCλ¥Ό λ§λ“¤ μ μμ–΄μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">accessModes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ReadWriteOnce</span><br></span></code></pre></div></div>
<p>μ„ μ‘μ—…μ΄ λ§λ¬΄λ¦¬κ°€ λκ³  λ‚λ©΄ load balancerλ¥Ό μ„¤μ •ν•μ—¬ νΈλν”½μ„ Pod λ³„λ΅ λ¶„μ‚°μ„ μ§„ν–‰ν•΄μ¤μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodesjs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-nlb-target-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> internet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">facing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sessionAffinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nodejs</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sfs</span><br></span></code></pre></div></div>
<p>β… μ¤‘μ”ν• μ </p>
<ul>
<li>
<p>StatefulSet Podλ§λ‹¤ λ°μ΄ν„°κ°€ λ‹¤λ¥΄λ©΄, λ΅λ“λ°Έλ°μ„λ΅ μ ‘κ·Όν• μ‚¬μ©μλ§λ‹¤ λ‹¤λ¥Έ κ²°κ³Όλ¥Ό λ°›κ² λΌμ”. λ”°λΌμ„ μ΄λ¬ν• λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄μ„</p>
<ul>
<li>
<p>Shared Storage (NFS, S3)λ¥Ό μ‚¬μ©ν•΄μ”.</p>
</li>
<li>
<p>μ‚¬μ©μ λ§λ‹¤ Pod μ ‘μ†μ„ κ³ μ •μ„ μ‹ν‚¬ μ μμ–΄μ”. sticky sessionμ΄λΌκ³  ν•΄μ”. μ•„λμ™€ κ°™μ€ μμ‹λ΅ μ„¤μ •μ„ ν•΄μ¤„ μ μμ–΄μ”.</p>
</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">sessionAffinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClientIP</span><br></span></code></pre></div></div>
</li>
</ul>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Kubernetes" term="Kubernetes"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[κ°λ°ν•κΈ° μ „ μ•„μ΄λ””μ–΄ νμ μ΄λ ‡κ² ν•΄λ³΄μ.]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/16/etc/idea_meeting-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/16/etc/idea_meeting-title"/>
        <updated>2025-07-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<p>cloudwaveμ—μ„ μ§„ν–‰ν–λ idea νμμ™€ κ΄€λ ¨λ νκ³ μ—μ”. μ•μΌλ΅ λ„μ›€μ΄ λ  κ±° κ°™μ•„μ„ κΈ°λ΅ ν•΄λ‘μ–΄μ”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ£Όμ ">μ£Όμ <a href="https://indianapoly.github.io/blog/2025/07/16/etc/idea_meeting-title#%EC%A3%BC%EC%A0%9C" class="hash-link" aria-label="μ£Όμ μ— λ€ν• μ§μ ‘ λ§ν¬" title="μ£Όμ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p><code>λ€ν•™μƒμ„ μ„ν• μ™„λ²½ν• μ•„μΉ¨ λ£¨ν‹΄μ— λ€ν• κ³ λ―Ό</code> μ΄μ—μ”. μ΄ λ• μλ©΄μ„ μ‹κ°„μ„ μ μ§€ν‚¤κ³  μ¶”κ°€μ μΌλ΅ κ±΄κ°•ν• λ£¨ν‹΄μ„ λ§λ“λ” κ²ƒμ΄ λ©ν‘μΈ κ²ƒμ„ μμ§€ λ§μ•„μ•Ό ν•΄μ”.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="process">process<a href="https://indianapoly.github.io/blog/2025/07/16/etc/idea_meeting-title#process" class="hash-link" aria-label="processμ— λ€ν• μ§μ ‘ λ§ν¬" title="processμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ol>
<li>
<p><code>07μ‹ κΈ°μƒ</code>, <code>09μ‹ μλ¦¬ μ°©μ„</code> ν•΄λ‹Ή 2κ°μ μ‹μ‘μ κ³Ό λμ μ€ κ³ μ •μ„ ν• μƒνƒμ—μ„ ν†µν•™ μ‹κ°„μ΄ 1μ‹κ°„μ„μ„ κ³ λ ¤ν•΄μ„ κ°μμ μ•„μΉ¨ λ£¨ν‹΄μ„ λ§λ“¤μ–΄μ”.
ex. κΈ°μƒ -&gt; μ‹μ‚¬ -&gt; μ·μ„ μ…λ”λ‹¤ -&gt; μ§‘μ„ λ‚κ°„λ‹¤ -&gt; μ§€ν•μ² μ„ νƒ„λ‹¤ -&gt; .. -&gt; μλ¦¬μ— μ°©μ„ν•λ‹¤.</p>
<p>μ΄λ ‡κ² κ°μλ§μ λ£¨ν‹΄μ„ λ§λ“¤μ—μ–΄μ”.</p>
</li>
<li>
<p>κ°μ λ§λ“  λ£¨ν‹΄λ“¤μ„ ν€μ›λ“¤μ—κ² μ„¤λ…μ„ ν•΄μ”. μ΄λ• ν€μ›λ“¤μ€ λ¨λ“  μ§λ¬Έμ— λ€ν•΄μ„ μλ¬Έμ„ κ°€μ§€κ³  ν•λ‚ν•λ‚ λ¬Όμ–΄λ³΄λ” μ‘μ—…μ„ μ§„ν–‰μ„ ν•΄μ”.</p>
</li>
<li>
<p>κ·Έλ¦¬κ³  λ§λ“  λ£¨ν‹΄ μ¤‘ μ μΌ κ΄μ°®λ‹¤ μ•„λ‹λ©΄ ν•΄λ³΄κ³  μ‹¶λ‹¤ ν•λ” μ‚¬λμ΄ μ†μ„ λ“¤μ–΄μ”. ν•΄λ‹Ή μ†μ„ λ“  μ‚¬λμ€ μ΄μ  Product Ownerκ°€ λΌμ”.</p>
</li>
<li>
<p>κ°μ λ§λ“  λ£¨ν‹΄λ“¤μ„ λ¨λ‘ ν•©μ³μ”. λ™μΌν• μΉ΄ν…κ³ λ¦¬μ— λ€ν•΄μ„λ” ν•λ‚μ λ¬Έμ λ΅ μ²λ¦¬λ¥Ό ν•κ³ , λ¶„μ•Όκ°€ λ‹¤λ¥΄λ©΄ λ¬΄μ΅°κ±΄ λ¶„λ¦¬ μ‹ν‚¤λ”κ² μ¤‘μ”ν•΄μ”.</p>
</li>
<li>
<p>4λ²μ—μ„ λ§λ“  κ²°κ³Όλ¬Όμ„ λ°”νƒ•μΌλ΅ ν¬ν‘λ¥Ό μ§„ν–‰μ„ ν•΄μ”. λ¨Όμ € POκ°€ μ•„λ‹ μ‚¬λλ“¤μ΄ xκ°μ ν¬ν‘κ¶μ„ κ°€μ§€κ³  κΌ­ μμ–΄μ•Ό ν•λ” κ²ƒλ“¤μ— λ€ν•΄μ„ ν¬ν‘λ¥Ό μ§„ν–‰ν•΄μ”. κ·Έλ¦¬κ³  POλ” ν¬ν‘κ¶μ μμ™€ κ΄€κ³„ μ—†μ΄ ν¬ν‘λ¥Ό ν•λ”λ° μ΄ λ• POκ°€ μ„ νƒν• κ²ƒμ€ λ¬΄μ΅°κ±΄ μ±„νƒμ΄ λκΈ° λ•λ¬Έμ— POμ μ„ νƒμΌλ΅ μ ν’μ λ°©ν–¥μ„±μ΄ λ°”λ€” μλ„ μμ–΄μ”.</p>
</li>
<li>
<p>ν¬ν‘λ¥Ό ν• κ²ƒμ„ λ°”νƒ•μΌλ΅ 4λ²μ— λ§λ“  νλ¦„ λ°‘μ— κ²€μ€ μ¤„μ„ ν•λ‚ λ§λ“¤κ³ , ν•΄λ‹Ή ν”„λ΅μ„Έμ¤μ—μ„ μ¶λ° μ‹κ°„μ„ 07μ‹ 30λ¶„μ— μ¶λ°ν•λ” κ²ƒμΌλ΅ λ³€κ²½μ„ ν–μ„ λ•, 5λ²μ κ²°κ³Όμ—μ„ κΌ­ ν•„μ” μ—†λ” κ²ƒλ“¤μ„ μ•„λ μΉΈμΌλ΅ λ‚΄λ ¤μ”. μ΄ λ• POμ μ„ νƒμ€ μ λ€ λ‚΄λ¦¬μ§€ μ•μ•„μ”.</p>
</li>
<li>
<p>6λ²μ κ²°κ³Όλ¬Ό λ°‘μ— κ²€μ€ μ¤„μ„ ν•λ‚ λ λ§λ“¤κ³ , κ·Έ λ‹¤μμ— ν•΄λ‹Ή ν”„λ΅μ„Έμ¤λ¥Ό μ¶ μ‹κ°„μ΄ 07μ‹ 50λ¶„μ΄λΌκ³  ν–μ„ λ• κΌ­ ν•„μ”ν• κ²ƒλ“¤λ§ λ‚¨κΈ°κ³  λ‚λ¨Έμ§€λ” λ‚΄λ¦¬λ” μ‘μ—…μ„ μ§„ν–‰μ„ ν•΄μ”.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ°λ¦¬κ°€-ν–λ-κ²ƒμ—-λ€ν•-κ²°κ³Όλ¬Ό">μ°λ¦¬κ°€ ν–λ κ²ƒμ— λ€ν• κ²°κ³Όλ¬Ό<a href="https://indianapoly.github.io/blog/2025/07/16/etc/idea_meeting-title#%EC%9A%B0%EB%A6%AC%EA%B0%80-%ED%96%88%EB%8D%98-%EA%B2%83%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B2%B0%EA%B3%BC%EB%AC%BC" class="hash-link" aria-label="μ°λ¦¬κ°€ ν–λ κ²ƒμ— λ€ν• κ²°κ³Όλ¬Όμ— λ€ν• μ§μ ‘ λ§ν¬" title="μ°λ¦¬κ°€ ν–λ κ²ƒμ— λ€ν• κ²°κ³Όλ¬Όμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ul>
<li>
<p>κ·Έλ¬λ©΄ μ΄ 3κ°μ μμ—­μ΄ λ‚μ¤κ² λλ”λ° μ΄ λ• 07μ‹ 50λ¶„μΌ λ• κΌ­ ν•λ” κ²ƒμ΄ MVPκ°€ λκ³  μ΄λ” fixκ°€ λΌμ”. κ·Έλ¦¬κ³  μ•„λ¦¬ 07μ‹ 30λ¶„μ— μ§„ν–‰ν•λ” κ²ƒμ΄ release 1 λκ³  κ·Έ μ΄ν›„λ” release 2κ°€ λΌμ”.</p>
</li>
<li>
<p>μ°λ¦¬λ” ν•΄λ‹Ή κ³Όμ •μ„ ν•΄μ¤λ©΄μ„ κΈ°λ¥μ„ μ‹κ°„ μμΌλ΅ ν‘μ‹λ¥Ό ν–μ–΄μ”. μ™λƒν•λ©΄ μ™„λ£ μ‹κ°„μ€ κ³ μ •μ΄ λμ–΄μκΈ° λ•λ¬Έμ΄μ—μ”. λν• λ°μ‚°ν•λ” κ³Όμ •μ„ κ±°μΉκ³ , λ™μΌν• μΉ΄ν…κ³ λ¦¬μ— λ€ν•΄μ„ μκ²¬μ„ ν•©μΉλ©΄μ„ μλ ΄ν•λ” κ³Όμ •μ„ κ±°μ³¤μ–΄μ”.</p>
</li>
<li>
<p>μ—¬κΈ°μ„ μ¤‘μ”ν• κ²ƒμ€ κ° releaseλ” 1κ°μ κΈ°λ¥μ„ ν•΄μ•Όν•΄μ”. μ¦‰ μλ™μ°¨λ¥Ό λ§λ“λ” MVPκ°€ μμ—λ‹¤κ³  ν•λ‹¤λ©΄. λ‹¤μ releaseλ” λ°”ν€΄λ¥Ό λ§λ“λ” κ²ƒμ΄ μ•„λ‹λΌ μ¤ν† λ°”μ΄λ‚ νΉμ€ λ‹¤λ¥Έ κΈ°λ¥μ„ ν•λ” κ²ƒμ΄ λ§λ“¤μ–΄μ Έμ•Ό ν•λ” κ²ƒμ„ μλ―Έν•΄μ”.</p>
</li>
<li>
<p>λν• μ—¬κΈ°μ„ μ°λ¦¬λ” μ•„μ§ μ•μ •ν•κ² μλ”λ° λ°”λ΅ νλ¥΄μ†λ‚μ—μ”. λ€ν•™μƒμ„ νƒ€κ²μΌλ΅ ν–λ”λ° μ–΄λ–¤ λ€ν•™μƒμ„ νƒ€κ²μΌλ΅ ν–λ”μ§€ κΈ°μ¤€μ΄ μ—†μ–΄μ”. νλ¥΄μ†λ‚κ°€ μ—†λ‹¤λ©΄ μ ν’μ΄ μ–΄λ– ν• λ°©ν–¥μΌλ΅ λ‚μ•„κ°€λ”μ§€μ— λ€ν•΄μ„ λ¶λ…ν™•ν•΄μ§€κ³  ν”„λ΅μ νΈκ°€ μ›ν•λ” λ°©ν–¥μ„±μΌλ΅ νλ¬κ°€μ§€ λ»ν•  μ μμ–΄μ”.</p>
</li>
</ul>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Etc" term="Etc"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kubernetes Basic(2)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title"/>
        <updated>2025-07-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="volume">volume<a href="https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#volume" class="hash-link" aria-label="volumeμ— λ€ν• μ§μ ‘ λ§ν¬" title="volumeμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ul>
<li>
<p><code>Persistent Volume Access Mode</code>μ λ¨λΈμ€ μ•„λ 4κ°μ λ¨λ“κ°€ μμ–΄μ”.</p>
<ul>
<li>ReadWriteOnce (RWO)</li>
<li>ReadOnlyMany (ROX) : λ΅κ·Έλ¥Ό μ£Όλ΅ μ½μ„ λ• μ‚¬μ©ν•΄μ”.</li>
<li>ReadWriteMany (RWX) : λ¶„μ‚°ν• λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μ£Όλ΅ μ‚¬μ©ν•΄μ”.</li>
<li>ReadWriteOncePOD (RWOP)</li>
</ul>
</li>
<li>
<p>μ»¨ν…μ΄λ„λ” λ³Όλ¥¨μ„ λ§μ΄νΈλ¥Ό ν•λ©΄ POD μ•μ—μ„λ” κ³µμ κ°€ κ°€λ¥ν•΄μ Έμ”. λ…Έλ“ μ…μ¥μ—μ„ λ³΄λ©΄ ν•΄λ‹Ή λ…Έλ“μ— μ†ν•΄μλ” PODμ— λ€ν•΄μ„λ” κ°™μ΄ μ½κ³  μ“Έ μ μλ‹¤λ” κ²ƒμ„ μλ―Έν•΄μ”.</p>
</li>
<li>
<p>pv-w-pvc μ™€ pv-w-scμ μ°¨μ΄μ μ„ μ•„μ‹λ‚μ”?</p>
<ul>
<li>pv-w-pvcλ” AWSμ Elastic Blokc Store μ λ””μ¤ν¬ μ¤‘ ν•λ‚λ¥Ό λ³Όλ¥¨μΌλ΅ μ„¤μ •ν•΄μ”. zoneμ— ν•΄λ‹Ήν•λ” λ³Όλ¥¨μ„ μ„¤μ •ν•κ³  ν•΄λ‹Ή λ³Όλ¥¨μ„ pvλ΅ ν•΄μ•Όμ§€λ§ k8sκ°€ ν•΄λ‹Ή λ³Όλ¥¨μ„ μΈμ‹μ„ ν•΄μ”.
pvcλ¥Ό μ„¤μ¥ν•κΈ° μ„ν•΄μ„λ” storageClassNameμ„ λΉλ¬Έμμ—΄λ΅ λ‘λ©΄ λΌμ”.<!-- -->
<ul>
<li>pvcλ” podμ™€ μƒκ΄€μ΄ μ—†μ–΄μ”. podκ°€ μ‚­μ λλ‹¤κ³  ν•΄μ„ pvcκ°€ μ‚­μ λλ” κ²ƒμ€ μ•„λ‹μ—μ”.</li>
</ul>
</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">storageClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">""</span><br></span></code></pre></div></div>
<ul>
<li>pv-w-scλ” sc(awsμ—μ„λ” gp2λΌκ³  ν•΄μ”.)λ¥Ό μ„¤μ •λ§ ν•΄λ‘λ©΄ pv-w-pvcμ κ³Όμ •μ„ μλ™μΌλ΅ μ„¤μ •ν•΄μ”. μ΄ν›„ κ³Όμ •μ€ pvcμ™€ λ™μΌν•κ² μ§„ν–‰μ΄ λμ”. μ΄λ ‡κ² μ§„ν–‰μ„ λ””μ¤ν¬λ¥Ό μ‚­μ ν•κ³  μƒμ„±ν•λ” μ±…μ„μ΄ κ°λ°μλ΅ μ—­ν• μ΄ λ„μ–΄κ°€λ©΄μ„ κ΄€λ¦¬μμ κ΄€λ¦¬ λ¶€λ‹΄μ΄ μ¤„μ–΄λ“¤μ–΄μ”.<!-- -->
<ul>
<li>gp2λ¥Ό defaultλ¥Ό μ„¤μ •ν•κΈ° μ„ν•΄μ„λ” μ•„λμ™€ κ°™μ€ λ…λ Ήμ–΄λ¥Ό μ‘μ„±μ„ ν•΄μ¤μ”.</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  kubectl patch storageclass gp2 -p '{"metadata": {"annotations":{"storageclass.kubernetes.io/is-default-class":"true"}}}'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ul>
<li>λ”°λΌμ„ pvcλ” μ •μ  ν”„λ΅λΉ„μ €λ‹μ΄λΌκ³  ν•κ³ , scλ” λ™μ  ν”„λ΅λΉ„μ €λ‹μ΄λΌκ³  ν•΄μ”.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cicd">CICD<a href="https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#cicd" class="hash-link" aria-label="CICDμ— λ€ν• μ§μ ‘ λ§ν¬" title="CICDμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<ul>
<li>AWSμ—λ” code deploy(CI), commit, code pipe line(CD) μ΄λ ‡κ² 3κ°€μ§€μ μ„λΉ„μ¤κ°€ μμ–΄μ”.<!-- -->
<ul>
<li>commitμ€ κ³§ μ—†μ–΄μ§ μμ •μ΄μ—μ”.</li>
<li>code deployλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ μ‚°μ¶λ κ²°κ³Όλ¬Ό(μ••μ¶• νμΌ)μ„ S3μ— μ €μ¥μ„ ν•΄μ•Όν•΄μ”. - app.spec.yml νμΌμ΄ μμ–΄μ•Ό ν•΄μ—¬.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ci-continuous-integration">CI: continuous Integration<a href="https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#ci-continuous-integration" class="hash-link" aria-label="CI: continuous Integrationμ— λ€ν• μ§μ ‘ λ§ν¬" title="CI: continuous Integrationμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>CIμ μμ„λ” μ•„λμ™€ κ°™μ•„μ”.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">λΉλ“ -&gt; ν…μ¤νΈ(ν…μ¤νΈμ μΆ…λ¥μ—λ” μ λ‹› ν…μ¤νΈ, e2e ν…μ¤νΈ, λ¶€ν• ν…μ¤νΈκ°€ μμ–΄μ”) -&gt; μ·¨μ•½μ  κ²€μ‚¬ (μ½”λ“ μ •μ  λ¶„μ„) -&gt; μ½”λ“ λ¦¬λ·° | μ½”λ“ μ»¨λ°΄μ…</span><br></span></code></pre></div></div>
<ul>
<li>μμ „μ—λ” μµμΆ…μ‚°μ¶λ¬Όμ΄ Artifactμ΄ λ‚μ™”μ–΄μ”. Artifactλ” .jar μ΄λ°κ² μμ–΄μ”.</li>
<li>μ”μ¦μ—λ” μµμΆ…μ‚°μ¶λ¬Όμ΄ container imageκ°€ λ‚μ™€μ”.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cd-continuous-delivery-deployment">CD: continuous Delivery, Deployment<a href="https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#cd-continuous-delivery-deployment" class="hash-link" aria-label="CD: continuous Delivery, Deploymentμ— λ€ν• μ§μ ‘ λ§ν¬" title="CD: continuous Delivery, Deploymentμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<ul>
<li>
<p>Deliveryλ” λ§μ§€λ§‰ λ°°ν¬λ” μ‚¬λ¦Όμ΄ μ§μ ‘ μ§„ν–‰μ„ ν•΄μ”. ν•μ§€λ§ Deploymentλ” λ°°ν¬ν•λ” μ „κ³Όμ •μ΄ μλ™μΌλ΅ μ΄λ£¨μ–΄μ Έμ”.</p>
</li>
<li>
<p>μ£Όλ΅ μ‚¬μ©λλ” CI,CD ν΄μ€ github action, gitlab runner, Jenkins, CircleCI pipe, bitbucket pipeline λ“±μ΄ ν™μ©μ΄ λΌμ”.</p>
<ul>
<li>github action : λ§μ΄ μ‚¬μ©λλ” μ΄μ λ” μ ‘κ·Όν•κΈ° μ‰½κΈ° λ•λ¬Έμ΄μ—μ”. μ½”λ“κ°€ κ³µκ°κ°€ λμ–΄μμ–΄ λ³΄μ•μƒ λ¬Έμ κ°€ μμ„ κ±° κ°™μ§€λ§ λ§¤μΌ fetchκ°€ μ΄λ£¨μ–΄μ§€κΈ° λ•λ¬Έμ— λ³΄μ•μƒ μ•μ „ν•΄μ”.</li>
<li>gitlab runner : μ„¤μΉν•΄μ„ μ‚¬μ©μ„ ν•΄μ”. (κ³µκ³µκΈ°κ΄€ κ°™μ€λ°μ—μ„ μ£Όλ΅ μ‚¬μ©ν•΄μ”.)</li>
<li>Circle CI : μ¤ν”μ†μ¤ ν”„λ΅μ νΈμ—μ„ λ§μ΄ μ‚¬μ©ν•΄μ”.</li>
<li>Jenkins: μ¤ν¬λ¦½νΈν•μΌλ΅ μ‘μ„±λκΈ° λ•λ¬Έμ— λ…λ Ήν•μ΄μ—μ”.</li>
</ul>
</li>
<li>
<p>CDλ§ μ „λ¬Έμ μΌλ΅ ν•λ” λ„κµ¬λ“¤μ΄ μλ”λ° λ‚μ¨ μ΄μ λ” μ»¨ν…μ΄λ„κ°€ λ‚μ¤λ©΄μ„ λ°°ν¬ μ „λµμ΄ λ‹¤μ–‘ν•κ² μƒκ²ΌκΈ° λ•λ¬Έμ΄μ—μ”.</p>
<ul>
<li>ArgoCD (μ μΌ λΉ λ¥΄λ‹¤λ” μ  λ•λ¬Έμ— μ μΌ λ§μ΄ μ‚¬μ©ν•΄μ”.)</li>
<li>FluxCD</li>
<li>Spinnake (λ€κ·λ¨ μ‹μ¤ν…μ΄ μ ν•©ν•΄μ”.)</li>
<li>JenkinsX</li>
</ul>
</li>
</ul>
<hr>
<h1>μ‹¤μµ</h1>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="λλ¤μΌλ΅-λ…μ–Έμ„-λ³΄μ—¬μ£Όλ”-κ°„λ‹¨ν•-μ„λΉ„μ¤empty-dir">λλ¤μΌλ΅ λ…μ–Έμ„ λ³΄μ—¬μ£Όλ” κ°„λ‹¨ν• μ„λΉ„μ¤(empty dir)<a href="https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#%EB%9E%9C%EB%8D%A4%EC%9C%BC%EB%A1%9C-%EB%AA%85%EC%96%B8%EC%9D%84-%EB%B3%B4%EC%97%AC%EC%A3%BC%EB%8A%94-%EA%B0%84%EB%8B%A8%ED%95%9C-%EC%84%9C%EB%B9%84%EC%8A%A4empty-dir" class="hash-link" aria-label="λλ¤μΌλ΅ λ…μ–Έμ„ λ³΄μ—¬μ£Όλ” κ°„λ‹¨ν• μ„λΉ„μ¤(empty dir)μ— λ€ν• μ§μ ‘ λ§ν¬" title="λλ¤μΌλ΅ λ…μ–Έμ„ λ³΄μ—¬μ£Όλ” κ°„λ‹¨ν• μ„λΉ„μ¤(empty dir)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ†λ„κ°€ λλ¦¬λ‹¤κ³  ν•λ‹¤λ©΄ μ΄κ²ƒμ„ μ‚¬μ©ν•΄μ„ λΉ λ¥΄κ² μ²λ¦¬ν•  μ μμ–΄μ”.
medium: Memoryλ¥Ό μ„¤μ •μ„ ν•λ©΄ OSμ λ©”λ¨λ¦¬ κΈ°λ° νμΌμ‹μ¤ν…μ„ μ‚¬μ©ν•΄μ”. λ”°λΌμ„ λ””μ¤ν¬λ³΄λ‹¤ λ” λΉ λ¥Έ I/O μ„±λ¥μ„ μ κ³µν•΄μ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cache</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">emptyDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">medium</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sizeLimit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 64Mi</span><br></span></code></pre></div></div>
<p>ν•΄λ‹Ή ν”„λ΅μ νΈμ κ²½μ° contextλ” awsλ΅ μ„¤μ •μ΄ λμ–΄μμ–΄μ”.</p>
<p>μ™ ν•΄λ‹Ή ν”„λ΅μ νΈμ—μ„λ” emptyDirμ΄ μ μ ν• κΉμ”?</p>
<ul>
<li>λ…μ–Έ λ°μ΄ν„°λ“¤μ€ νλ°μ„±/μ„μ‹ μ½ν…μΈ μ΄λ―€λ΅, Podκ°€ μ¬μ‹μ‘λλ©΄ μƒλ΅ μƒμ„±λμ–΄λ„ λ¬΄λ°©ν•΄μ”.</li>
<li>html-generatorκ°€ μƒμ„±ν•κ³ , nginxκ°€ μ½μ–΄μ•Όν•λ―€λ΅ κ³µμ  μ¤ν† λ¦¬μ§€κ°€ ν•„μ”ν•΄μ”. κ·Έλ°λ° μ™Έλ¶€ μ¤ν† λ¦¬μ§€ μ—°λ™μ΄ λ¶ν•„μ”ν•κΈ° λ•λ¬Έμ΄κΈ°λ„ ν•΄μ”.</li>
<li>μ†λ„ μ—­μ‹ λΉ λ¥΄λ‹¤λ” μ¥μ μ΄ μμ–΄μ”.</li>
</ul>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;μ΄λ―Έμ§€λ¥Ό κ°€μ Έμ™€μ•Όν•΄μ”.</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">generator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/htdocs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /usr/share/nginx/html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">readOnly</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">emptyDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># fortune-lb.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># annotationsμ„ μ„¤μ • ν•΄μ£Όμ§€ μ•μΌλ©΄ awsμ—μ„λ” μ™Έλ¶€μ— μ ‘μ†μ„ ν—μ©ν•μ§€ μ•μ•„μ”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># VPC μ™Έλ¶€ μ ‘μ†μ΄ κ°€λ¥ν•λ„λ΅ ν•΄μ”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> external</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># λ…Έλ“κ°€ μ•„λ‹λΌ POD IPλ΅ μ§μ ‘ μ „λ‹¬ν•΄μ”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-nlb-target-type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># κ³µμΈ IPλ¥Ό μ‚¬μ©ν•  μ μμ–΄μ”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> internet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">facing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fortune</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-arg-vs-yaml-env-vs-configmap-env-λΉ„κµ-μ‹¤μµ">Docker ARG vs Yaml ENV vs CONFIGMAP ENV λΉ„κµ μ‹¤μµ<a href="https://indianapoly.github.io/blog/2025/07/16/kubernetes/kubernetes-basic-2-title#docker-arg-vs-yaml-env-vs-configmap-env-%EB%B9%84%EA%B5%90-%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="Docker ARG vs Yaml ENV vs CONFIGMAP ENV λΉ„κµ μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬" title="Docker ARG vs Yaml ENV vs CONFIGMAP ENV λΉ„κµ μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>Docker ARGμ κ²½μ°μ—λ” argsλ¥Ό μ„¤μ •ν•μ—¬ λ„κ²¨μ¤„ μ μμ–΄μ”.</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - image: hyeonlim/fortune:args</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args: ["5"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: html-generator</span><br></span></code></pre></div></div>
<p>ymlμ„ ν†µν•΄μ„λ„ argsλ¥Ό μ„¤μ •ν•΄μ¤„ μ μμ–΄μ”. μ„¤μ •μ€ yml νμΌμ— μ•„λμ™€ κ°™μ΄ μ„¤μ •μ„ ν•΄μ£Όλ©΄ λΌμ”.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># μ»¨ν…μ΄λ„μ λ§¤κ°λ³€μκ°€ μ•„λ‹λΌ ν™κ²½λ³€μλ΅ λ“¤μ–΄κ°€μ”. λ”°λΌμ„ ν¨μ¨μ μΌλ΅ μ „λ‹¬μ„ ν•  μ μμ–΄μ”.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> INTERVAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"30"</span><br></span></code></pre></div></div>
<p>CONFIGMAPμ„ μƒμ„±μ„ ν•΄μ¤„ μ μμ–΄μ”. μ•„λ λ…λ Ήμ–΄λ¥Ό ν†µν•΄ ν™•μΈλ„ κ°€λ¥ν•΄μ”.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create configmap fortune-config --from-literal=sleep-interval=7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get cm fortune-config</span><br></span></code></pre></div></div>
<p>μ•„λ μ‚¬μ§„μ cliλ¥Ό μ…λ ¥ν•κ² λλ©΄ μ‚¬μ§„κ³Ό κ°™μ΄ κ°’μ΄ λ“¤μ–΄κ°€ μλ” κ²ƒμ„ ν™•μΈν•  μ μμ–΄μ”.</p>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-16/img1.png">
<ul>
<li>Kubernetes Podμ—μ„ ConfigMapμ κ°’μ„ ν™κ²½ λ³€μλ΅ μ£Όμ…ν•  λ• μ‚¬μ©ν•μ§€λ§ λ©μ κ³Ό λ²”μ„κ°€ λ‹¬λΌμ”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-16/img2.png">
<ul>
<li>ν•΄λ‹Ή μ‚¬μ§„μ—μ„λ” νΉμ • Keyλ§ ν™κ²½ λ³€μλ΅ μ£Όμ…μ΄ λκ³  κ°λ³„ ν™κ²½ λ³€μ μ„¤μ •μ΄ ν•„μ”ν•  λ• μ£Όλ΅ μ‚¬μ©ν•΄μ”.</li>
</ul>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-16/img3.png">
<ul>
<li>ν•΄λ‹Ή μ‚¬μ§„μ€ ConfigMapμ λ¨λ“  Keyλ¥Ό ν™κ²½ λ³€μλ΅ μλ™ μ£Όμ…ν•΄μ”. λ¨λ“  μ„¤μ •μ„ ν•κΊΌλ²μ— μ£Όμ…ν•κ³  μ‹¶μ„ λ• μ‚¬μ©ν•΄μ”.</li>
</ul>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Kubernetes" term="Kubernetes"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[kubernetes Basic(1)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title"/>
        <updated>2025-07-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#deployment" class="hash-link" aria-label="Deploymentμ— λ€ν• μ§μ ‘ λ§ν¬" title="Deploymentμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-recreate-μ¬κ°€λ™-λ°©μ‹-v1--v2">1. RECREATE (μ¬κ°€λ™ λ°©μ‹: v1 β†’ v2)<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#1-recreate-%EC%9E%AC%EA%B0%80%EB%8F%99-%EB%B0%A9%EC%8B%9D-v1--v2" class="hash-link" aria-label="1. RECREATE (μ¬κ°€λ™ λ°©μ‹: v1 β†’ v2)μ— λ€ν• μ§μ ‘ λ§ν¬" title="1. RECREATE (μ¬κ°€λ™ λ°©μ‹: v1 β†’ v2)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>νΉμ§•: μ„λΉ„μ¤ μ¤‘λ‹¨ λ°μƒ</p>
<p>μ¥μ : μ„¤μ •μ΄ μ‰¬μ›€</p>
<p>λΉ„κ³ : ν„μ—…μ—μ„ κ°€μ¥ ν”ν μ‚¬μ©λλ©°, μ„λΉ„μ¤ μ¤‘λ‹¨μ„ κ°μν•΄μ•Ό ν•λ” λ°©μ‹</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-ramped-rolling-update">2. RAMPED (Rolling Update)<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#2-ramped-rolling-update" class="hash-link" aria-label="2. RAMPED (Rolling Update)μ— λ€ν• μ§μ ‘ λ§ν¬" title="2. RAMPED (Rolling Update)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>νΉμ§•: μμ°¨μ μΌλ΅ μ—°κ²° μ‹λ„ β†’ λ¬΄μ¤‘λ‹¨ μ„λΉ„μ¤ μ κ³µ</p>
<p>μ„¤μ • λ°©λ²•:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RollingUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">maxSurge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> μ) 1 β†’ replicas + maxSurge λ§νΌ pod μƒμ„± κ°€λ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">maxUnavailable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> μ) 1 β†’ replicas μ¤‘ λ™μ‹μ— μ¤‘λ‹¨ κ°€λ¥ν• pod μ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">β‡’ μ„ 2κ°μ μµμ…μ„ ν†µν•΄μ„ μ¬κ°€λ™ μ†λ„λ¥Ό μ μ–΄ν•  μ μμ</span><br></span></code></pre></div></div>
<p>μ¶”κ°€ μ„¤μ •<!-- -->:Sticky<!-- --> session: λ²„μ „ κ°„ μ΄λ™ λ°©μ§€</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-blue--green-λ°°ν¬">3. Blue / Green λ°°ν¬<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#3-blue--green-%EB%B0%B0%ED%8F%AC" class="hash-link" aria-label="3. Blue / Green λ°°ν¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="3. Blue / Green λ°°ν¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>νΉμ§•: selectorμ λ²„μ „ λ³€κ²½μΌλ΅ μ „μ²΄ κµμ²΄</p>
<p>μ‚¬μ© λ©μ :κ°λ° λ²„μ „μ„ μ΄μμ— λ°”λ΅ λ°μν•΄μ•Ό ν•λ” μƒν™©</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-canary-λ°°ν¬">4. Canary λ°°ν¬<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#4-canary-%EB%B0%B0%ED%8F%AC" class="hash-link" aria-label="4. Canary λ°°ν¬μ— λ€ν• μ§μ ‘ λ§ν¬" title="4. Canary λ°°ν¬μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>νΉμ§•: rampedμ™€ μ μ‚¬ν•μ§€λ§, μΌλ¶€ νΈλν”½μΌλ΅ λ¨Όμ € μ•μ •μ„± κ²€μ¦ ν›„ μ „μ²΄ μ΄μ „</p>
<p>μ„¤μ •: replicas: 9(v1), 1(v2) μ„¤μ •, RouteRuleμ route β†’ weight μ„¤μ •μΌλ΅ μ†μ‰½κ² μ„¤μ • κ°€λ¥</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-ab-ν…μ¤νΈ">5. A/B ν…μ¤νΈ<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#5-ab-%ED%85%8C%EC%8A%A4%ED%8A%B8" class="hash-link" aria-label="5. A/B ν…μ¤νΈμ— λ€ν• μ§μ ‘ λ§ν¬" title="5. A/B ν…μ¤νΈμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>νΉμ§• : header, cookie κΈ°λ°μΌλ΅ μ‚¬μ©μ κ·Έλ£Ή λ¶„λ¦¬</p>
<p>μ‚¬μ© λ©μ : UIλ‚ κΈ°λ¥ κ°μ„ μ ν¨κ³Όλ¥Ό ν™•μΈν•κ³ μ ν•  λ• (μƒλ΅μ΄ UIκ°€ κµ¬λ§¤μ¨μ„ λ†’μ΄λ”μ§€ ν™•μΈ)</p>
<p>μ„¤μ •: matchμ— header μ΅°κ±΄ μ¶”κ°€</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-shadow-νΈλν”½-λ―Έλ¬λ§">6. Shadow νΈλν”½ (λ―Έλ¬λ§)<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#6-shadow-%ED%8A%B8%EB%9E%98%ED%94%BD-%EB%AF%B8%EB%9F%AC%EB%A7%81" class="hash-link" aria-label="6. Shadow νΈλν”½ (λ―Έλ¬λ§)μ— λ€ν• μ§μ ‘ λ§ν¬" title="6. Shadow νΈλν”½ (λ―Έλ¬λ§)μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ‚¬μ© λ©μ : κΈ°μ΅΄ μ„±λ¥ κ°μ„ μ„ μ„ν•΄ (μμ‹ : Monolith β†’ Microservice κµ¬μ΅° μ „ν™ μ‹ μ μ©)</p>
<p>μ„¤μ •: mirror μ„¤μ •μΌλ΅ μ‹¤μ  μ”μ²­μ„ λ³µμ ν•μ—¬ ν…μ¤νΈ ν™κ²½μΌλ΅ μ „λ‹¬</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#service" class="hash-link" aria-label="Serviceμ— λ€ν• μ§μ ‘ λ§ν¬" title="Serviceμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<p>μΏ λ²„λ„¤ν‹°μ¤μ μ„λΉ„μ¤λ” κΈ°λ³Έμ μΌλ΅ λ„¤νΈμ›ν¬μ΄λ‹¤. (λ¬Όλ¦¬μ μΈ κ²ƒμ΄ μ•„λ‹λ‹¤.)</p>
<p>(μΏ λ²„λ„¤ν‹°μ¤μ podκ°€ μ£½κ³  λ‹¤λ¥Έ λ…Έλ“λ΅ μ΄λ™ν•λ©΄ IPκ°€ λ³€λ™μ΄λλ”λ°, μΏ λ²„λ„¤ν‹°μ¤ μ•μ—λ” κ·μΉ™ κΈ°λ°μ DNS μ„λ²„μ¤κ°€ μλ‹¤.)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-ip">cluster IP<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#cluster-ip" class="hash-link" aria-label="cluster IPμ— λ€ν• μ§μ ‘ λ§ν¬" title="cluster IPμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ””ν΄νΈ μ„λΉ„μ¤, layer4 =&gt; λ‚΄λ¶€μ—λ§ μ ‘μ†μ΄ κ°€λ¥ν•λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-port">Node Port<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#node-port" class="hash-link" aria-label="Node Portμ— λ€ν• μ§μ ‘ λ§ν¬" title="Node Portμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>νΈλν”½μ΄ μ¤λ©΄ λ…Έλ“μ νΉμ • ν¬νΈμ— λ„μ°©ν•κ³ , ν΄λ¬μ¤ν„° IPλ΅ κ°€κ³  μ΄λ¥Ό λ¶„κΈ° μ‹ν‚¨λ‹¤.</p>
<ul>
<li>κ°λ°μλ“¤μ΄ ν™•μΈν•κΈ° μ„ν•΄μ„ μ£Όλ΅ μ‚¬μ©ν•κ³  μ›¬λ§ν•λ©΄ μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.</li>
<li>λ…Έλ“λ¥Ό λ§λ“λ” μ΄μ λ”?<!-- -->
<ul>
<li>νΈλν”½μ΄ λ°λ¦¬λ” κ²ƒμ„ λ°μ‘ν•κΈ° μ„ν•¨μ΄λ‹¤.</li>
<li>μ–΄λ–¤ λ…Έλ“μ— κ·μΉ™μ„ μ μ©ν•΄μ„ μ‘μ—…ν•κΈ° μ„ν•¨μ΄λ‹¤.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="load-balancer">Load Balancer<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#load-balancer" class="hash-link" aria-label="Load Balancerμ— λ€ν• μ§μ ‘ λ§ν¬" title="Load Balancerμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>νΈλν”½μ΄ λ“¤μ–΄μ¤λ©΄ λ‚λ†. cluster ipμ™€ λ‹¤λ¥Έ μ μ€ cluster ipλ” λ‚΄λ¶€μ— μκ³  λ΅λ“λ°Έλ°μ„λ” μ™Έλ¶€μ— μ„μΉν•΄μλ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingress">Ingress<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#ingress" class="hash-link" aria-label="Ingressμ— λ€ν• μ§μ ‘ λ§ν¬" title="Ingressμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ™Έλ¶€μ— μ„μΉμ— μμ. λ΅λ“ λ°Έλ°μ„μ™€μ μ°¨μ΄μ μ€ λ΅λ“ λ°Έλ°μ„λ” layer4μ΄κ³  Ingressλ” layer7μ΄λ‹¤. (layer1~layer7κΉμ§€ ν™•μΈμ„ ν•΄λ³Ό μ μλ‹¤.)</p>
<p>μ‚¬μ©μκ°€ xxx.xxx.xxx.comμ΄ μ ‘μ†μ„ ν•λ©΄
igwλ¥Ό ν†µν•΄ ingress(νΌλΈ”λ¦­ λ„λ©”μΈμ΄ μλ™ ν™λ™, ALB, NLB)μ— λ“¤μ–΄μ¤κ³  k8s μ„λΉ„μ¤μ— μ ‘μ†μ΄ λλ‹¤. μ²« λ²μ§Έ κ»λ°κΈ°λ” replicaset λ‘ λ²μ§Έ κ»λ°κΈ°λ” deployment
ingressλ§ μƒμ„±ν•λ” κ²ƒμ΄ μ•„λ‹λΌ λ‚΄λ¶€ μ„λΉ„μ¤λ¥Ό μƒμ„±ν•΄μ•Ό ν†µμ‹ μ΄ λλ‹¤.</p>
<p>μΏ λ²„λ„¤ν‹°μ¤ μ•μ— LB controllerκ°€ ingressλ¥Ό μƒμ„±ν•κ³ , μƒνƒλ¥Ό κ°μ‹ν•λ‹¤. κ·Έλ¦¬κ³  μ‚­μ λ„ ν•΄μ¤€λ‹¤.</p>
<ul>
<li>ingressλ¥Ό μ‚­μ ν•κ³  ν…λΌνΌμ„ μ‚­μ ν•λ” κ²ƒμ΄ λ” λΉ λ¥΄λ‹¤. ingressλ” μ™Έλ¶€ μ„λΉ„μ¤μ΄κΈ° λ•λ¬Έμ΄λ‹¤.</li>
</ul>
<p>β… <strong>μ™ ELB IPκ°€ 3κ° λ‚μ¤λ”κ°€?</strong></p>
<img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-15/img1.png" alt="μ„¤λ…" width="600">
<p>AWSμ—μ„ Network Load Balancer(NLB)λ” <strong>μ„λΈλ„·μ΄ μ΅΄μ¬ν•λ” λ¨λ“  κ°€μ©μμ—­(AZ)</strong> μ— <strong>μλ™μΌλ΅
IPλ¥Ό ν• λ‹Ή</strong>ν•©λ‹λ‹¤. μ΄λ” κ³ κ°€μ©μ„±(High Availability)μ„ λ³΄μ¥ν•κΈ° μ„ν• κΈ°λ³Έ λ™μ‘μ΄λ‹¤.</p>
<ol>
<li>μ„μΈ λ¦¬μ „(<code>ap-northeast-2</code>)μ—μ„ VPC μƒμ„±</li>
</ol>
<ul>
<li>μ•„λμ™€ κ°™μ΄ <strong>3κ°μ ν”„λΌμ΄λΉ— μ„λΈλ„· μƒμ„±</strong>:</li>
</ul>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">variable "private_subnet_cidrs" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type = map(string)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a = "10.1.4.0/24"  // ap-northeast-2a (8μΈµ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b = "10.1.5.0/24"  // ap-northeast-2b (9μΈµ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c = "10.1.6.0/24"  // ap-northeast-2c (10μΈµ)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<ol start="2">
<li>EKS ν΄λ¬μ¤ν„° μƒμ„±</li>
</ol>
<p><img src="https://indianapoly.github.io/img/blog/kubernetes/2025-07-15/img2.png" alt="μ„¤λ…" width="600">-</p>
<p>EKSν΄λ¬μ¤ν„°λ¥Ό μƒμ„±ν•λ©΄ λ…Έλ“ κ·Έλ£Ήμ„ κµ¬μ„± - λ…Έλ“λ” 2κ°μ—λ§ λ°°μΉκ°€ λλ‹¤.</p>
<ol start="3">
<li>Ingress μƒμ„±</li>
</ol>
<ul>
<li>Ingress λ¦¬μ†μ„λ¥Ό μƒμ„±μ„ ν•λ©΄ AWSμ—μ„ NLB μλ™ μƒμ„±</li>
<li>NLBλ” μ—°κ²°λ μ„λΈλ„·μ— μλ” λ¨λ“  AZμ— IPλ¥Ό ν• λ‹Ή</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="headless-service">Headless service<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#headless-service" class="hash-link" aria-label="Headless serviceμ— λ€ν• μ§μ ‘ λ§ν¬" title="Headless serviceμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ•„λμ™€ κ°™μ΄ μ„¤μ •μ„ ν•λ©΄ headless serviceκ°€ λλ‹¤.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">clusterIP</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> None</span><br></span></code></pre></div></div>
<p>Headlessλ¥Ό ν•λ©΄ podλ΅ κ°€λ”κ² μ•„λ‹λΌ podμ backendμ IPμ£Όμ†λ¥Ό μ¤€λ‹¤.</p>
<p>μ–΄λ””μ— μ“°λ”μ§€? μ™ μ“°λ”μ§€?
λ¶„μ‚°ν• λ°μ΄ν„° μ €μ¥ μ„λΉ„μ¤(DB, Messeage Queue, InMemory DB)</p>
<ol>
<li>ν΄λΌμ΄μ–ΈνΈ μ—°κ²°</li>
<li>λ‡ κ°κ°€ μ‚΄μ•„μλ”μ§€ ν™•μΈν•κΈ° μ„ν•΄μ„</li>
<li><strong>νΉμ • λ…Έλ“μ λ°μ΄ν„°λ¥Ό ν™•μΈν•΄μ•Όν•  λ• -&gt; μ΄κ² ν•µμ‹¬</strong></li>
</ol>
<p>λ¶„μ‚°ν• λ°μ΄ν„°λ² μ΄μ¤ (Cassandra, Mongo, Redis)μ— μ €μ¥μ΄ λ  λ• λ°μ΄ν„°λ¥Ό μ €μ¥ν•κΈ° μ„ν•΄μ„λ” Hash Algorithmμ„ μ“΄λ‹¤. μ΄ λ• λ…Έλ“μ— μ €μ¥μ„ ν•κΈ° μ„ν•΄μ„λ” λ…Έλ“μ μ •λ³΄λ¥Ό μ•μ•Όμ•„ν•λ”λ° μ–΄λ¥Ό λ• λ…Έλ“μ μ •λ³΄λ¥Ό λ°ν™ν•κΈ° μ„ν•΄μ„ Headlessλ¥Ό μ΄μ©ν•λ‹¤.</p>
<ul>
<li>Hash Algorithmμ„ μ‚¬μ©ν•  λ• Nodeμ κ°―μκ°€ μ•½ 10 μ΄μƒμ μ†μμΈ κ²½μ°μ— evenν•κ² κ°’μ΄ λ¶„μ‚°μ΄ λλ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="volume">volume<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#volume" class="hash-link" aria-label="volumeμ— λ€ν• μ§μ ‘ λ§ν¬" title="volumeμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>docker image layerμ— hash κ°’μ΄ μλ” μ΄μ λ” ?</p>
<p>κ°€μƒ λ¨Έμ‹ μ λ””μ¤ν¬λ¥Ό μ“°κ² λλ‹¤λ©΄, ν•λ‚λ§ μμ •ν•΄λ„ μ „μ²΄κ°€ λ³€κ²½μ΄ λλ‹¤. μ΄ λ• docker μ layerλ¥Ό μƒκ°μ„ ν•λ©΄ μΊμ‹λ¥Ό ν•  μ μλ‹¤λ” μ μ΄λ‹¤. λ”°λΌμ„ λ³€κ²½μ΄ λλ©΄ ν•΄μ‹ κ°’μ΄ λ°”λ€μΌλ΅ μΈν•΄μ„ λ³€κ²½ μ‚¬ν•­μ„ νμ•… κ°€λ¥ν•λ‹¤.</p>
<p>μ»¨ν…μ΄λ„κ°€ μΆ…λ£λλ‹¤λ©΄? λ‹¤ μ‚¬λΌμ§.
-&gt; μ»¨ν…μ΄λ„κ°€ μΆ…λ£λμ–΄λ„ λ°μ΄ν„°λ¥Ό μ μ§€ν•  μ μλ” λ°©λ²•μ€ μ™Έλ¶€ λ””μ¤ν¬ λ³Όλ¥¨μ„ λ§μ΄νΈ ν•λ” κ²ƒμ…λ‹λ‹¤.</p>
<ul>
<li>
<p>EmptyDir: Podκ°€ μΆ…λ£λλ©΄ μκµ¬μ μΌλ΅ μ‚­μ λ©λ‹λ‹¤. (μ¦‰ Podμ™€ λ™μΌν• LifeCycleμ„ κ°€μ§€κ² λ©λ‹λ‹¤.) --&gt; κ·Έλ°λ° μ™ μ“ΈκΉμ”? λ€κ·λ¨ κΈ°λ° μ •λ ¬ μ‘μ—…, Pod λ‚΄μ μ»¨ν…μ΄λ„ κ°„ νμΌ κµν™μ„ ν•κΈ° μ„ν•¨μ΄μ—μ”.</p>
</li>
<li>
<p>HostPath: podκ°€ μΆ…λ£λμ–΄λ„ μƒνƒκ°€ μ μ§€κ°€ λ©λ‹λ‹¤. λ‹¤λ§ Podλ” ν•­μƒ λ‹¤λ¥Έ λ…Έλ“λ΅ μ΄λ™ κ°€λ¥μ„±μ΄ μ΅΄μ¬ν•κΈ° λ•λ¬Έμ— μ—λ¬κ°€ λ‚  μ μλ‹¤λ” λ¬Έμ κ°€ μμµλ‹λ‹¤.</p>
</li>
<li>
<p>persistent volume(PV)</p>
<ul>
<li>block disk (λ…ΈνΈλ¶ c drive) : λ™μ‹μ— μ½μ„ μλ” μμ§€λ§, μ“Έ μ μ—†μµλ‹λ‹¤. | μμ„κ°€ μ μΌ λΉ λ¦…λ‹λ‹¤.</li>
<li>network file disk(systme) = NFS : μ—¬λ¬ μ‚¬μ©μκ°€ μ ‘κ·Όν•μ—¬ λ™μ‹μ— μ“Έ μ μκ³ , μ½μ„ μ μμµλ‹λ‹¤. | 2μμ„</li>
<li>object dist (aws S3) : 3μμ„ =&gt; λ€κ·λ¨ μ‘μ—…μ€ μ—¬κΈ°μ„ μ§„ν–‰μ„ ν•©λ‹λ‹¤. μ™ κ·Έλ΄κΉμ”? Append only, νμΌμ„ μ—΄μ–΄μ„ μμ •ν•  μ μ—†μµλ‹λ‹¤. =&gt; μ™ κ·Έλ΄κΉμ”? λ¶„μ‚° μ‘μ—…μ— μ λ¦¬ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤. (μ—°μ‚° μ¤‘μ— λ³€κ²½μ„ ν•λ©΄ μ²μλ¶€ν„° λ‹¤μ‹ ν•΄μ•Όν•λ”λ°, μ΄λ° μ‘μ—…μ„ μ• μ΄μ— λ‹«μ•„λ²„λ¦½λ‹λ‹¤.)</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="μ‹¤μµ">μ‹¤μµ<a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#%EC%8B%A4%EC%8A%B5" class="hash-link" aria-label="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬" title="μ‹¤μµμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-httpd-λ°°ν¬--μ΄λ―Έμ§€-μ—…λ°μ΄νΈ--λ΅¤λ°±--μ‚­μ ">1. HTTPD λ°°ν¬ β†’ μ΄λ―Έμ§€ μ—…λ°μ΄νΈ β†’ λ΅¤λ°± β†’ μ‚­μ <a href="https://indianapoly.github.io/blog/2025/07/15/kubernetes/kubernetes-basic-1-title#1-httpd-%EB%B0%B0%ED%8F%AC--%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8--%EB%A1%A4%EB%B0%B1--%EC%82%AD%EC%A0%9C" class="hash-link" aria-label="1. HTTPD λ°°ν¬ β†’ μ΄λ―Έμ§€ μ—…λ°μ΄νΈ β†’ λ΅¤λ°± β†’ μ‚­μ μ— λ€ν• μ§μ ‘ λ§ν¬" title="1. HTTPD λ°°ν¬ β†’ μ΄λ―Έμ§€ μ—…λ°μ΄νΈ β†’ λ΅¤λ°± β†’ μ‚­μ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ•„λ νμΌ ν†µν•΄μ„ httpdλ¥Ό μ„¤μΉν•λ‹¤.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> httpd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2.4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre></div></div>
<p><strong>1. Deployment</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./deploy-practice.yml</span><br></span></code></pre></div></div>
<ul>
<li>httpd-deployment λΌλ” μ΄λ¦„μ deploymentκ°€ μƒμ„±μ΄ λλ‹¤.</li>
<li>PODλ” κΈ°λ³Έ μ„¤μ •μ— λ”°λΌμ„ μ μ©μ΄ λλ‹¤.</li>
</ul>
<p><strong>2. λ³€κ²½ μ‚¬μ (Revision 1) μ£Όμ„(Annotation) μ¶”κ°€</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause="first"</span><br></span></code></pre></div></div>
<ul>
<li>κΈ°λ΅μ— "first"λΌλ” μ„¤λ…μ„ μ¶”κ°€ν•λ‹¤.</li>
<li>rollout history μ— Revision 1λ΅ κΈ°λ΅μ΄ λλ‹¤.</li>
</ul>
<p><strong>3. μ΄λ―Έμ§€ μ—…λ°μ΄νΈ λ° λ³€κ²½ μ‚¬μ  λ“±λ΅ (Revision 2)</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl set image deploy httpd-deployment httpd=httpd:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause="update latest"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<ul>
<li>httpd μ»¨ν„°μ΄λ„μ μ΄λ―Έμ§€κ°€ httpd<!-- -->:latest<!-- -->λ΅ μ—…λ°μ΄νΈκ°€ λλ‹¤.</li>
<li>update latest λ΅ μ£Όμ„ μ¶”κ°€κ°€ λλ‹¤.</li>
</ul>
<p><strong>4. λ΅¤μ•„μ›ƒ μƒνƒ ν™•μΈ λ° νλ“ ν™•μΈ</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl rollout status deploy httpd-deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -l app=httpd</span><br></span></code></pre></div></div>
<ul>
<li>νλ“κ°€ μ •μƒμ μΌλ΅ λ°°ν¬κ°€ λλ‹¤.</li>
</ul>
<p><strong>5. Scale out</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl scale deploy httpd-deployment --replicas=5</span><br></span></code></pre></div></div>
<ul>
<li>λ ν”λ¦¬μΉ΄ μκ°€ 5κ°λ΅ μ¦κ°€κ°€ λλ‹¤. κΈ°μ΅΄μ—μ„ 2κ° μ¶”κ°€κ°€ λλ‹¤.</li>
</ul>
<p><strong>6. Rollback</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl rollout undo deploy httpd-deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl annotate deploy httpd-deployment kubernetes.io/change-cause="rollback"</span><br></span></code></pre></div></div>
<ul>
<li>μ΄μ „ λΉ„μ „μΌλ΅ λ΅¤λ°±μ΄ μ§„ν–‰μ΄ λλ‹¤.</li>
<li>λ΅¤λ°± μ‚¬μ λ” rollbackμΌλ΅ κΈ°λ΅</li>
</ul>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Kubernetes" term="Kubernetes"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Docker Basic(1)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/14/docker/docker-basic-1-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/14/docker/docker-basic-1-title"/>
        <updated>2025-07-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<p>cloudwave 6κΈ° μμ—…μ—μ„ λ“¤μ€ λ‚΄μ©μ„ μ •λ¦¬ν• κΈ€μ…λ‹λ‹¤.</p>
<blockquote>
<p><a href="https://docs.docker.com/manuals/" target="_blank" rel="noopener noreferrer">Docker DOCS</a></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerλ¥Ό-μ‚¬μ©ν•λ”-μ΄μ ">Dockerλ¥Ό μ‚¬μ©ν•λ” μ΄μ <a href="https://indianapoly.github.io/blog/2025/07/14/docker/docker-basic-1-title#docker%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0" class="hash-link" aria-label="Dockerλ¥Ό μ‚¬μ©ν•λ” μ΄μ μ— λ€ν• μ§μ ‘ λ§ν¬" title="Dockerλ¥Ό μ‚¬μ©ν•λ” μ΄μ μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ„μ»¤λ¥Ό ν™μ©ν•λ” μ΄μ λ” ν¬κ² λ³΄λ©΄ μ„λΉ„μ¤μ μ¶”μƒν™”μ…λ‹λ‹¤. HOST ν™κ²½κ³Ό μ„λΉ„μ¤λ¥Ό κ²©λ¦¬ μ‹ν‚΄μΌλ΅μ„</p>
<ol>
<li>
<p>μ„λΉ„μ¤λ¥Ό νΈν•κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.</p>
</li>
<li>
<p>κ²©μμ μ—­ν• λ΅ μ΄λ“¤μ„ μ΅°λ¦½ν•μ—¬ μƒλ΅μ΄ κ²°κ³Όλ¬Όμ„ λ§λ“¤ μ μμµλ‹λ‹¤.</p>
</li>
</ol>
<p>μ΄μ™€ κ°™μ€ μ΄μ μ΄ μμ–΄ λ„μ»¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile">Dockerfile<a href="https://indianapoly.github.io/blog/2025/07/14/docker/docker-basic-1-title#dockerfile" class="hash-link" aria-label="Dockerfileμ— λ€ν• μ§μ ‘ λ§ν¬" title="Dockerfileμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># BASE_IMAGEμ— @λ¥Ό ν™μ©ν• tagλ¥Ό μ§€μ •ν•μ§€ μ•μΌλ©΄ latestλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># FROMμ€ κΈ°λ³Έμ μΌλ΅ ν• λ²λ§ μ‚¬μ©μ΄ λλ”λ° 2λ² μ΄μƒ μ‚¬μ©μ— λ€ν•΄μ„λ” μ•„λμ—μ„ μ„¤λ…μ„ ν•κ² μµλ‹λ‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM BASE_IMAGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># μ»¨ν…μ΄λ„ λ‚΄μ working directoryλ¥Ό λ³€κ²½ν•©λ‹λ‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR &lt;κ²½λ΅&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ν¬νΈλ¥Ό μ™Έλ¶€λ΅ λ…Έμ¶μ„ ν•©λ‹λ‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE &lt;ν¬νΈλ²νΈ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ADDμ κ²½μ°μ—λ” githubκ³Ό κ°™μ€ RemotePathκ°€ κ°€λ¥ν•©λ‹λ‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># λ„£κ³ μ ν•λ” νμΌ: μƒλ€ κ²½λ΅</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># μ»¨ν…μ΄λ„ λ‚΄ κ²½λ΅ : μ λ€ κ²½λ΅ μ‚¬μ©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADD &lt;λ„£κ³ μν•λ” νμΌμ κ²½λ΅&gt; &lt;μ»¨ν…μ΄λ„ λ‚΄ κ²½λ΅&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY &lt;λ„£κ³ μν•λ” νμΌμ κ²½λ΅&gt; &lt;μ»¨ν…μ΄λ„ λ‚΄ κ²½λ΅&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># μ΄λ―Έμ§€λ¥Ό λΉλ“ν•λ” κ³Όμ •μ— λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN &lt;λ…λ Ήμ–΄&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CMD κ°™μ€ κ²½μ°μ—λ” docker runμ‹ λ³€κ²½μ΄ κ°€λ¥ν•μ§€λ§ ENTRYPOINTλ” λ³€κ²½μ΄ λ¶κ°€λ¥ν•λ‹¤.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD &lt;λ…λ Ήμ–΄ μ •μ&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT &lt;ν•„μ μ‹¤ν–‰ λ…λ Ήμ–΄&gt;</span><br></span></code></pre></div></div>
<ul>
<li>
<p>μ΄λ―Έμ§€μ—μ„λ” tagμ™€ digestλ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤. tagμ κ²½μ°μ—λ” μ‹μ μ— λ”°λΌμ„ μ΄λ―Έμ§€κ°€ μƒμ΄ν•  μ μμµλ‹λ‹¤. ν•μ§€λ§ digestλ” μ™„μ „ν κ³ μ •μ΄ λμ–΄μμµλ‹λ‹¤.</p>
</li>
<li>
<p>ν†µμ©λμ§„ μ•μ§€λ§ <strong>ARGμ™€ κ°™μ€ λ…λ Ήμ–΄λ¥Ό μ μ™Έ</strong>ν•λ‹¤λ©΄ ν•μ¤„μ λ„μ»¤ νμΌ λ…λ Ήμ–΄ ν• μ¤„λ§λ‹¤ λ μ΄μ–΄κ°€ λλ©°, λ μ΄μ–΄λ“λ¥΄μΈ κΈ°λ³Έμ μΌλ΅ Read Only μƒνƒλ¥Ό κ°€μ§€κ² λ©λ‹λ‹¤.</p>
<blockquote>
<p>ARG κ°’μ„ Application λ‚΄λ¶€μ—μ„ μ‚¬μ©μ„ ν•μ§€ μ•κΈ° λ•λ¬Έμ— κµ³μ΄ Layerλ΅ λ§λ“¤ ν•„μ”κ°€ μ—†μµλ‹λ‹¤.</p>
</blockquote>
</li>
<li>
<p>λ μ΄μ–΄μ μµμƒλ‹¨μ—λ” <strong>container layer</strong>κ°€ μ΅΄μ¬ν•λ”λ° ν•΄λ‹Ή λ μ΄μ–΄λ” Read Write μƒνƒλ¥Ό κ°€μ§€κ² λ©λ‹λ‹¤. μ»¨ν…μ΄λ„κ°€ μ‚­μ κ°€ λλ‹¤λ©΄ container layer μ—­μ‹ μ‚­μ κ°€ λ©λ‹λ‹¤.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile-μ΄λ―Έμ§€-μƒμ„±">Dockerfile μ΄λ―Έμ§€ μƒμ„±<a href="https://indianapoly.github.io/blog/2025/07/14/docker/docker-basic-1-title#dockerfile-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1" class="hash-link" aria-label="Dockerfile μ΄λ―Έμ§€ μƒμ„±μ— λ€ν• μ§μ ‘ λ§ν¬" title="Dockerfile μ΄λ―Έμ§€ μƒμ„±μ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<blockquote>
<p>docker build μ‹μ— -f λ΅ Dockerfileμ„ μ§€μ •ν•΄μ£Όμ§€ μ•μΌλ©΄ κΈ°λ³Έμ μΌλ΅  Dockerfileμ„ μ‚¬μ©ν•©λ‹λ‹¤.</p>
</blockquote>
<p>Dockerfileμ λ©μ μ€ μ΄λ―Έμ§€λ¥Ό λ§λ“λ” κ²ƒμ…λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-stage">Multi Stage<a href="https://indianapoly.github.io/blog/2025/07/14/docker/docker-basic-1-title#multi-stage" class="hash-link" aria-label="Multi Stageμ— λ€ν• μ§μ ‘ λ§ν¬" title="Multi Stageμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>μ•„λ μμ‹λ” golangμ„ imageλ¥Ό ν™μ©ν•μ—¬ Go applicationμ„ μ»΄νμΌμ„ μ§„ν–‰ν•©λ‹λ‹¤. κ·Έλ¦¬κ³  μ„μ κ²°κ³Όλ¬Όμ„ Scratch μ΄λ―Έμ§€λ΅ κ°€μ Έμ™€ Scratchλ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM golang:1.19-alpine as build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY src ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN CGO_ENABLED=0 go build -o main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM scratch as release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --from=build /app/main /app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD ["/app/main"]</span><br></span></code></pre></div></div>
<p>μ²« λ²μ§Έλ΅ μ‚¬μ©λ FROMμ€ μ„μ‹λ΅ μ“°μ΄κ³  λ²„λ ¤μ§‘λ‹λ‹¤. --fromμ„ ν™μ©ν•΄μ„ μ²« λ²μ§Έ FROMμ κ²°κ³Όλ¬Όμ„ λ„£μ„ μ μμµλ‹λ‹¤. μ΄λ ‡κ² μ‹¤ν–‰μ„ ν•κ²λλ©΄ alpineλ³΄λ‹¤ scratch μ΄λ―Έμ§€μ ν¬κΈ°κ°€ μ‘λ‹¤λ” μ΄μ μ΄ μ΅΄μ¬ν•©λ‹λ‹¤.</p>
<p>Production ν™κ²½μ—μ„λ” λ³΄μ•μ„± μ¦λ€ λ° μ΄λ―Έμ§€ κ²½λ‰ν™”λ¥Ό μ„ν•΄ μ‚¬μ©ν•λ” κ²½μ°κ°€ λ§μ΄ μμµλ‹λ‹¤.</p>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Docker" term="Docker"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Docker Basic(2)]]></title>
        <id>https://indianapoly.github.io/blog/2025/07/10/docker/docker-basic-2-title</id>
        <link href="https://indianapoly.github.io/blog/2025/07/10/docker/docker-basic-2-title"/>
        <updated>2025-07-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[{/ truncate /}]]></summary>
        <content type="html"><![CDATA[
<p>cloudwave 6κΈ° μμ—…μ—μ„ λ“¤μ€ λ‚΄μ©μ„ μ •λ¦¬ν• κΈ€μ…λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-network">Docker Network<a href="https://indianapoly.github.io/blog/2025/07/10/docker/docker-basic-2-title#docker-network" class="hash-link" aria-label="Docker Networkμ— λ€ν• μ§μ ‘ λ§ν¬" title="Docker Networkμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ„¤νΈμ›ν¬λ¥Ό μ‚¬μ©ν•λ” μ΄μ λ” Data μ†΅μμ‹  λ° μ ‘κ·Ό μ μ–΄λ¥Ό ν•κΈ° μ„ν•¨μ…λ‹λ‹¤.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker network create [OPTIONS] NETWORK</span><br></span></code></pre></div></div>
<p>μ£Όμ” μµμ…μ—λ” --driver(-d), --labelμ΄ μμµλ‹λ‹¤.</p>
<p>--driverμ μΆ…λ¥</p>
<ul>
<li>bridge : λ™μΌν• host μ»΄ν“¨ν„° λ‚΄μ—μ„ μ»¨ν…μ΄λ„λΌλ¦¬ ν†µμ‹ ν•κΈ° μ„ν•΄μ„ μ‚¬μ©μ„ ν•©λ‹λ‹¤</li>
<li>host : μ»¨ν…μ΄λ„κ°€ hostμ™€ λ™μΌν• λ„¤νΈμ›ν¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. (μΈμ¤ν„΄μ¤ λ³„λ΅ ν•κ°λ§ μƒμ„±)</li>
<li>none</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker network connect [OPTIONS] NETWORK CONTAINER</span><br></span></code></pre></div></div>
<p>μ£Όμ” μµμ…μ—λ” --alias, --ipκ°€ μμµλ‹λ‹¤.
--aliasλ” λ„¤νΈμ›ν¬ aliasλ¥Ό μ¶”κ°€ν•λ” κ²ƒμΌλ΅ μΌμΆ…μ μ¶”μƒν™”μ…λ‹λ‹¤.</p>
<p>λ„¤νΈμ›ν¬ μ—°κ²°μ„ μ κ±°ν•κΈ° μ„ν•΄μ„λ” <code>disconnect</code>λ¥Ό μ“°κ³ , μ‚­μ λ¥Ό ν•κΈ° μ„ν•΄μ„λ” <code>rm</code>μ„ μ‚¬μ©ν•©λ‹λ‹¤. λ¨λ“  λ„¤νΈμ›ν¬λ¥Ό μ‚­μ ν•κΈ° μ„ν•΄μ„λ” <code>prune</code>μ„ μ‚¬μ©ν•©λ‹λ‹¤.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="buildx">buildx<a href="https://indianapoly.github.io/blog/2025/07/10/docker/docker-basic-2-title#buildx" class="hash-link" aria-label="buildxμ— λ€ν• μ§μ ‘ λ§ν¬" title="buildxμ— λ€ν• μ§μ ‘ λ§ν¬">β€‹</a></h3>
<p>λ™μΌν• κΈ°λ¥μ— λ‹¤λ¥Έ μ•„ν‚¤ν…μ²λ¥Ό λΉλ“ν•κΈ° μ„ν•΄μ„ μ‚¬μ©ν•©λ‹λ‹¤.</p>
<p><strong>Multi-platformμ© builder μƒμ„±</strong></p>
<p>ν”λ«νΌ μµμ…μ„ ν†µν•΄μ„ μ΄λ―Έμ§€λ¥Ό λΉλ“ν•  μ μλ” λΉλ”λ¥Ό μƒμ„±ν•  μ μμµλ‹λ‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker buildx create --driver docker-container --name multi-builder --platform linux/amd64,linux/arm64</span><br></span></code></pre></div></div>
<p><strong>μ΄λ―Έμ§€ λΉλ“ν•κΈ°</strong></p>
<p>ν”λ«νΌ μµμ…μ„ ν™μ©ν•μ—¬ κ° μ•„ν‚¤ν…μ²μ— λ§λ” μ΄λ―Έμ§€λ¥Ό μ μ‘ν•  μ μμµλ‹λ‹¤.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker buildx build --platform linux/amd64,linux/arm64 -t &lt;μ΄λ¦„νƒκ·Έ μ„¤μ •&gt; .</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>κ³ ν„λ¦Ό</name>
            <uri>https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/</uri>
        </author>
        <category label="TIL" term="TIL"/>
        <category label="Docker" term="Docker"/>
    </entry>
</feed>