"use strict";(self.webpackChunktil=self.webpackChunktil||[]).push([[8130],{7735:n=>{n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"/2025/07/27/etc/nextjs_export-title","metadata":{"permalink":"/blog/2025/07/27/etc/nextjs_export-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/etc/2025-07-27-nextjs_export-title.mdx","source":"@site/blog/etc/2025-07-27-nextjs_export-title.mdx","title":"Next JS + gh Pages \ubc30\ud3ec \uc0bd\uc9c8 \ud6c4\uae30","description":"{/ truncate /}","date":"2025-07-27T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Etc","permalink":"/blog/tags/etc"}],"readingTime":1.22,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Next JS + gh Pages \ubc30\ud3ec \uc0bd\uc9c8 \ud6c4\uae30","authors":["hyeonlim"],"tags":["TIL","Etc"]},"unlisted":false,"nextItem":{"title":"AWS basic (3)","permalink":"/blog/2025/07/23/aws/AWS-basic-3-title"}},"content":"{/* truncate */}\\n\\n## \ubb38\uc81c\\n\\nNext.js App Router(`app/` \ub514\ub809\ud1a0\ub9ac)\ub85c \ub9cc\ub4e0 \uc0ac\uc774\ud2b8\ub97c GitHub Pages\uc5d0 \ubc30\ud3ec\ud558\ub294 \uc640\uc911\uc5d0 \uc544\ub798\uc640 \uac19\uc740 \uc5d0\ub7ec\uac00 \ub728\ub294 \uac83\uc744 \ud655\uc778\ud588\uc2b5\ub2c8\ub2e4.\\n\\n```bash\\n> next export\\n\u2a2f next export has been removed in favor of \'output: export\' in next.config.js\\n```\\n\\nApp Router\uc5d0\uc11c\ub294 `next export` \uba85\ub839\uc5b4\uac00 **\uc644\uc804\ud788 \uc81c\uac70**\ub418\uc5c8\ub2e4\ub294 \uac83\uc744 \uc54c\uc558\uc2b5\ub2c8\ub2e4.. \u3160\\n\\n## \uc62c\ubc14\ub978 \uc124\uc815 \ubc29\ubc95\\n\\n### 1. next.config.js \uc124\uc815\\n\\n```typescript\\nimport type { NextConfig } from \'next\';\\n\\nconst nextConfig: NextConfig = {\\n  output: \'export\',\\n  assetPrefix: \'https://<USERNAME>.github.io/<REPO_NAME>/\',\\n  trailingSlash: true, // \uc120\ud0dd\uc0ac\ud56d: URL \ub05d\uc5d0 \uc2ac\ub798\uc2dc \ucd94\uac00\\n};\\n\\nexport default nextConfig;\\n```\\n\\n**\ud575\uc2ec**: `output: \'export\'` \uc124\uc815\ub9cc \ud558\uba74 `next build` \uc2e4\ud589 \uc2dc \uc790\ub3d9\uc73c\ub85c `out/` \ud3f4\ub354\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4.\\n\\n### 2. package.json \uc2a4\ud06c\ub9bd\ud2b8\\n\\n```json\\n{\\n  \\"scripts\\": {\\n    \\"build\\": \\"next build\\"\\n  }\\n}\\n```\\n\\n\u274c `\\"export\\": \\"next export\\"` \ucd94\uac00\ud558\uba74 \uc548\ub429\ub2c8\ub2e4.\\n\u2705 `build` \uba85\ub839\uc5b4\ub9cc \uc788\uc73c\uba74 \ub429\ub2c8\ub2e4.\\n\\n### 3. GitHub Actions \uc6cc\ud06c\ud50c\ub85c\uc6b0\\n\\n```yaml\\nname: Deploy to GitHub Pages\\n\\non:\\n  push:\\n    branches: [main]\\n    paths: [\'app/**\']\\n  workflow_dispatch: {} # \uc218\ub3d9 \uc2e4\ud589 \uac00\ub2a5\\n\\njobs:\\n  deploy:\\n    runs-on: ubuntu-latest\\n    steps:\\n      - name: Checkout\\n        uses: actions/checkout@v4\\n        \\n      - name: Setup Node.js\\n        uses: actions/setup-node@v4\\n        with:\\n          node-version: 18\\n          cache: \'npm\'\\n          cache-dependency-path: app/package-lock.json\\n          \\n      - name: Install dependencies\\n        run: npm ci\\n        working-directory: app\\n        \\n      - name: Build\\n        run: npm run build\\n        working-directory: app\\n        \\n      - name: Deploy to GitHub Pages\\n        uses: peaceiris/actions-gh-pages@v3\\n        with:\\n          github_token: ${{ secrets.GITHUB_TOKEN }}\\n          publish_dir: ./app/out\\n```\\n\\n## \ud83d\udd0d \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d \uc694\uc57d\\n\\n| \uae30\uc874 Pages Router | \uc0c8\ub85c\uc6b4 App Router |\\n|------------------|-------------------|\\n| `next export` \uba85\ub839\uc5b4 | `output: \'export\'` \uc124\uc815 |\\n| \ubcc4\ub3c4 export \ub2e8\uacc4 | `next build`\uc5d0 \ud1b5\ud569 |\\n| `out/` \uc218\ub3d9 \uc0dd\uc131 | \uc790\ub3d9 \uc0dd\uc131 |\\n\\n## \ud83c\udf89 \ub9c8\ubb34\ub9ac\\n\\n`next export` \uba85\ub839\uc5b4\uc5d0 \uc758\uc874\ud558\ub358 \uae30\uc874 \ubc29\uc2dd\uc5d0\uc11c \ubc97\uc5b4\ub098 `output: \'export\'` \uc124\uc815 \ud558\ub098\ub85c \uae54\ub054\ud558\uac8c \ud574\uacb0\ud560 \uc218 \uc788\ub2e4\ub294 \uac83\uc744 \uc54c\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4."},{"id":"/2025/07/23/aws/AWS-basic-3-title","metadata":{"permalink":"/blog/2025/07/23/aws/AWS-basic-3-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/aws/2025-07-23-AWS-basic-3-title.mdx","source":"@site/blog/aws/2025-07-23-AWS-basic-3-title.mdx","title":"AWS basic (3)","description":"{/ truncate /}","date":"2025-07-23T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"AWS","permalink":"/blog/tags/aws"}],"readingTime":5.71,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"AWS basic (3)","authors":["hyeonlim"],"tags":["TIL","AWS"]},"unlisted":false,"prevItem":{"title":"Next JS + gh Pages \ubc30\ud3ec \uc0bd\uc9c8 \ud6c4\uae30","permalink":"/blog/2025/07/27/etc/nextjs_export-title"},"nextItem":{"title":"AWS basic (2)","permalink":"/blog/2025/07/22/aws/AWS-basic-2-title"}},"content":"{/* truncate */}\\n\\n## Database Service\\n\\n### AWS RDS\uac1c\uc694\\n- \uad00\uacc4\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c \uc644\uc804\uad00\ub9ac\ud615\uc73c\ub85c \uc81c\uacf5\ud558\ub294 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.\\n- RDS \uc11c\ubc84 \uc2dc\uc2a4\ud15c\uc744 \uc9c1\uc811 \uc811\uc18d\uc774 \ubd88\uac00\ub2a5\ud574\uc694.\\n- VPC \ub0b4\ubd80\uc5d0 \ubc30\uce58\ud574\uc11c \uc0ac\uc6a9\ud558\uba70 VPC \ud658\uacbd\uc744 \uc774\uc6a9\ud55c \ubcf4\uc548 \ud658\uacbd \uad6c\uc131 \uc678\uc5d0\ub3c4 IAM, Secret Manager \ub4f1\uc758 \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubcf4\uc548\uc744 \uac15\ud654\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\nAWS RDS DBMS engine type\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4.\\n<img src=\\"/img/blog/aws/2025-07-23/img1.png\\" width={600} />\\n\\n### \ubc31\uc5c5\\n\\n\uc790\ub3d9 \ubc31\uc5c5\uacfc \uc218\ub3d9 \ubc31\uc5c5\uc73c\ub85c \ub098\ub204\uc5b4\uc838\uc788\uc5b4\uc694:\\n- \uc790\ub3d9 \ubc31\uc5c5\\n    - \uc2a4\ub0c5\uc0f7\uacfc \ud2b8\ub79c\uc7ad\uc158 \ub85c\uadf8\ub97c \ucc38\uace0\ud574\uc11c \ub370\uc774\ud130\ub97c \ubc31\uc5c5\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uae30\ubcf8\uc801\uc73c\ub85c default\ub85c \ud65c\uc131\ud654 \ub429\ub2c8\ub2e4. \ud2b9\uc815 \uc2dc\uc810 \ub370\uc774\ud130 \uc0c1\ud0dc\ub85c \ubcf5\uad6c\ud560 \uc218 \uc788\uc5b4\uc694.\\n    - \uc6d0\ubcf8 DBMS\uac00 \uc0ad\uc81c\ub418\uba74 \ud568\uaed8 \uc0ad\uc81c \ub418\ub294 \ub370\uc774\ud130\uc5d0\uc694.\\n\\n- \uc218\ub3d9 \ubc31\uc5c5\\n    - \uc0ac\uc6a9\uc790\uac00 \uc218\ub3d9\uc73c\ub85c \uc6d0\ud558\ub294 \uc2dc\uc810\uc5d0 \uc2a4\ub0c5\uc0f7\uc744 \uc0dd\uc131\ud558\ub294 \ubc29\uc2dd\uc774\uc5d0\uc694. \uc6d0\ubcf8 DBMS\uac00 \uc0ad\uc81c\ub3fc\ub3c4 \uc2a4\ub0c5\uc0f7\uc740 \uc0ad\uc81c\ub418\uc9c0 \uc54a\uace0 S3\uc5d0 \ubcf4\uad00\uc774 \ub429\ub2c8\ub2e4.\\n    - \ub2e4\ub978 \ub9ac\uc804\uc73c\ub85c \ubcf5\uc81c\ub97c \ud558\uac70\ub098 \ub2e4\ub978 \uacc4\uc815\uc5d0 \uacf5\uc720\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n### AWS RDS Read Replica\\n\\n- \ub300\uaddc\ubaa8 \uc11c\ube44\uc2a4 \ud2b8\ub798\ud53d\uc744 \ubd84\uc0b0\ucc98\ub9ac\ud558\uae30 \uc704\ud574\uc11c \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc77d\uae30 \uc791\uc5c5\ub9cc \uc9c0\uc6d0\ud558\ub294 \ubcf5\uc81c \ub370\uc774\ud130 \ubca0\uc774\uc2a4 \uc785\ub2c8\ub2e4.\\n- \ucd5c\ub300 15\uac1c\uc758 \uc77d\uae30 \uc804\uc6a9 \ubcf5\uc81c \ubcf8\uc744 \ub9ac\uc804, \uac00\uc6a9\uc601\uc5ed\uc5d0 \uac78\uccd0 \uad6c\uc131 \uac00\ub2a5\ud574\uc694. \uc77d\uae30 \uc804\uc6a9 \ubcf5\uc81c\ubcf8\uc740 \uc6d0\ubcf8 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc2dc\uc2a4\ud15c\uc774 \ub2e4\uc6b4\ub420 \uacbd\uc6b0 \ubcc4\ub3c4\uc758 \ub3c5\ub9bd\ub41c DB \uc778\uc2a4\ud134\uc2a4\ub85c \uc218\ub3d9 \uc2b9\uaca9\uc774 \uac00\ub2a5\ud574\uc694.\\n\\n<img src=\'/img/blog/aws/2025-07-23/img2.png\' width={600} />\\n\\n\\n### AWS RDS Multi AZ(\uac00\uc6a9\uc601\uc5ed)\\n\\n- Write Database\ub97c Active-StanBy \ud615\ud0dc\ub85c \uc774\uc911\ud654 \uad6c\uc131\uc774 \ub418\uc5b4\uc788\uc5b4 \uc7a5\uc560 \ub300\ube44 \uc790\ub3d9 \ubcf5\uad6c \ub300\uc751\uc744 \ud560 \uc218 \uc788\uc5b4\uc694.\\n- Read Replica\uc758 \uc4f0\uae30 \uc804\uc6a9 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc2b9\uaca9\uacfc \uc720\uc0ac\ud558\uc9c0\ub9cc \ub2e4\uc6b4\ud0c0\uc784\uc774 \uc5c6\uc5b4\uc694.\\n- \uc608\ube44\uc6a9 \uc778\uc2a4\ud134\uc2a4\ub97c \ud558\ub098 \ub354 \uc0dd\uc131\ud558\uae30 \ub54c\ubb38\uc5d0 \uae30\uc874 \ub300\ube44 \ube44\uc6a9\uc774 2\ubc30 \uc99d\uac00\ud569\ub2c8\ub2e4.\\n- \uc131\ub2a5\ud5a5\uc0c1\uc5d0 \ub300\ud55c \uc774\uc810\ubcf4\ub2e4\ub294 \uace0\uac00\uc6a9\uc131\uc744 \ud655\ubcf4\ud558\uae30 \uc704\ud55c \uc635\uc158\uc774\uc5d0\uc694.\\n\\n<img src=\'/img/blog/aws/2025-07-23/img3.png\' width={600} />\\n\\n### Storage Auto-Scaling\\n\\n- \uc6b4\uc601\uad00\ub9ac \uacfc\uc815\uc5d0 \ub514\uc2a4\ud06c\uac00 \ubd80\uc871\ud574\uc9c0\ub294 \uacbd\uc6b0 \uc790\ub3d9\uc73c\ub85c \uc6a9\ub7c9\uc744 \ud655\uc7a5\ud560 \uc218 \uc788\ub3c4\ub85d \uc9c0\uc6d0\ud558\ub294 \uae30\ub2a5\uc785\ub2c8\ub2e4.\\n- \uc804\uccb4 \uc6a9\ub7c9 \uc911 \uc5ec\uc720 \uacf5\uac04\uc774 10% \ubbf8\ub9cc\uc778 \uc0c1\ud0dc\uac00 5\ubd84 \uc774\uc0c1 \uc9c0\uc18d\ub418\uace0 && \uc9c0\ub09c 6\uc2dc\uac04 \ub3d9\uc548 \uc800\uc7a5\uc18c\uac00 \ubcc0\uacbd\ub41c \uc774\ub825\uc774 \uc5c6\uc744 \uacbd\uc6b0\uc5d0 \uc790\ub3d9\uc73c\ub85c \ud655\uc7a5\ub429\ub2c8\ub2e4.\\n\\n### RDS Storage Structure\\n\\n- Aurora\uc5d0 \uc800\uc7a5\ub418\ub294 \ub370\uc774\ud130\ub294 \ucd5c\uc18c 3\uac1c\uc758 \uac00\uc6a9\uc601\uc5ed\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ubcf5\uc81c\ud558\uc5ec 6\uac1c\uc758 \uc0ac\ubcf8\uc73c\ub85c \uc800\uc7a5\ud574\uc694 (4/6 Quorum \ubc29\uc2dd)\\n- \ub0b4\ubd80\uc5d0\uc11c \ub370\uc774\ud130 \uc190\uc2e4\uc774 \ubc1c\uc0dd\ud574\ub3c4 \uc790\uccb4\uc801\uc73c\ub85c \uc0ac\ubcf8\uc744 \ud1b5\ud574 \uc790\ub3d9 \ubcf5\uad6c\ub97c \ud569\ub2c8\ub2e4.\\n\\n<img src=\'/img/blog/aws/2025-07-23/img4.png\' width={600} />\\n\\n### Aurora Storage, Read Replica, Auto-Scaling\\n\\n- \ub370\uc774\ud130\uc758 \uc800\uc7a5\uacf5\uac04\uc740 10GB ~ 128TB \uae4c\uc9c0 \uc790\ub3d9\uc73c\ub85c \uc0ac\uc6a9\ud558\ub294 \ub9cc\ud07c \ud655\uc7a5\ud560 \uc218 \uc788\uc5b4\uc694.\\n- \uc77d\uae30 \uc804\uc6a9 \ubcf5\uc81c\ubcf8\uc740 \ucd5c\ub300 15\uac1c \uae4c\uc9c0 Auto Scaling \uc124\uc815\uc774 \uac00\ub2a5\ud574\uc694. Writter instance\uc5d0\ub294 \uc801\uc6a9\uc774 \ubd88\uac00\ub2a5\ud574\uc694.\\n\\n## Management Service\\n\\n### Cloud Formation\\n\\n\uac1c\uc694\\n- \uc778\ud504\ub77c\ub97c \ucf54\ub4dc\ub85c \uad00\ub9ac\ud558\uac8c \ud574\uc8fc\ub294 \uc11c\ube44\uc2a4\ub85c, AWS \ub9ac\uc18c\uc2a4\uc758 \uc0dd\uc131, \uad00\ub9ac, \uc5c5\ub370\uc774\ud2b8\ub97c \uc790\ub3d9\ud654\ud574\uc918\uc694.\\n- \ucf54\ub4dc\ub97c \ud15c\ud50c\ub9bf \ud615\ud0dc\ub85c \ub9cc\ub4e4\uc5b4\uc11c \uad00\ub9ac\ud558\uace0, \ud15c\ud50c\ub9bf\uc744 \ud1b5\ud574 STACK\uc744 \uc0dd\uc131\ud558\uc5ec \ucf54\ub4dc \ub0b4\uc6a9\uc744 \uae30\ubc18\uc73c\ub85c \uc778\ud504\ub77c\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4.\\n\\n<img src=\'/img/blog/aws/2025-07-23/img5.png\' width={600} />\\n\\n### Cloud Watch\\n\\n\uac1c\uc694\\n- AWS \ub9ac\uc18c\uc2a4\ub098 Application\uc758 \ubaa8\ub2c8\ud130\ub9c1 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.\\n- \uc6b4\uc601 \ub370\uc774\ud130\ub97c \uc218\uc9d1, \ubd84\uc11d, \uc2dc\uac01\ud654, \uad00\ub9ac\ub97c \uc704\ud55c \ud1b5\ud569 \uc11c\ube44\uc2a4\uc5d0\uc694\\n\\n\uc8fc\uc694\uad6c\uc131\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4.\\n- Metrics : AWS \ub9ac\uc18c\uc2a4\uc5d0\uc11c \uc0dd\uc131\ub418\ub294 Metric \uc218\uc9d1 \ubc0f \uc800\uc7a5\uc744 \ud574\uc694. Custom Metric \uad6c\uc131 \ubc0f \uc218\uc9d1/\uc800\uc7a5\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4. ex. EC2 CPU \uc0ac\uc6a9\ub960 \ub4f1\\n    - \uac70\uc758 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\uc5d0\uc11c \ub300\ud55c \uc9c0\ud45c\ub97c \uae30\ubcf8\uc73c\ub85c \uc81c\uacf5\ud574\uc918\uc694.\\n    - Metrics\uc758 \uc8fc\uc694 \uad6c\uc131 \uc694\uc18c\ub294 NameSpace, Metric Name, Dimension, Period\uac00 \uc788\uc5b4\uc694.\\n\\n<img src=\'/img/blog/aws/2025-07-23/img6.png\' width={600} />\\n\\n- Logs : AWS \ub9ac\uc18c\uc2a4\uc5d0\uc11c \uc0dd\uc131\ub418\ub294 Log \uc218\uc9d1 \ubc0f \uc800\uc7a5\uc744 \ud574\uc694. Custom \uc124\uc815\uc73c\ub85c Application, System, Log \ucd94\uac00 \uc218\uc9d1 \ubc0f \uc800\uc7a5 \uac00\ub2a5\ud574\uc694.\\n    - Standard, Infrequent Access 2\uac1c\uc758 \ud074\ub798\uc2a4\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4.\\n    - \ub85c\uadf8\uc758 \uc8fc\uc694 \uad6c\uc131\uc694\uc18c\uc5d0\ub294 Log Event, Log Stream, Log Group, Retention Period, Metrics Filter, Subscription Filter \uc774\ub807\uac8c \uc788\uc5b4\uc694.\\n- Dashboards : Metric, Log\ub97c \uc2dc\uac01\ud654\ud574\uc694.\\n- Alarms : Metric \ub370\uc774\ud130\ub97c \uae30\uc900\uc73c\ub85c Alarms\ub97c \uc124\uc815\ud569\ub2c8\ub2e4. \uc784\uacc4\uce58 \ucd08\uacfc \uc2dc SNS\ub97c \ub9cc\ub4e4\uc5b4 \uc54c\ub9bc\uc744 \uc804\uc1a1\ud560 \uc218 \uc788\uc5b4\uc694.\\n- CloudWatch Events : \uc774\ubca4\ud2b8\ub97c \uc218\uc9d1\ud558\uace0 \ud2b9\uc815 \ub9ac\uc18c\uc2a4\ub85c \ub77c\uc6b0\ud305\ud569\ub2c8\ub2e4. \uae30\ud0c0 \uc11c\ube44\uc2a4\uc640 \uc5f0\ub3d9\ud558\uc5ec \ud2b9\uc815 \uc791\uc5c5\uc744 \uc790\ub3d9\uc73c\ub85c \uc218\ud589\ud569\ub2c8\ub2e4.\\n\\n<img src=\'/img/blog/aws/2025-07-23/img7.png\' width={600} />\\n\\n## Network Connectivity\\n\\n### VPC Peering\\n\\n\uac1c\uc694\\n- \uc11c\ub85c \uaca9\ub9ac \ub418\uc5b4 \uc788\ub294 2\uac1c \uc774\uc0c1\uc758 VPC\uc758 \ub124\ud2b8\uc6cc\ud06c\ub97c \uc5f0\uacb0\ud558\ub294 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.\\n- \ub3d9\uc77c \ub9ac\uc804, \uac00\uc6a9\uc601\uc5ed\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ub370\uc774\ud130 \ud2b8\ub798\ud53d\uc740 \ubb34\ub8cc\uc774\uc9c0\ub9cc \ub9ac\uc804, \uac00\uc6a9\uc601\uc5ed\uc744 \uad50\ucc28\ud558\ub294 \ub370\uc774\ud130\uc758 \uacbd\uc6b0\uc5d0\ub294 \ud2b8\ub798\ud53d\uc5d0 \ub530\ub978 \uae08\uc561\uc774 \ubc1c\uc0dd\ud574\uc694.\\n- \uc804\uc774\uc801 \ud53c\uc5b4\ub9c1\uc774 \ubd88\uac00\ub2a5\ud558\uba70, CIDR block\uc774 \uacb9\uce58\ub294 \uacbd\uc6b0\uc5d0\ub3c4 VPC Peering \uad6c\uc131\uc774 \ubd88\uac00\ub2a5\ud574\uc694.\\n\\n### VPC Endpoint\\n\\n\uac1c\uc694\\n- VPC \ub0b4\ubd80 \ub9ac\uc18c\uc2a4\uac00 AWS Service\uc5d0 \uc811\uadfc\ud560 \ub54c Private Link\ub97c \uc0ac\uc6a9\ud574 \uc0ac\uc124 \ud1b5\uc2e0\uc744 \uac00\ub2a5\ud558\uac8c \ud574\uc8fc\ub294 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.\\n- \uc778\ud130\ub137 \uac8c\uc774\ud2b8\uc6e8\uc5b4, NAT \uac8c\uc774\ud130\uc73c\uc6e8, VPN, Direct Connect\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \uc0ac\uc124 \ud1b5\uc2e0 \uad6c\uac04\uc744 \uc774\uc6a9\ud574 AWS \uc11c\ube44\uc2a4\uc640 \ud1b5\uc2e0\ud569\ub2c8\ub2e4.\\n\\n**Gateway Endpoint**\\nS3, DynamoDB \uc11c\ube44\uc2a4\ub97c \ub300\uc0c1\uc73c\ub85c private \uc5f0\uacb0\uc744 \uc81c\uacf5, Routing Table\uc744 \ud1b5\ud574 \uc5f0\uacb0\ud569\ub2c8\ub2e4. \ubb34\ub8cc\ub85c \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n**Interface Endpoint**\\nPrivate Link\ub97c \uc9c0\uc6d0\ud558\ub294 \uc11c\ube44\uc2a4\ub97c \ub300\uc0c1\uc73c\ub85c Private \uc5f0\uacb0\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc9c0\uc815\ud55c VPC \ub0b4\ubd80\uc5d0 Elastic Network Interface\ub97c \uc0dd\uc131\ud558\uc5ec \ud1b5\uc2e0\uc744 \uc9c0\uc6d0\ud574\uc694.\\nENI\uc640 AWS \uc11c\ube44\uc2a4\uc640 \uc5f0\uacb0\ud558\uc5ec Private \ud1b5\uc2e0 \uad6c\uac04\uc774 \ud65c\uc131\ud654\ub418\ub294 \uad6c\uc870\uc774\uba70, \ud2b8\ub798\ud53d\uc5d0 \ub530\ub978 \ud1b5\uc2e0\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n<img src=\'/img/blog/aws/2025-07-23/img8.png\' width={600} />\\n\\n### Route 53\\n\\n- AWS\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc644\uc804 \uad00\ub9ac\ud615 DNS \uc11c\ubc84\uc785\ub2c8\ub2e4. \ub3c4\uba54\uc778 \uad6c\uc785 \ubc0f \ub3c4\uba54\uc778 \ud638\uc2a4\ud305 \uad00\ub9ac\ub9b4 \uc9c0\uc6d0\ud574\uc694. \uc678\ubd80 \ub3c4\uba54\uc778\uc744 AWS Route53\uc758 Hosted Zone\uc5d0 \ub4f1\ub85d\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n- DNS Routing Policy\ub97c \ud1b5\ud574 \ud2b8\ub798\ud53d\uc744 \uc801\ud569\ud55c EndPoint\ub85c \ub77c\uc6b0\ud305\ud569\ub2c8\ub2e4. \ub610\ud55c, \ub3c4\uba54\uc778 \ubc0f \uc5f0\uacb0\ub41c \ub9ac\uc18c\uc2a4\uc5d0 \ub300\ud55c Health Check \uae30\ub2a5\uc744 \uc81c\uacf5\ud574\uc90d\ub2c8\ub2e4.\\n- Route 53\uc758 Public / Private Hosted Zone\\n    - Public Hosted Zone : \uc778\ud130\ub137\uc5d0 \uc5f0\uacb0\ub41c \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\uc5d0 \uc811\uadfc \uac00\ub2a5\ud55c DNS \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud574\uc694.\\n    - Private Hosted Zone : \ud2b9\uc815 VPC \ub0b4\ubd80 \ub9ac\uc18c\uc2a4\ub9cc \uc811\uadfc \uac00\ub2a5\ud55c Local DNS \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. VPC \ub0b4\ubd80 \ub9ac\uc18c\uc2a4 \uac04 \ud1b5\uc2e0\uc744 \uc704\ud55c \ub9de\ucda4\ud615 \ub3c4\uba54\uc778\uc744 \uc81c\uacf5\ud574\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-24/img1.png\\" width={600}/>\\n\\n**Public Hosted Zone**\\n- \uc778\ud130\ub137\uc5d0 \uc5f0\uacb0\ub41c \ub9ac\uc18c\uc2a4\uc758 DNS Record\ub97c \uad00\ub9ac\ud558\ub294 \uc800\uc7a5\uc18c\uc5d0\uc694.\\n- AWS \ub610\ub294 \uc678\ubd80\uc5d0\uc11c \uad6c\ub9e4\ud55c \ub3c4\uba54\uc778\uc744 \ub4f1\ub85d\ud558\uc5ec \uc0ac\uc6a9 \uac00\ub2a5\ud574\uc694. (\ubc18\ub098\uc808 \uc800\ub3c4\uc758 \uc2dc\uac04\uc744 \u3131)\\n\\n**Private Hosted Zone**\\n- VPC \ub0b4\ubd80 \ub124\ud2b8\uc6cc\ud06c \ub9ac\uc18c\uc2a4\uc758 DNS Record\ub97c \uad00\ub9ac\ud558\ub294 \uc800\uc7a5\uc18c\uc5d0\uc694.\\n- VPC \ub0b4\ubd80 \ud1b5\uc2e0\uc5d0\ub9cc \uc0ac\uc6a9\ub418\uba70, \uc778\ud130\ub137\uc5d0\uc11c \uc811\uadfc\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. Private DNS \uc774\ub984\uc744 \uc0ac\uc6a9\ud574 \ub0b4\ubd80 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uac04 \ud1b5\uc2e0\uc744 \ucd5c\uc801\ud654 \ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-24/img2.png\\" width={600}/>\\n\\n- Route 53\uc5d0\uc11c \uc9c0\uc6d0\ub418\ub294 DNS Records type\uc740 \uc544\ub798\uc640 \uac19\uc544\uc694.\\n    - A : \ub3c4\uba54\uc778 \uc8fc\uc18c\uc640 IPv4 \uc8fc\uc18c\ub97c \uc9c1\uc811 \ud560\ub2f9\ud574\uc694.\\n    - AAAA : \ub3c4\uba54\uc778 \uc8fc\uc18c\uc640 IPv6 \uc8fc\uc18c\ub97c \uc9c1\uc811 \ud560\ub2f9\ud574\uc694.\\n    - CNAME(Canonical Name Record) : \ub3c4\uba54\uc778 \uc8fc\uc18c\ub97c \ub2e4\ub978 \ub3c4\uba54\uc778 \uc8fc\uc18c\uc5d0 \ud560\ub2f9\ud574\uc918\uc694. \\n    - MX : \ub3c4\uba54\uc778 \uc8fc\uc18c\ub97c \uc774\uba54\uc77c \uc11c\ubc84\uc5d0 \ud560\ub2f9\ud574\uc918\uc694. \ub4f1\ub85d \ub3c4\uba54\uc778 \uc8fc\uc18c \uc815\ubcf4\ub97c \uc774\uba54\uc77c \uc8fc\uc18c\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n    - NS : Name Server, \uad6c\ub9e4\ud55c \ub3c4\uba54\uc778\uc744 \uad00\ub9ac\ud558\ub294 \ub124\uc784 \uc11c\ubc84 \uc815\ubcf4\uc785\ub2c8\ub2e4.\\n    - SOA : Start of Authority, \uad6c\uc785\ud55c \ub3c4\uba54\uc778\uc5d0 \ub300\ud55c \uae30\ubcf8 \uc815\ubcf4\uac00 \ub2f4\uae34 \ub808\ucf54\ub4dc\uc5d0\uc694. Open Search\ub85c \ub85c\uadf8\ub97c \uac80\uc0c9, \ubd84\uc11d, \uc2dc\uac01\ud654\ub97c \ud569\ub2c8\ub2e4.\\n\\n**Policy**\\n\\n1. Simple Policy\\n- \ub2e8\uc21c\ud55c \ubc29\uc2dd\uc73c\ub85c \ub3c4\uba54\uc778\uc5d0 \ub300\ud55c \ud2b8\ub798\ud53d \ub9ac\uc18c\uc2a4\ub97c \uc804\ub2ec\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4.\\n- 1\uac1c\uc758 \ub808\ucf54\ub4dc\uc5d0 Multi value \uc124\uc815\uc774 \uac00\ub2a5\ud574\uc694.\\n- Health Check \uae30\ub2a5 \uc0ac\uc6a9\uc740 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\\n<img src=\\"/img/blog/aws/2025-07-24/img3.png\\" width={600}/>\\n\\n2. Weighted\\n- \ub2e8\uc21c\ud55c \ubc29\uc2dd\uc73c\ub85c \ub3c4\uba54\uc778\uc5d0 \ub300\ud55c \ud2b8\ub798\ud53d\uc744 \ub9ac\uc18c\uc2a4\ub85c \uc804\ub2ec\ud558\ub294 \ubc29\uc2dd\uc774\uc5d0\uc694.\\n- \ub3c4\uba54\uc778\uc5d0 \ub4f1\ub85d\ub41c \ub9ac\uc18c\uc2a4 \ub9c8\ub2e4 \uac00\uc911\uce58\ub97c \uc801\uc6a9\ud574 \ud2b8\ub798\ud53d\uc758 \uc591\uc744 \uc870\uc808\ud569\ub2c8\ub2e4. \ub808\ucf54\ub4dc\uc758 \uc720\ud615\uacfc \ub808\ucf54\ub4dc\uc758 \uc774\ub984\uc744 \ub3d9\uc77c\ud558\uac8c \uad6c\uc131\ud558\uace0 \uac01 \ub808\ucf54\ub4dc\uc5d0 \uac00\uc911\uce58\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.\\n\\n<img src=\\"/img/blog/aws/2025-07-24/img4.png\\" width={600}/>\\n\\n3. Latency\\n- \uc751\ub2f5 \uc9c0\uc5f0\uc2dc\uac04\uc774 \uac00\uc7a5 \uc801\uc740 \ub9ac\uc18c\uc2a4\uc758 \uc815\ubcf4\ub97c \ubc18\ud658\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc77c\uc815 \uae30\uac04 \uce21\uc815\ub41c \uacb0\uacfc \uac12\uc744 \uae30\uc900\uc73c\ub85c \ub77c\uc6b0\ud305\ud574\uc694.\\n- \uc2dc\uac04\uc774 \uc9c0\ub0a8\uc5d0 \ub530\ub77c \ub2e4\ub978 \uac12\uc744 \ubc18\ud658 \ubc1b\uc744 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc911 \ub9ac\uc804 \ud658\uacbd\uc5d0\uc11c \ud074\ub77c\uc774\uc5b8\ud2b8\uc640 \uac00\uc7a5 \uadfc\uc811\ud55c \ub9ac\uc18c\uc2a4\ub85c \uc5f0\uacb0\ub420 \ud655\ub960\uc774 \ub192\uc544\uc694.\\n- Private Hosted Zone\uc5d0 \ub4f1\ub85d\ub41c \ub808\ucf54\ub4dc\uc5d0\ub3c4 \uc801\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n<img src=\\"/img/blog/aws/2025-07-24/img5.png\\" width={600}/>\\n\\n4. Failover\\n- Route 53\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc0c1\ud0dc \uac80\uc0ac\uae30\ub97c \uc774\uc6a9\ud574 \uc815\uc0c1 \ub9ac\uc18c\uc2a4 \uac12\uc744 \ubc18\ud658\ud558\ub294 \ubc29\uc2dd\uc774\uc5d0\uc694. \ud558\ub098\uc758 \uae30\ubcf8 \ub808\ucf54\ub4dc\uc640 \ubcf4\uc870 \ub808\ucf54\ub4dc\ub85c \uad6c\uc131\ud569\ub2c8\ub2e4.\\n\\n5. Geolocation\\n- Client\uc758 \uc704\uce58 \uc815\ubcf4\ub97c \uae30\ubc18\uc73c\ub85c \uac00\uc7a5 \uac00\uae4c\uc6b4 \ub9ac\uc804\uc758 \ub9ac\uc18c\uc2a4 \uc815\ubcf4\ub97c \ubc18\ud658\ud558\ub294 \ubc29\uc2dd\uc774\uc5d0\uc694. \uc704\uce58 \uc815\ubcf4\uc640 \ub808\ucf54\ub4dc \ubc18\ud658 \uac12\uc744 Mapping\ud558\uc5ec \uad6c\uc131\ud569\ub2c8\ub2e4.\\n- EDNS(RFC 7871) \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud558\ub294 \uc54a\ub294 \uacbd\uc6b0\uc5d0 \uc608\uc0c1\uacfc \ub2ec\ub9ac \ub3d9\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},{"id":"/2025/07/22/aws/AWS-basic-2-title","metadata":{"permalink":"/blog/2025/07/22/aws/AWS-basic-2-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/aws/2025-07-22-AWS-basic-2-title.mdx","source":"@site/blog/aws/2025-07-22-AWS-basic-2-title.mdx","title":"AWS basic (2)","description":"{/ truncate /}","date":"2025-07-22T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"AWS","permalink":"/blog/tags/aws"}],"readingTime":5.06,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"AWS basic (2)","authors":["hyeonlim"],"tags":["TIL","AWS"]},"unlisted":false,"prevItem":{"title":"AWS basic (3)","permalink":"/blog/2025/07/23/aws/AWS-basic-3-title"},"nextItem":{"title":"AWS basic (1)","permalink":"/blog/2025/07/21/aws/AWS-basic-1-title"}},"content":"{/* truncate */}\\n\\n## Elastic Load Balancer (ELB)\\n\\n### \uac1c\uc694\\n\ud074\ub77c\uc774\uc5b8\ud2b8\uc758 \uc11c\ube44\uc2a4 \uc694\uccad \ud2b8\ub798\ud53d\uc744 \uc5ec\ub7ec \uc11c\ubc84\ub85c \ubd84\uc0b0\uc2dc\ucf1c \uc8fc\ub294 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4. \ubd80\ud558\ub85c \uc778\ud55c \uc11c\ube44\uc2a4 \uc911\ub2e8 \ubc0f \uc131\ub2a5 \uc800\ud558\ub97c \ubc29\uc9c0\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n- \ucc98\ub9ac \ubc29\uc2dd\uc740 \uc544\ub798\uc640 \uac19\uc544\uc694:\\n    1. EC2\ub97c \ud0c0\uac9f \uadf8\ub8f9\uc5d0 \ud560\ub2f9\ud558\uace0 \ub85c\ub4dc \ubc38\ub7f0\uc11c\uac00 \ud0c0\uac9f \uadf8\ub8f9\uc744 \uc5f0\ub3d9\ud558\uc5ec \uad6c\uc131\ud574\uc694.\\n    2. \ud0c0\uac9f \uadf8\ub8f9\uc5d0\uc11c \uc0c1\ud0dc \uac80\uc0ac\ub97c \ud1b5\ud574 \uc815\uc0c1\uc801\uc778 \uc11c\ubc84\uc5d0\uac8c\ub9cc \uc694\uccad \uc804\ub2ec\ud569\ub2c8\ub2e4.\\n    3. \uc218 \uc2ed\ub300\uc758 \uc11c\ubc84\uac00 \uad6c\uc131\ub418\uc5b4 \uc788\uc5b4\ub3c4 \ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \ub2e8\uc77c \uc6f9 \uc11c\ube44\uc2a4 endpoint\ub85c \uc811\uadfc\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n\uc644\uc804 \uad00\ub9ac\ud615 \uc11c\ube44\uc2a4\uc5ec\uc11c \ud2b8\ub798\ud53d \uc694\uccad\uc774 \ub9ce\uc73c\uba74 ELB \uc2dc\uc2a4\ud15c\ub3c4 \ub0b4\ubd80\uc801\uc73c\ub85c \uc790\ub3d9\uc73c\ub85c \ud655\uc7a5\ud574\uc694. \uc2dc\uc2a4\ud15c\uc5d0 \ub300\ud55c \uc5c5\uadf8\ub808\uc774\ub4dc, \uac00\uc6a9\uc131. \uad00\ub9ac \ub4f1\uc740 AWS\uc5d0\uc11c \uc9c0\uc6d0\uc744 \ud574\uc918\uc694.\\n\\n\ub2e4\ub978 AWS \uc11c\ube44\uc2a4\uc640 \uc5f0\uacc4 \uc9c0\uc6d0\ub3c4 \ud569\ub2c8\ub2e4. AWS ACM \uc778\uc99d\uc11c\uc640 \uc5f0\ub3d9\ud558\uc5ec HTTPS \uc554\ud638\ud654 \ud1b5\uc2e0\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4. EC2, Auto-Scaling, Lambda, ECS, EKS \uc640 \uac19\uc740 \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4\uc640 \uc5f0\uacc4 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-22/img1.png\\" width={600}/>\\n\\n### \uad6c\uc131 \uc694\uc18c\\n\\n- Listener\\n    - \ud504\ub85c\ud1a0\ucf5c, \ud3ec\ud2b8\ub97c \uae30\uc900\uc73c\ub85c \ud074\ub77c\uc774\uc5b8\ud2b8 \uc694\uccad \uc218\uc2e0 -> \uc694\uccad \ub0b4\uc6a9 \uac80\uc0ac \ud6c4 \uacb0\uacfc\uc5d0 \ub530\ub77c\uc11c \uc801\uc808\ud55c Target Group\uc73c\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4.\\n    - \ucd5c\uc18c 1\uac1c \uc774\uc0c1\uc758 \ub9ac\uc2a4\ub108\uac00 \ud544\uc694\ud558\uace0, \ucd5c\ub300 10\uac1c\uae4c\uc9c0 \uc124\uc815\ud560 \uc218 \uc788\uc5b4\uc694. SSL \uc778\uc99d\uc11c\ub85c HTTPS\ub97c \uc801\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n- Rule\\n    - \uad6c\uc131\uc694\uc18c\ub294 \uc6b0\uc120\uc21c\uc704, \uc870\uac74, \ub3d9\uc791\uc73c\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc5b4\uc694.\\n    - \uc694\uccad \uac80\uc0ac \uacfc\uc815\uc5d0\uc11c \uc124\uc815\ub41c \uc870\uac74\uc5d0 \ub530\ub77c \uc9c0\uc815\ub41c \ub3d9\uc791\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.\\n\\n- Target Group\\n    - EC2, Lambda, IP Address \ub4f1\uc73c\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.\\n    - \uc11c\ubc84\uc758 Health Check\ub97c \ud1b5\ud574 \uc11c\ubc84 \uc0c1\ud0dc\ub97c \ubaa8\ub2c8\ud130\ub9c1 \ud569\ub2c8\ub2e4.\\n\\n<img src=\\"/img/blog/aws/2025-07-22/img2.png\\" width={600}/>\\n\\n### LoadBalancer \uc885\ub958\\n\\n- \ub85c\ub4dc\ubc38\ub7f0\uc11c\uc758 \uc885\ub958\uc5d0\ub294 \ud06c\uac8c 4\uac1c\uac00 \uc788\uc5b4\uc694:\\n    - Application Load Balancer: \\n        Application Layer (layer 7)\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 LB \uc5d0\uc694.\\n        SSL Offload \uae30\ub2a5\uc744 \uc81c\uacf5\ud574\uc694.(\ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc554\ud638\ud654\ud574\uc11c \ubcf4\ub0c8\ub294\ub370 \uc11c\ubc84\ub85c \ubcf4\ub0bc \ub54c\ub294 plain text\ub85c \ubcf4\ub0c5\ub2c8\ub2e4. \uc554\ud638\ud654\ub41c \uac83\uc744 \ubcf5\ud638\ud654\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \uc5f0\uc0b0\uc774 \ub9ce\uc774 \uc77c\uc5b4\ub098\uae30 \ub54c\ubb38\uc5d0 \uc0ac\uc6a9\ub418\ub294 \uac1c\ub150\uc774\uc5d0\uc694.)\\n    - Network Load Balancer:\\n        Elastic IP \uc801\uc6a9\uc774 \uac00\ub2a5\ud558\uba70 \ucd08\ub2f9 \uc218\ubc31\ub9cc \uac74 \uc694\uccad \ucc98\ub9ac\uac00 \uac00\ub2a5\ud574\uc11c ALB\ubcf4\ub2e4 \uc131\ub2a5\uc774 \uc88b\uc544\uc694.\\n        S-NAT\uc774 \ube44\ud65c\uc131\ud654 \uc0c1\ud0dc\uc5d0\uc11c \ud2b8\ub798\ud53d\uc774 \ub4e4\uc5b4\uc628\ub2e4\uba74 \ud074\ub77c\uc774\uc5b8\ud2b8 IP\uac00 LB\uc5d0\uc11c \ubcc0\uacbd\ub41c \ucc44\ub85c \ub4e4\uc5b4\uc624\ub294 \uac83\uc774 \uc544\ub2c8\ub77c \uadf8\ub300\ub85c \ub4e4\uc5b4\uc624\uae30 \ub54c\ubb38\uc5d0 \uc11c\ubc84\uc5d0 \ub3c4\ucc29\uc744 \ud558\uba74 LB\ub85c \ub2e4\uc2dc \uc751\ub2f5\uc744 \ubcf4\ub0b4\uc8fc\ub294 \uac83\uc774 \uc544\ub2cc NAT GW\ub85c \uac00\uc11c \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uac8c \uc804\ub2ec\uc774 \ub3fc\uc694. (LB\uac00 \ud558\ub294 \uc5ed\ud560\uc774 \ud558\ub098\uac00 \ub418\uae30 \ub54c\ubb38\uc5d0 \ud6e8\uc52c \uc131\ub2a5\uc774 \uc88b\uc544\uc694.)\\n        ```\\n        ## DSR\\n        client -> NLB -> Target Group -> NAT Gateway -> client \\n        ```\\n    - Gateway Load Balancer\\n\\n\uc8fc\ub85c \uc0ac\uc6a9\ud558\ub294 \uac83\uc740 ALB, NLB \uc774\ub807\uac8c 2\uac1c\ub97c \uc8fc\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. Classic Load Balancer\ub294 \uc0ac\uc6a9\uc744 \ud558\ub294 \uacf3\uc740 \uc788\uc9c0\ub9cc \ub2e8\uc885\ub41c \uc11c\ube44\uc2a4 \uc785\ub2c8\ub2e4.\\n\\n## Auto Scaling\\n\\n### \uad6c\uc131\uc694\uc18c\\n\\n- Auto Scaling Group (ASG)\\n    - \uad00\ub9ac \ub300\uc0c1 \uc778\uc2a4\ud134\uc2a4\ub97c \ub17c\ub9ac\uc801\uc73c\ub85c \ubaa8\uc544 \ub193\uc740 \uc9d1\ud569\uc774\uc5d0\uc694.\\n    - \ucd5c\uc18c \ud06c\uae30, \ucd5c\ub300 \ud06c\uae30, \ud76c\ub9dd \uc6a9\ub7c9\uc744 \uc124\uc815\ud558\uace0 \uc774 \ubc94\uc704 \ub0b4\uc5d0\uc11c \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131 \uc81c\uac70 \ud569\ub2c8\ub2e4.\\n    - \ub85c\ub4dc \ubc38\ub7f0\uc11c\uc758 \ud2b9\uc815 Target Group\uc73c\ub85c \ud3ec\ud568\ub418\ub3c4\ub85d \uc9c0\uc815 \uac00\ub2a5\ud574\uc694.\\n- Launch Template\\n    - auto Scaling\uc744 \ud1b5\ud574\uc11c \uc0c8\ub85c \uc0dd\uc131\ud560 \uc778\uc2a4\ud134\uc2a4\uc758 \uc124\uc815 \uac12\uc758 \ubaa8\uc74c\uc785\ub2c8\ub2e4.\\n    - AMI, TYPE, Security Group, Key-Pair, User Data \ub4f1\uc744 \uc815\uc758\ud574\uc694.\\n    - \uc218\uc815\uc774 \ubd88\uac00\ub2a5\ud558\uace0, \uc0c8\ub85c\uc6b4 \ubc84\uc804\uc744 \uc0dd\uc131\ud55c \ub4a4\uc5d0 ASG \uc124\uc815\uc5d0\uc11c \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.\\n- Scaling Policies\\n    - \uc778\uc2a4\ud134\uc2a4\ub97c \uc870\uc815\ud558\ub294 \uae30\uc900, \uc870\uac74\uc744 \uc124\uc815\ud558\ub294 \uc694\uc18c\uc5d0\uc694.\\n    - Scheduled, Dynamic, Predicitive Scaling \ubc29\uc2dd\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.\\n\\n### \ub3d9\uc791 \uacfc\uc815\\n1. ALB(Application)\uc5d0\uc11c EC2 \uc0c1\ud0dc \uac80\uc0ac\ub97c \uc218\ud589\ud569\ub2c8\ub2e4.\\n2. Unhealthy \uc0c1\ud0dc EC2\uac00 \ubc1c\uacac\uc774 \ub418\uba74 ASG\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4.\\n3. Launch Template \ub97c Trigger \ud569\ub2c8\ub2e4.\\n4. EC2 \uc0dd\uc131 \ubc0f ASG, Target Group\uc5d0 \ub4f1\ub85d\ud569\ub2c8\ub2e4.\\n5. \uc778\uc2a4\ud134\uc2a4 \ub9e4\ud2b8\ub9ad\uc744 \uc218\ube5a\ud558\uace0 CloudWatch\ub85c \uc804\ub2ec\ud569\ub2c8\ub2e4.\\n6. Scaling Policy \uc870\uac74\uc744 \ucda9\uc871\ud558\uba74 \uc54c\ub78c\uc774 \uc6b8\ub9bd\ub2c8\ub2e4.\\n7. Launch Template\ub97c Trigger \ud569\ub2c8\ub2e4.\\n8. EC2 \uc0dd\uc131 \ubc0f ASG, Target Group\uc5d0 \ub4f1\ub85d\ud569\ub2c8\ub2e4.\\n\\n\\n<img src=\\"/img/blog/aws/2025-07-22/img3.png\\" width={600}/>\\n\\n## Storage Service\\n\\n### Block Storage\\n\\n\ub300\ud45c\uc801\uc73c\ub85c AMAZON EBS(Elastic Block Store)\\n\\n\ub370\uc774\ud130\ub97c \uc77c\uc815\ud55c \ud06c\uae30\uc758 \ube14\ub85d \ub2e8\uc704\ub85c \uc800\uc7a5\ud574\uc694. \ube14\ub85d\uc758 \uace0\uc720 \uc8fc\uc18c\ub85c \uc811\uadfc\ud558\uc5ec \ube60\ub978 \uc811\uadfc\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4. \ub610\ud55c, \uc11c\ub85c \ub2e4\ub978 OS\uc5d0\uc11c \uc811\uadfc\uac00\ub2a5\ud574\uc694.\\n\\n**Elastic Block Store**\\n- EC2 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc5f0\uacb0\ud574 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ub124\ud2b8\uc6cc\ud06c \uae30\ubc18 Block Storage \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.\\n    - \uc9c1\uc811\uc801\uc73c\ub85c \uc5f0\uacb0\uc774 \ub418\uc5b4\uc788\uc9c0 \uc54a\uc544\uc694. \uadf8\ub798\uc11c VM\uc774 \ub04a\uaca8\ub3c4 \uc8fc\uc18c \uae30\ubc18\uc774\uae30 \ub54c\ubb38\uc5d0 \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n- Data volume, snapshot\uc5d0 \ub300\ud55c \uc554\ud638\ud654\ub97c \uc9c0\uc6d0\ud574\uc918\uc694.\\n- \ud558\ub098\uc758 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc5f0\uacb0\ud574 \uc0ac\uc6a9\ud558\uba70, EC2 \uc778\uc2a4\ud134\uc2a4\uc640 \ubcc4\uac1c\ub85c \uad00\ub9ac\uac00 \ub429\ub2c8\ub2e4. \\n    - \ud558\ub098\uc758 \uc778\uc2a4\ud134\uc2a4\uc5d0 2\uac1c \uc774\uc0c1\uc758 EBS \ubcfc\ub968\uc774 \uc5f0\uacb0\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n    - \ubcfc\ub968 \ud0c0\uc785\uc774 io1, 2 \ud0c0\uc785\uc778 \uacbd\uc6b0\ub124\ub294 \ub3d9\uc77c\ud55c \uac00\uc6a9\uc601\uc5ed \ub0b4\uc5d0\uc11c \uc5ec\ub7ec \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc5f0\uacb0\uc774 \uac00\ub2a5\ud574\uc694.\\n    - \uc5f0\uacb0\ub418\uc5b4 \uc788\ub358 EBS\uac00 \ubd84\ub9ac\ub41c \ud6c4\uc5d0 \ub2e4\ub978 \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc788\uc5b4\uc694.\\n- \ud2b9\uc815 \uac00\uc6a9\uc601\uc5ed\uc548\uc5d0\uc11c\ub9cc \uc0dd\uc131\ub418\uae30 \ub54c\ubb38\uc5d0 \uac00\uc6a9\uc601\uc5ed\uac04 EBS \ubcfc\ub968 \uacf5\uc720\uac00 \ubd88\uac00\ub2a5\ud574\uc694.\\n    - \ub9cc\uc57d \uc815\ubcf4\uac00 \ub2e4\ub978 \uac00\uc6a9\uc601\uc5ed\uc5d0 \ud544\uc694\ub85c \ud55c\ub2e4\uba74 \uc2a4\ub0c5\uc0f7\uc744 \ud65c\uc6a9\ud574 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-22/img4.png\\" width={600}/>\\n\\n**Instance Store**\\n- \ud638\uc2a4\ud2b8 \ucef4\ud4e8\ud130\uc758 \ub514\uc2a4\ud06c\ub97c \uc9c1\uc811 \uc5f0\uacb0\ud574\uc694. \uac00\uc7a5 \ube60\ub978 \uc18c\uace7\uc758 \ub514\uc2a4\ud06c \ud0c0\uc785\uc785\ub2c8\ub2e4.\\n- \ube44\uc601\uad6c\uc801 \uc800\uc7a5\uc18c(\ud718\ubc1c\uc131)\uc774\uc5b4\uc11c \uc778\uc2a4\ud134\uc2a4 \uc911\uc9c0 \ubc0f \uc885\ub8cc \uc2dc\uc5d0 \ud558\ub4dc\uc6e8\uc5b4\uac00 \ubc14\ub00c\uba74\uc11c \ub370\uc774\ud130\ub97c \uc190\uc2e4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n- \uc5f0\uacb0\ud574\uc9c0\uac00 \ubd88\uac00\ub2a5\ud558\uace0, \uc778\uc2a4\ud134\uc2a4 \ud328\ubc00\ub9ac\uc5d0 \ub530\ub77c \ub514\uc2a4\ud06c\uc758 \uc885\ub958\uc640 \uc0ac\uc774\uc988\uac00 \ub2ec\ub77c\uc694.\\n- \ub300\ud45c\uc801\uc73c\ub85c \uce74\uc0b0\ub4dc\ub77c\uc640 \uac19\uc740 \uac83\ub4e4\uc774 \uc0ac\uc6a9\ud574\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-22/img5.png\\" width={600}/>\\n\\n**EBS Snapshot**\\n- \ud2b9\uc815 \uc2dc\uc810\uc5d0\uc11c EBS \ubcfc\ub968\uc5d0 \uc800\uc7a5\ub41c \ub370\uc774\ud130\ub97c \ubcf5\uc0ac\ud574\ub454 \ub370\uc774\ud130\ub97c \uc758\ubbf8\ud574\uc694.\\n- \uc99d\ubd84 \ubc29\uc2dd \uc800\uc7a5(\ub85c\uadf8\uc640 \uac19\uc740 \uac12\ub4e4\uc744 \uc800\uc7a5, \ud2b9\uc815 \uc2dc\uc810\uc73c\ub85c \ub9de\ucdb0\uc904 \uc218 \uc788\uc5b4\uc694.)\uc744 \ud1b5\ud574\uc11c \uc800\uc7a5 \uc6a9\ub7c9\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud560 \uc218 \uc788\uc5b4\uc694.\\n- snapshot\uc740 S3 \ubc84\ud0b7\uc5d0 \ubcf4\uad00\ub3fc\uc694. (ec2 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c\ub9cc \ubcfc \uc218 \uc788\uace0, S3\uc5d0\uc11c\ub294 \ubcf4\uc774\uc9c0 \uc54a\uc544\uc694.)\\n\\n### File Storage\\n\\n\ub300\ud45c\uc801\uc73c\ub85c AMAZON EFS, AMAZON FSx \uac00 \uc788\uc5b4\uc694.\\n\\n\ud30c\uc77c\uacfc \ud3f4\ub354\uc758 \uacc4\ucda9 \uad6c\uc870\ub85c \uc800\uc7a5\ub418\uc5b4 \uc788\uc5b4\uc694. \ud30c\uc77c, \ud3f4\ub354\uac00 \ub9ce\uc544\uc9c8 \uc218\ub85d \ud30c\uc77c \ud0d0\uc0c9 \uc131\ub2a5\uc774 \uc800\ud558\ub3fc\uc694.\\n\\n\ud30c\uc77c \uc2dc\uc2a4\ud15c(\ud504\ub85c\ud1a0\ucf5c)\uc5d0 \ub530\ub77c\uc11c OS \uc811\uadfc\uc774 \uc548\ub420 \uc218 \uc788\uc5b4\uc694.\\n\\n### Object Storage\\n\\n\ub300\ud45c\uc801\uc73c\ub85c S3\uac00 \uc788\uc5b4\uc694.\\n\\n\uc624\ube0c\uc81d\ud2b8 \ub2e8\uc704\ub85c \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\uace0 Application \ub2e8\uc5d0\uc11c \ub3d9\uc791\ud569\ub2c8\ub2e4. \ubb3c\ub9ac\uc801 \uc81c\uc57d\uc774 \uc801\uc5b4 \uc6d0\ud558\ub294 \ub9cc\ud07c \ud655\uc7a5 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n\uc624\ube0c\uc81d\ud2b8 \ubcc4\ub85c KEY:VAULE \ud615\ud0dc\ub85c \uad6c\uc131 \ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4.\\n\\n**Simple Storage Service**\\n\\n- \uc6f9 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud574 \uc5b4\ub514\uc11c\ub098 \uc811\uadfc \uac00\ub2a5\ud55c object storage\uc5d0\uc694. \uc6a9\ub7c9 \uc81c\ud55c \uc5c6\uc774 \ubb34\uc81c\ud55c \ud655\uc7a5 \uac00\ub2a5\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \uc785\ub2c8\ub2e4. \uc0ac\uc6a9\ud55c \ub9cc\ud07c \uacfc\uae08\uc774 \ub418\uc694.\\n- \uc6f9 \ube0c\ub77c\uc6b0\uc800 GUI\ub97c \uc774\uc6a9\ud558\uac70\ub098, REST API\ub97c \uc774\uc6a9\ud574 \ub370\uc774\ud130\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4. \ub2e8\uc21c \ub370\uc774\ud130 \uc800\uc7a5\uc18c\ub85c \ub3d9\uc791\ud558\uba70, \ud504\ub85c\uadf8\ub7a8 \uc124\uce58 \uc791\uc5c5\uc740 \uc81c\ud55c\ub3fc\uc694.\\n- \uc815\uc801 \uc6f9 \ud638\uc2a4\ud305\uc744 \uc9c0\uc6d0\ud574\uc694.\\n\\n- \ubc84\ud0b7\uc744 \uc0dd\uc131\ud560 \ub54c\ub294 \uace0\uc720\ud55c \uc774\ub984\uc73c\ub85c \uc0dd\uc131\ud574\uc57c\ud558\uba70, \uc0dd\uc131\ub418\ub294 \uc704\uce58 \uc9c0\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.\\n- \ubc84\ud0b7 \ub0b4 \uc800\uc7a5\ub418\ub294 Object\ub9c8\ub2e4 KEY VALUE \ub85c \ub9f5\ud551\uc774 \ub429\ub2c8\ub2e4.\\n- \uac1d\uccb4\ub97c \uc800\uc7a5\ud558\uac8c \ub418\uba74 S3 URI(AWS \ub0b4\ubd80 \uc791\uc5c5\uc6a9 \uc2dd\ubcc4\uc790), Object URL(http \uae30\ubc18\uc758 \uc678\ubd80 \uc811\uc18d\uc6a9 \uc2dd\ubcc4\uc790) \uc815\ubcf4\ub97c \ud560\ub2f9\ud574\uc90d\ub2c8\ub2e4.\\n    - Object\uc744 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \ub744\uc6b8 \ub54c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. (\uc870\ud68c\uc6a9\uc73c\ub85c \uc0ac\uc6a9\ud574\uc694.)\\n\\nS3 Bucket\uc740 \uc544\ub798\uc640 \uac19\uc544\uc694.\\n- Effect : Action\uc5d0 \uba85\uc2dc\ub41c \uc791\uc5c5 \uad8c\ud658\uc744 Allow \ud558\uac70\ub098 Deny \ud569\ub2c8\ub2e4.\\n- Principal : \uba85\uc2dc\ub41c \ub300\uc0c1\uc5d0 \uc811\uadfc\uc744 \ud5c8\uc6a9\ud560 \ubcf4\uc548\uc8fc\uccb4 (User, Role \ub4f1\ub4f1)\uc744 \uc9c0\uc815\ud574\uc694.\\n- Action : \uc11c\ube44\uc2a4\uba85\uacfc \ud589\uc704 \ud615\ud0dc\ub85c \uad6c\uc131\uc774 \ub418\uc5b4\uc788\uc5b4\uc694.\\n- Resource : \uc815\ucc45 \uc801\uc6a9\ub300\uc0c1\uc758 ARN \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc694.\\n- Condition: \uc815\ucc45\uc774 \uc801\uc6a9\ub420 \uc870\uac74\uc744 \uc9c0\uc815\ud574\uc918\uc694.\\n\\n```JSON\\n{\\n    \\"Statement\\": [\\n        {\\n            \\"Effect\\": \\"Allow\\", // or \\"Deny\\"\\n            \\"Principal\\": {\\n                \\"AWS\\": \\"arn:...:user\\"\\n            },\\n            \\"Action\\": \\"s3:GetObejct\\",\\n            \\"Resource\\": \\"arn:...:my_bucket/*\\",\\n            \\"Condition\\": {\\n                \\"IpAddress\\": {\\n                    \\"aws:SourceIp\\": [\\n                        \\"100.10.1.1/32\\",\\n                        \\"10.0.0.0/16\\"\\n                    ]\\n                }\\n            }\\n        }\\n    ]\\n}\\n```\\n\\n- S3 public Access Block\\n    - bucket policy, s3 access control list \uc124\uc815\ubcf4\ub2e4\ub294 public access block\uc774 \uc6b0\uc120\uc785\ub2c8\ub2e4.\\n    - \uae30\ubcf8\uc801\uc73c\ub85c \ubc84\ud0b7\uc740 private \uc0c1\ud0dc\ub85c \uc0dd\uc131\ub418\uc9c0\ub9cc, \ub370\uc774\ud130\ub97c \uc548\uc804\ud558\uac8c \ubcf4\ud638\ud558\uae30 \uc704\ud574\uc11c public \uc811\uadfc \ud5c8\uc6a9 \uc815\ucc45\uc774 \uc801\uc6a9\ub418\ub294 \uac83\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4.\\n    - Bucket policy, access control list \ub4f1\uc5d0\uc11c public \uc811\uadfc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud558\ub294 \uc124\uc815\uc744 \ubb34\uc2dc\ud558\uac70\ub098 \ucc28\ub2e8\ud569\ub2c8\ub2e4."},{"id":"/2025/07/21/aws/AWS-basic-1-title","metadata":{"permalink":"/blog/2025/07/21/aws/AWS-basic-1-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/aws/2025-07-21-AWS-basic-1-title.mdx","source":"@site/blog/aws/2025-07-21-AWS-basic-1-title.mdx","title":"AWS basic (1)","description":"{/ truncate /}","date":"2025-07-21T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"AWS","permalink":"/blog/tags/aws"}],"readingTime":5.29,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"AWS basic (1)","authors":["hyeonlim"],"tags":["TIL","AWS"]},"unlisted":false,"prevItem":{"title":"AWS basic (2)","permalink":"/blog/2025/07/22/aws/AWS-basic-2-title"},"nextItem":{"title":"Grafana + Prometheus + MySQL Exporter\ub97c \ud65c\uc6a9\ud55c MySQL \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815\uae30","permalink":"/blog/2025/07/20/docker/MYSQL-monioring-setting-title"}},"content":"{/* truncate */}\\n\\n## \ub124\uc774\ubc0d \ucee8\ubca4\uc158\\n\\n\ud68c\uc0ac\ub9c8\ub2e4 \uae30\uc900\uc774 \uc788\uae30\ub3c4 \ud558\uace0, \uc790\uc2e0\ub9c8\ub2e4 \ubaa9\ud45c\ub97c \uc138\uc6cc\ub450\uace0 \uc9c4\ud589\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n- \uc2dc\uc2a4\ud15c \uac1c\ubc1c \ud658\uacbd\\ndev(development), stg(staging), qa, prd\\n\\n- \uc2dc\uc2a4\ud15c \uba85\uce6d\\nerp, crm, ecommerce, bank\\n\\n- \ub9ac\uc18c\uc2a4 \uba85\uce6d\\nec2, rds, dynamodb, redis\\n\\n- \uc2dc\uc2a4\ud15c \uc5ed\ud560\\nweb, was, aip, bastion\\n\\n- a + \ub118\ubc84\ub9c1\\npub01a, pri01c\\n\\n## Identity and Access Management\\n\\n\ub204\uac00(Identity) \uc5b4\ub5a4 \uac83\uc744 \uc774\uc6a9\ud560 \uc218 \uc788\ub294\uc9c0 \uc5c6\ub294\uc9c0\uc5d0 \ub300\ud55c \uac83\uc785\ub2c8\ub2e4.\\n\\nRoot User\ub294 \uac1c\uc815 \uc0dd\uc131\uc2dc \ubc1c\uae09\uc774 \ub418\ub294\ub370 \ucd08\uae30 \uc124\uc815 \uc774\ud6c4\uc5d0\ub294 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uac83\uc744 \uad8c\uc7a5\ud574\uc694\\n1. Root User MFA \uc124\uc815\\n2. Password Policy \uc124\uc815\\n3. \ub300\uccb4 \uc5f0\ub77d\ucc98 \uc124\uc815\\n4. Admin User \uc0dd\uc131 (\uc5ec\uae30\uc11c \uc791\uc5c5\uc744 \ud558\ub294 \uac83\uc774 \uc88b\ub2e4.)\\n\\n=> \ud574\ub2f9 \uc791\uc5c5\uc744 \uc81c\uc678\ud55c \ubaa8\ub4e0 \uc791\uc5c5\uc5d0\uc11c Root User \uc0ac\uc6a9\uc744 \uc81c\ud55c\ud558\ub294 \uac83\uc774 \uc88b\uc544\uc694. \ub9cc\uc57d Root User\uc640 \ub3d9\uc77c\ud55c \uad8c\ud55c\uc744 \ud589\uc138\ud558\uace0 \uc2f6\uc73c\uba74 \uc544\ub798\uc640 \uac19\uc774 \uc9c4\ud589\uc744 \uc8fc\uba74 \ub3fc\uc694.\\n\\n\uc544\ub798 \uc0ac\uc9c4\uc744 \ubcf4\uac8c \ub418\uba74 IAM\uc5d0 \uc811\uc18d\ud558\uc5ec \uc0ac\uc6a9\uc790\ub97c \ud558\ub098 \uc0dd\uc131\uc744 \ud574\uc8fc\ub294\ub370 \uc774 \ub54c AdministratorAccess\ub97c \uc9c0\uc815\ud574\uc8fc\uba74 Root \uacc4\uc815\uc774 \uc544\ub2cc \ub2e4\ub978 \uacc4\uc815\uc5d0 \uc804\uccb4 \uad8c\ud55c\uc744 \ubd80\uc5ec\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc90d\ub2c8\ub2e4.\\nAdmin\uc758 Policy(json)\uc740 \uc544\ub798\uc640 \uac19\uc774 \uad6c\uc131\uc774 \ub418\uc5b4\uc788\uc5b4\uc694.\\n\\n```JSON\\n{\\n  \\"Version\\" : \\"2012-10-17\\",\\n  \\"Statement\\" : [\\n    {\\n      \\"Effect\\" : \\"Allow\\",\\n      \\"Action\\" : \\"*\\",\\n      \\"Resource\\" : \\"*\\"\\n    }\\n  ]\\n}\\n```\\n\\n<img src=\\"/img/blog/aws/2025-07-21/img2.png\\" width={600} />\\n\\n- Identity (\ubcf4\uc548 \uc8fc\uccb4, Principal)\\n    - Root User : \ubaa8\ub4e0 \uad8c\ud55c\uc744 \uc18c\uc720, \ucd08\uae30 \uc124\uc815 \ud6c4\uc5d0 \uc0ac\uc6a9\uc744 \uc9c0\uc591, \ub4f1\ub85d\ub41c \uc774\uba54\uc77c \uc8fc\uc18c\ub85c \uc811\uadfc\\n    - IAM User : \ubd80\uc5ec\ub41c \uad8c\ud55c\ub9cc \ud589\uc0ac, \uc7a5\uae30\uc790\uaca9\uc99d\uba85, \uc0dd\uc131\ub41c \uc790\uaca9(ID, PW)\ub85c \uc811\uadfc\\n    - IAM Role : \ubd80\uc5ec\ub41c \uad8c\ud55c\ub9cc \ud589\uc0ac, \uc784\uc2dc\uc790\uaca9\uc99d\uba85, AWS API\ub97c \uc0ac\uc6a9\ud574 \uc811\uadfc\\n    - AWS Service(application) : \uc0ac\uc6a9\uc790 \ub300\uc2e0 \uc791\uc5c5 \uc218\ud589, IAM User / IAM Role\uc744 \uc774\uc6a9\ud574\uc11c \uc791\uc5c5\uc744 \ub300\uc2e0 \uc218\ud589\\n\\n- Access Management\\n    - IAM\uc740 JSON \uad6c\uc870\ub85c \uad6c\uc131\ub41c \uc815\ucc45(policy) \ubb38\uc11c\ub97c \uae30\ubc18\uc73c\ub85c \uc0ac\uc6a9\uc790\uc758 \uad8c\ud55c\uc744 \uad00\ub9ac\\n\\n```JSON\\n{\\n    \\"\ub204\uac00\\": \\"IAM User / AWS Service ..\\",\\n    \\"\ubb34\uc5c7\uc744 (\ub300\uc0c1)\\" : \\"S3 / EC2 / DynamoDB ..\\",\\n    \\"\uc5b4\ub5bb\uac8c (\ud589\uc704)\\": \\"GET / DELETE / CREATE ..\\",\\n    \\"\ud560 \uc218 \uc788\ub2e4/\uc5c6\ub2e4\\": \\"true/false\\"\\n}\\n```\\n\\nJSON \uc815\ucc45 -> Role\uc5d0\uac8c \ubd80\uc5ec\ud558\uace0 \uc774\uac83\uc744 \ub2e4\uc2dc Service\uc5d0 \uc904 \uc218 \uc788\uc5b4\uc694. EC2 \uc778\uc2a4\ud134\uc2a4\uc5d0 \ub3d9\uc77c\ud55c IAM \uc815\ucc45\uc744 \ubd80\uc5ec\ud558\uace0 \uc2f6\uc73c\uba74 Role\uc5d0 \uc5ed\ud560\uc744 \ubd80\uc5ec\ud558\uace0 \ud574\ub2f9 \uc5ed\ud560\uc744 \ubd80\uc5ec\ud574\uc8fc\uba74 \ub3fc\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-21/img1.png\\" width={600} />\\n\\n## Network Baseline\\n\\n\ub124\ud2b8\uc6cc\ud06c 3\uac00\uc9c0 \uc124\uacc4 \ud3ec\uc778\ud2b8\\n\\n- segmentation : private \ud658\uacbd\uc744 \ub9cc\ub4e4\uc5b4 \ub450\ub294 \uac83\uc785\ub2c8\ub2e4.\\n    - CIDR-Subnetting, Public & Private ...\\n\\n- connectivity : private \ud658\uacbd\uacfc \uc5f0\uacb0\uc774 \ub418\ub294 \uac83\uc744 \ub9d0\ud569\ub2c8\ub2e4.\\n    - IGW, NAT, Elastic IP, Site to Site VPN ...\\n\\n- security : \uc5f4\ub9b0 \uac83\ub4e4\uc744 \uc548\uc804\ud558\uac8c \ubc29\uc5b4\ud558\ub294 \uac83\uc785\ub2c8\ub2e4.\\n    - \ubcf4\uc548 \uadf8\ub8f9, Network-ACL, WAF ...\\n\\nPrivate IP \uc8fc\uc18c \ub300\uc5ed\uc740 \uc544\ub798 \uc0ac\uc9c4\uacfc \uac19\uc774 RFC 1918 \ubb38\uc11c\uc5d0 \ud45c\uc900\uc73c\ub85c \uc9c0\uc815\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub530\ub77c\uc11c VPC \ub124\ud2b8\uc6cc\ud06c\ub97c \uc124\uc815\ud558\uac8c \ub41c\ub2e4\uba74 \uc0ac\uc9c4\uacfc \uac19\uc740 \ub124\ud2b8\uc6cc\ud06c\ub97c \uc124\uc815\ud558\uba74 \ub429\ub2c8\ub2e4.\\n\\n<img src=\\"/img/blog/aws/2025-07-21/img1.png\\" width={600} />\\n\\nAWS\uc5d0\uc11c\ub294 \uc608\uc57d\ub41c IP 5\uac1c\ub97c \uc81c\uc678\ud55c \ub098\uba38\uc9c0\ub97c \uc790\uc720\ub86d\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4\uc694.\\n- x.x.x.0 : Network Address\\n- x.x.x.255 : Broadcast Address\\n- x.x.x.1 : VPC Router\\n- x.x.x.2 : DNS server\\n- x.x.x.3 : Futuer use\\n\\n## VPC (Virtual Private Cloud)\\n\\nVPC\ub294 \ub2e4\ub978 \ub124\ud2b8\uc6cc\ud06c \ud658\uacbd \ubc0f \uc678\ubd80\uc640 \uaca9\ub9ac\ub41c \uac00\uc0c1\uc758 \uc0ac\uc124 \ub124\ud2b8\uc6cc\ud06c\ub97c \ub9d0\ud574\uc694.\\n\\n- AWS \uc548\uc5d0\uc11c\ub294 \ucd5c\uc18c /28 ~ \ucd5c\ub300 /16 \uc0dd\uc131\ud560 \uc218 \uc788\uc5b4\uc694.\\n- VPC\ub294 \ucd5c\ub300 5\uac1c \uc0dd\uc131 \uac00\ub2a5\ud558\uba70, \ub354 \ucd94\uac00\ub97c \ud558\uae30 \uc704\ud574\uc11c\ub294 AWS\uc5d0 \uc694\uccad\uc744 \ud574\uc8fc\uba74 \ub3fc\uc694.\\n- CIDR\uc740 \ud55c \ubc88 \uc124\uc815\ud558\uba74 \uc218\uc815\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.\\n    - \ucd94\uac00\ud558\uace0 \uc2f6\uc73c\uba74 Secondary\ub97c \ucd94\uac00\ud574\uc11c \ub124\ud2b8\uc6cc\ud06c \ud655\uc7a5\uc744 \ud560 \uc218 \uc788\uc5b4\uc694. \uc774\uac83\ub3c4 \ucd5c\ub300 5\uac1c\uc778\ub370 5\uac1c \ucd08\uacfc\ud574\uc11c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 AWS\uc5d0 \uc694\uccad\uc744 \ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4.\\n- VPC\ub294 \ud2b9\uc815 Region\uc5d0 \uc885\uc18d \ub9ac\uc18c\uc2a4 (\ub9ac\uc804\uc548\uc5d0\uc11c\ub9cc \ud65c\ub3d9\uc774 \uac00\ub2a5\ud568)\uc5d0\uc694.\\n    - 1\uac1c\uc758 VPC\ub85c \ubaa8\ub4e0 Region\uc744 \ucee4\ubc84\ud558\ub294 \uac83\uc744 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n- \uc678\ubd80\uc640 \uaca9\ub9ac\ub41c VPC\ub294 Internet GateWay\ub97c \ud1b5\ud574\uc11c\ub9cc \uc778\ud130\ub137\uacfc \ud1b5\uc2e0\uc744 \uac00\ub2a5\ud574\uc694.\\n    - Internet Gateway\ub294 \uc0dd\uc131 \ud6c4 VPC\uc5d0 \ud560\ub2f9\ud558\uc5ec \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n    - 1\uac1c\uc758 VPC\uc5d0\ub294 1\uac1c\uc758 Internet Gateway\ub9cc \ud560\ub2f9 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n- \uaca9\ub9ac\ub41c network \uac04\uc5d0 \ud1b5\uc2e0\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d Routing Table\uc744 \uc124\uc815\ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4.\\n\\n- NAT Gateway vs Routing Table\\n    - Private Subnet\uc758 \ub9ac\uc18c\uc2a4\ub4e4\uc774 Nat Gateway\uc758 Public IP\ub97c \uacf5\uc720\ud574 \uc778\ud130\ub137\uc744 \uc774\uc6a9\ud569\ub2c8\ub2e4. \ub0b4\ubd80 \ub9ac\uc18c\uc2a4\uac00 \uc678\ubd80\ub85c \uc811\uadfc\ud558\ub294 \uacbd\uc6b0\uc5d0\ub9cc \ud5c8\uc6a9\ud574\uc694.\\n    - \uc678\ubd80\uc5d0\uc11c \ub0b4\ubd80\ub85c \uc811\uc18d\ud558\ub294 \ud2b8\ub798\ud53d\uc740 \ucc98\ub9ac\ud560 \uc218 \uc5c6\uc5b4\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-21/img4.png\\" width={600}/>\\n<img src=\\"/img/blog/aws/2025-07-21/img5.png\\" width={600}/>\\n\\n## Network Security\\n\\n### Network ACL\\n\\n- \uc11c\ube0c\ub137\uc5d0 \uc811\uadfc \ud5c8\uc6a9\ud560 \ud2b8\ub798\ud53d \uc815\ubcf4\ub97c \uad00\ub9ac\ud558\ub294 \uac00\uc0c1\uc758 \ubc29\ud654\ubcbd\uc774\uc5d0\uc694. (\uc11c\ube0c\ub137 \ub2e8\uc704\ub85c \uc801\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.)\\n- 1\uac1c\uc758 NACL\uc5d0 \uc5ec\ub7ec \uac1c\uc758 \uc11c\ube0c\ub137\uc744 \uc801\uc6a9\ud558\ub294 \uac83\uc740 \uac00\ub2a5\ud558\ub098 \uadf8 \ubc18\ub300\ub294 \ubd88\uac00\ub2a5\ud574\uc694.\\n- \uc0c1\ud0dc \ube44\uc800\uc7a5 \ubc29\uc2dd\uc774\uc5b4\uc11c In-bound\uc640 Out-bound \ubaa8\ub450 \uaddc\uce59\uc744 \uc801\uc6a9\ud574\uc8fc\uc5b4\uc57c \ud574\uc694.\\n- \ubaa8\ub4e0 \ud2b8\ub798\ud505\uc744 \ud5c8\uc6a9\ud558\uace0, \ucc28\ub2e8\ud560 IP \uc8fc\uc18c\ub098 Port\ub97c \uc9c0\uc815\ud574\uc11c \ucc28\ub2e8\ud558\ub294 \ubc29\uc2dd\uc774\ub77c\uace0 \uc0dd\uac01\ud558\uba74 \ud3b8\ud574\uc694.\\n\\n\\n### \ubcf4\uc548 \uadf8\ub8f9\\n- \ub9ac\uc18c\uc2a4\uc5d0 \uc811\uadfc \ud5c8\uc6a9\ud560 \ud2b8\ub798\ud53d \uc815\ubcf4\ub97c \uad00\ub9ac\ud558\ub294 \uac00\uc0c1\uc758 \ubc29\ud654\ubcbd\uc774\uc5d0\uc694.\\n- Elastic Network Interface\uc5d0 \uc5ec\ub7ec \uac1c\uc758 \ubcf4\uc548 \uadf8\ub8f9 \uc801\uc6a9\uc774 \uac00\ub2a5\ud574\uc694.\\n- In-bound / Out-bound \ud2b8\ub798\ud53d\uc758 \ud5c8\uc6a9 \uaddc\uce59\ub9cc\uc744 \uc815\uc758\ud574\uc694. \uae30\ubcf8\uc801\uc73c\ub85c\ub294 \ub2e4 \ub9c9\uc544\ub450\uc9c0\ub9cc \ud2b9\uc815\ud55c \uac83\uc5d0 \ub300\ud574\uc11c \ud5c8\uc6a9\ud574\uc694.\\n- \ubcf4\uc548 \uadf8\ub8f9\uc740 \uc0c1\ud0dc \uc800\uc7a5 \ubc29\uc2dd\uc758 \ubc29\ud654\ubcbd\uc774\uae30 \ub54c\ubb38\uc5d0 In-bound \ud5c8\uc6a9 \uaddc\uce59\uc774 \uc801\uc6a9\uc774 \ub418\uc5b4\uc788\uc73c\uba74, Out-bound \ud5c8\uc6a9 \uaddc\uce59\uc774 \uc5c6\uc5b4\ub3c4 \ud1b5\uacfc\ud560 \uc218 \uc788\uc5b4\uc694.\\n- \ub9ac\uc18c\uc2a4 \ub2e8\uc704\ub85c \uac01 \ud5c8\uc6a9\ub418\uc5b4\uc57c\ud560 Protocol, Port\ub97c \uc138\ubd80\uc801\uc73c\ub85c \uc9c0\uc815\ud558\ub294 \ubc29\uc2dd\uc774\ub77c\uace0 \uc54c\uace0 \uc788\uc73c\uba74 \ub3fc\uc694.\\n\\n## Elastic Compute Cloud (EC2)\\n\\n\uac00\uc0c1\ud654\ub41c \ucef4\ud4e8\ud305 \uc790\uc6d0(\uc778\uc2a4\ud134\uc2a4\ub97c \uc81c\uacf5)\uc744 \ube4c\ub824\uc918\uc694.\\n\\n### Naming Rule\\nEC2 instance Type\uc740 instance family, generation, attributes, size\ub85c \uad6c\uc131\uc774 \ub418\uc5b4\uc788\uc5b4\uc694.\\n\\n```txt\\nex. t4g. 2xlarge \ub97c \ubcf4\uba74 t(instance family) | 4(instance generation) | g(attributes) | 2xlarge(size)\\n```\\n- instance family: \uae30\ub2a5 \ubcc4\ub85c \uadf8\ub8f9\uc73c\ub85c \ubb36\uc5b4 \ud328\ubc00\ub9ac \ub2e8\uc704\ub85c \uad6c\ubd84\ud574\uc694.\\n<img src=\\"/img/blog/aws/2025-07-21/img6.png\\" width={600}/>\\n\\n- instance generation\\n    - \uc8fc\uae30\uc801\uc73c\ub85c \ucd5c\uc2e0 \uae30\uc220\uc744 \ubc18\uc601\ud55c \uc778\uc2a4\ud134\uc2a4 \uc138\ub300\ub97c \ucd9c\uc2dc\ud574\uc694.\\n    - \uc774\uc804 \uc138\ub300 \uc778\uc2a4\ud134\uc2a4 \ub300\ube44 \ube44\uc6a9\uc774 \ub0ae\uc544\uc9c0\uac70\ub098 \uc131\ub2a5\uc774 \ud5a5\uc0c1\ub3fc\uc694.\\n    - \ub9ac\uc804, \uac00\uc6a9\uc601\uc5ed(AZ) \ubcc4\ub85c \uc9c0\uc6d0\ub418\ub294 \uc778\uc2a4\ud134\uc2a4 \uc138\ub300\uac00 \ub2ec\ub77c\uc694.\\n\\n- attributes\\n    - \ucd94\uac00 \uc9c0\uc6d0\ub418\ub294 \uae30\ub2a5\uc5d0 \ub530\ub77c attributes\uac00 \ubd99\uc5b4\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-21/img7.png\\" width={600}/>\\n\\n### Amazon Machine Image(AMI)\\n- EC2 \uc778\uc2a4\ud134\uc2a4\ub97c \uc2e4\ud589\ud558\ub294\ub370 \ud544\uc694\ud55c \uc124\uc815 \uc815\ubcf4\ub97c \ubaa8\uc740 \ub2e8\uc704\uc785\ub2c8\ub2e4.\\n- AMI \uad6c\uc131 \uc694\uc18c \uc544\ub798\uc640 3\uac00\uc9c0\uc5d0\uc694:\\n    - \ub8e8\ud2b8 \ubcfc\ub968 \ud15c\ud50c\ub9bf: \uc778\uc2a4\ud134\uc2a4 \ub8e8\ud2b8 \ubcfc\ub968\uc5d0 \uc0ac\uc6a9\ub418\ub294 \ud15c\ud50c\ub9bf (ex. \uc544\ub9c8\uc874 \ub9ac\ub205\uc2a42, \uc6b0\ubd84\ud22c \ub9ac\ub205\uc2a4 \ub4f1)\\n    - \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791 \uc124\uc815 \uac12 : \uc778\uc2a4\ud134\uc2a4 \ud0c0\uc785, \ub124\ud2b8\uc6cc\ud06c \uc124\uc815, \uc2a4\ud1a0\ub9ac\uc9c0 \uad6c\uc131\\n    - AMI \uad8c\ud658 \uad00\ub9ac \uc815\ubcf4(Permission): public / private\\n- \ub9ac\uc804 \ub2e8\uc704\ub85c \uc800\uc7a5\ub418\uba70, \uc0ac\uc6a9\ud558\ub824\uba74 \ub9ac\uc804\uc5d0 AMI\uac00 \uc5c6\uc73c\uba74 \ub9ac\uc804 \uac04 \ubcf5\uc0ac\ub97c \uc9c4\ud589\ud574\uc694.\\n- AMI \ub370\uc774\ud130 \uc790\uccb4\ub294 S3\uc5d0 \uc800\uc7a5\uc774 \ub418\uba70 \uc800\uc7a5 \ube44\uc6a9\uc774 \ubc1c\uc0dd\ud574\uc694.\\n\\n- \uc2e4\uc81c \uc0ac\uc6a9\ud558\ub294 \uc0ac\ub840\ub294 \uc544\ub798\uc640 \uac19\uc544\uc694:\\n    1. DevOps CI/CD \ud658\uacbd\uc5d0\uc11c \uac1c\ubc1c \ud658\uacbd\uc774 \uc0ac\uc804 \uad6c\uc131\ub41c AMI\ub85c \ud14c\uc2a4\ud2b8 \ud658\uacbd\uc744 \uad6c\uc131\ud574\uc694.\\n    2. Autu Scaling\uc744 \ud1b5\ud574 \ub3d9\uc77c\ud55c \uc124\uc815\uc744 \uac00\uc9c4 \uc778\uc2a4\ud134\uc2a4\ub97c \ubcf5\uc81c \uc0dd\uc131\ud574\uc694.\\n    3. \uc0ac\ub0b4 \uc9c0\uc815\ub41c \ubcf4\uc548 \uc18c\ud504\ud2b8\uc6e8\uc5b4\uac00 \uc124\uce58\ub41c AMI \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud560 \ub54c \uc0ac\uc6a9\ud574\uc694.\\n    4. \uc778\uc2a4\ud134\uc2a4 \uc7a5\uc560 \ubc1c\uc0dd \uc0c1\ud669\uc5d0\uc11c \uc0ac\uc804\uc5d0 \ubc31\uc5c5\ud55c \uc778\uc2a4\ud134\uc2a4 AMI \uc774\uc6a9\ud558\uc5ec \uc2dc\uc2a4\ud15c\uc744 \ubcf5\uc6d0\ud574\uc694.\\n\\n- AMI \uc758 \uc885\ub958\ub294 \uc544\ub798\uc640 \uac19\uc774 \uc788\uc5b4\uc694:\\n    1. AWS AMI : AWS\uac00 \uae30\ubcf8\uc801\uc73c\ub85c \uc81c\uacf5\ud558\ub294 \uc774\ubbf8\uc9c0\uc785\ub2c8\ub2e4.\\n    2. Marketplace AMI : third-party vender\uac00 \uc0dd\uc131\ud55c \uc774\ubbf8\uc9c0\uc785\ub2c8\ub2e4.\\n    3. Community AMI : aws \uc0ac\uc6a9\uc790\uac00 \uc0dd\uc131\ud55c \uc774\ubbf8\uc9c0\uc774\uace0 \uc0ac\uc6a9 \uc804 \ubcf4\uc548\uacfc \uc548\uc815\uc131 \uac80\ud1a0\uac00 \ud544\uc218\uc5d0\uc694. \\n    4. Sharing AMI : \ud2b9\uc815 \uc0ac\uc6a9\uc790 \uac04\uc5d0 \uacf5\uc720\ud558\ub294 \uc774\ubbf8\uc9c0\ub85c, \uc870\uc9c1 \ub0b4 \ud611\uc5c5, \ud2b9\uc815 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ub3fc\uc694.\\n\\n<img src=\\"/img/blog/aws/2025-07-21/img8.png\\" width={600}/>\\n\\n### IP\\n\\npublic IP\ub294 \uc11c\ube0c\ub137\uc5d0 \uc0dd\uc131\ud560 \ub54c \uc790\ub3d9 \ud560\ub2f9 \ub418\ub294 IP\uc5d0\uc694. \ucd5c\uadfc\uc5d0\ub294 IPv4 IP\uac2f\uc218\uac00 \ubd80\uc871\ud574\uc11c \ub3c8\uc744 \ubc1b\uc544\uc694.\\n\\nElastic IP\ub294 \uc601\uad6c\uc801\uc778 IP\ub85c \uc778\uc2a4\ud134\uc2a4 \uc911\uc9c0 \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\uc791\ud574\ub3c4 \uac19\uc740 \uac12\uc744 \uc720\uc9c0\ud574\uc694."},{"id":"/2025/07/20/docker/MYSQL-monioring-setting-title","metadata":{"permalink":"/blog/2025/07/20/docker/MYSQL-monioring-setting-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/docker/2025-07-20-MYSQL-monioring-setting-title.mdx","source":"@site/blog/docker/2025-07-20-MYSQL-monioring-setting-title.mdx","title":"Grafana + Prometheus + MySQL Exporter\ub97c \ud65c\uc6a9\ud55c MySQL \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815\uae30","description":"{/ truncate /}","date":"2025-07-20T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Docker","permalink":"/blog/tags/docker"}],"readingTime":4.2,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Grafana + Prometheus + MySQL Exporter\ub97c \ud65c\uc6a9\ud55c MySQL \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815\uae30","authors":["hyeonlim"],"tags":["TIL","Docker"]},"unlisted":false,"prevItem":{"title":"AWS basic (1)","permalink":"/blog/2025/07/21/aws/AWS-basic-1-title"},"nextItem":{"title":"Terraform\uc73c\ub85c EKS \ubc30\ud3ec \uc2dc \ubc1c\uc0dd\ud558\ub294 \ub9ac\uc18c\uc2a4 \ucda9\ub3cc \ud574\uacb0 \uac00\uc774\ub4dc","permalink":"/blog/2025/07/19/terraform/terraform-errorHandling-title"}},"content":"{/* truncate */}\\n\\n\ucd5c\uadfc\uc5d0 \uc778\ud504\ub77c \uad00\ub828\ub41c \uc218\uc5c5\uc744 \uc9c4\ud589\ud558\uba74\uc11c \ub0b4 \uc2a4\uc2a4\ub85c \ud560 \uc218 \uc788\ub294 \ud504\ub85c\uc81d\ud2b8\uac00 \ubb54\uc9c0, \uc5b4\ub5bb\uac8c \ud558\uba74 \uc624\ud508\uc18c\uc2a4\ub4e4\uc744 \uc798 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc744\uc9c0 \uace0\ubbfc\uc744 \ud574\ubcf4\uc558\uc2b5\ub2c8\ub2e4. \uadf8 \uacb0\uacfc DB\ub97c \ub9cc\ub4e4\uace0 DB\uc5d0 \ub370\uc774\ud130\uac00 \ub9ce\uc774 \ubab0\ub9ac\uac8c \ub418\uc5c8\uc744 \ub54c \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \ud750\ub984\uc744 \ub9cc\ub4e4\uba74 \uc88b\uaca0\ub2e4 \uc0dd\uac01\uc744 \ud588\uc2b5\ub2c8\ub2e4.\\n\\n\ub530\ub77c\uc11c MySQL\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\uae30 \uc704\ud574 Prometheus\uc640 Grafana\ub97c \uc5f0\ub3d9\ud574 \ub300\uc2dc\ubcf4\ub4dc\ub97c \uad6c\uc131\ud558\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\ud588\uc2b5\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 \uadf8 \uc804\uccb4 \uacfc\uc815\uc744 \uc815\ub9ac\ud574\ubd24\uc5b4\uc694.\\n\\n## \ud83c\udfd7\ufe0f \uc804\uccb4 \uc544\ud0a4\ud14d\ucc98\\n\\n\ucd94\ud6c4\uc5d0 \uc880 \ub354 \ubcf5\uc7a1\ud55c \uc544\ud0a4\ud14d\ucc98\ub3c4 \ub9cc\uc838\ubcf4\uba74\uc11c \uacc4\uc18d\ud574\uc11c \ud655\uc7a5\ud574\ub098\uac00\ubcf4\uba74 \uc88b\uc744\uac70 \uac19\uc740 \uc0dd\uac01\uc774\ub4ed\ub2c8\ub2e4!\\n\\n```\\nMySQL \u2190 mysqld_exporter \u2192 Prometheus \u2192 Grafana\\n  \u2191\\nphpMyAdmin (\uad00\ub9ac\uc6a9)\\n```\\n\\n## \ud83d\udcc1 \ud504\ub85c\uc81d\ud2b8 \uad6c\uc870\\n\\n```\\ngrafana/\\n\u251c\u2500\u2500 provisioning/\\n\u2502   \u251c\u2500\u2500 dashboards/\\n\u2502   \u2502   \u2514\u2500\u2500 dashboard.yml\\n\u2502   \u2514\u2500\u2500 datasources/\\n\u2502       \u2514\u2500\u2500 datasource.yml\\n\u251c\u2500\u2500 mysql/\\n\u2502   \u2514\u2500\u2500 mysql_data/\\n\u251c\u2500\u2500 mysqld-exporter/\\n\u2502   \u2514\u2500\u2500 my.cnf\\n\u251c\u2500\u2500 prometheus/\\n\u2502   \u2514\u2500\u2500 prometheus.yml\\n\u251c\u2500\u2500 .env\\n\u2514\u2500\u2500 docker-compose.yml\\n```\\n\\n## \ud83d\udc33 Docker Compose \uc124\uc815\\n\\n\uc804\uccb4 \uc2a4\ud0dd\uc744 \ud55c \ubc88\uc5d0 \uad00\ub9ac\ud558\uae30 \uc704\ud574 \ub2e4\uc74c\uacfc \uac19\uc774 docker-compose.yml\uc744 \uad6c\uc131\ud588\uc5b4\uc694.\\n\\n\ubcfc\ub968 \uc124\uc815\uc2dc \ud30c\uc77c \uc704\uce58 \uc2e4\uc218\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c \ud558\ub098\uc758 \ud30c\uc77c \ub0b4\uc5d0\uc11c \uad00\ub828\ub41c \ud30c\uc77c\ub4e4\uc744 \ubaa8\ub450 \uad00\ub9ac\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4.(\uc774\ub807\uac8c \ud558\ub2c8\uae50 \ud655\uc2e4\ud788 \uc0c1\ub300\uacbd\ub85c\ub85c \uad00\ub9ac\ud558\uae30 \uc27d\ub2e4\ub294 \uc810\uc774 \uc88b\uc558\uc2b5\ub2c8\ub2e4.) \uadf8\ub9ac\uace0 ${}\ub85c \ud45c\uc2dc\ud55c \ub0b4\uc6a9\uc5d0 \ub300\ud574\uc11c\ub294 \uc911\uc694\ud30c\uc77c\uc774\uae30 \ub54c\ubb38\uc5d0 .env\ub85c \ud30c\uc77c\uc744 \uc124\uc815\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4. .env \ud30c\uc77c\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc740 \uc544\ub798\uc5d0 \ubcf4\uba74 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n```yaml\\nversion: \\"3.8\\"\\n\\nservices:\\n  mysql:\\n    image: mysql:8.0\\n    container_name: mysql\\n    restart: always\\n    environment:\\n      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}\\n      MYSQL_DATABASE: ${MYSQL_DATABASE}\\n    volumes:\\n      - ./mysql/mysql_data:/var/lib/mysql\\n    ports:\\n      - \\"3306:3306\\"\\n\\n  phpmyadmin:\\n    image: phpmyadmin/phpmyadmin\\n    container_name: phpmyadmin\\n    platform: linux/amd64\\n    ports:\\n      - \\"8080:80\\"\\n    environment:\\n      PMA_HOST: mysql\\n      PMA_PORT: 3306\\n    depends_on:\\n      - mysql\\n\\n  mysqld-exporter:\\n    image: prom/mysqld-exporter\\n    container_name: mysqld_exporter\\n    volumes:\\n      - ./mysqld-exporter/my.cnf:/etc/mysql/my.cnf:ro\\n    depends_on:\\n      - mysql\\n    ports:\\n      - \\"9104:9104\\"\\n    command: [\\"--config.my-cnf=/etc/mysql/my.cnf\\"]\\n\\n  prometheus:\\n    image: prom/prometheus\\n    container_name: prometheus\\n    volumes:\\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\\n    ports:\\n      - \\"9090:9090\\"\\n    depends_on:\\n      - mysqld-exporter\\n\\n  grafana:\\n    image: grafana/grafana\\n    container_name: grafana\\n    environment:\\n      GF_SECURITY_ADMIN_USER: ${GF_SECURITY_ADMIN_USER}\\n      GF_SECURITY_ADMIN_PASSWORD: ${GF_SECURITY_ADMIN_PASSWORD}\\n    volumes:\\n      - ./grafana/provisioning/dashboards:/etc/grafana/provisioning/dashboards\\n      - ./grafana/provisioning/datasources:/etc/grafana/provisioning/datasources\\n    ports:\\n      - \\"3000:3000\\"\\n    depends_on:\\n      - prometheus\\n\\nvolumes:\\n  mysql_data:\\n```\\n\\n.env \uc124\uc815 \ud30c\uc77c\uc774\uc5d0\uc694. MYSQL\uc5d0\uc11c root\ub85c \uc811\uadfc\ud560 \ub54c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 password\uc640 \uc0ac\uc6a9\ud560 database\ub97c \uc9c0\uc815\uc744 \ud574\uc90d\ub2c8\ub2e4. Grafana\uc640 \uac19\uc740 \uacbd\uc6b0\uc5d0\ub294 \ube44\ubc00\ubc88\ud638\ub97c \uc124\uc815\ud574\uc8fc\uc9c0 \uc54a\uc73c\uba74 \uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\uac00 admin\uc73c\ub85c \uc124\uc815\uc774 \ub418\uc5b4\uc788\uc5b4\uc694. \uadf8\ub9ac\uace0 \ube44\ubc00\ubc88\ud638\ub97c \ubcc0\uacbd\ud558\ub77c\ub294 \uba54\uc138\uc9c0\uac00 \ub098\uc624\ub294\ub370 docker \ucee8\ud14c\uc774\ub108\ub97c \ub0b4\ub9ac\uace0 \ub2e4\uc2dc \uc2e4\ud589\uc744 \ud558\uac8c \ub418\uba74 \uacc4\uc18d\ud574\uc11c \ube44\ubc00\ubc88\ud638\ub97c \uc124\uc815\ud558\ub77c\ub294 \ucc3d\uc774 \ub098\uc640\uc11c \uc124\uc815\ud574\uc8fc\ub294\uac8c \ud3b8\ud588\uc2b5\ub2c8\ub2e4.\\n\\n```.env\\nMYSQL_ROOT_PASSWORD=\\nMYSQL_DATABASE=\\n\\nGF_SECURITY_ADMIN_USER=\\nGF_SECURITY_ADMIN_PASSWORD=\\n```\\n\\n## \ud83d\udd27 \uc8fc\uc694 \uc124\uc815 \ud30c\uc77c\ub4e4\\n\\n### 1. mysqld_exporter \uc124\uc815 (my.cnf)\\n\\n\uc5ec\uae30\uc11c \uc911\uc694\ud55c \uc810\uc740 user\uc640 password\ub294 \ub0b4\uac00 \uc811\uadfc\ud558\uace0\uc790\ud558\ub294 mysql\uc758 \ub0b4\uc6a9\uc774\uc5b4\uc57c \ub3fc\uc694. \uc989 user\uc5d0 exporter\uac00 \uc124\uc815\uc774 \ub418\uc5b4 \uc788\uc9c0 \uc54a\uc73c\uba74 access denied\uac00 \uc124\uc815\uc774 \ub420 \uc218 \uc788\uc5b4\uc694. \uc774\ub97c \uc720\uc758\ud574\uc11c \uc791\uc131\ud574\uc8fc\uc5b4\uc57c \ud574\uc694. \uc544\ub798 \ub0b4\uc6a9\uc5d0\uc11c \uc774\uc640 \uad00\ub828\ub41c \ubb38\uc81c \ud574\uacb0\uc744 \uc801\uc5b4\ub450\uc5c8\uc2b5\ub2c8\ub2e4.\\n\\n```ini\\n[client]\\nuser=exporter\\npassword=exporter_password\\n```\\n\\n### 2. Prometheus \uc124\uc815 (prometheus.yml)\\n\\nPrometheus\uac00 \ud0c0\uac9f\uc73c\ub85c \ud558\ub294 mysqld-expoert\ub97c \uc124\uc815\uc744 \ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.\\n\\n```yaml\\nglobal:\\n  scrape_interval: 15s\\n\\nscrape_configs:\\n  - job_name: \\"mysqld-exporter\\"\\n    static_configs:\\n      - targets: [\\"mysqld-exporter:9104\\"]\\n```\\n\\n### 3. Grafana \ub370\uc774\ud130\uc18c\uc2a4 \uc790\ub3d9 \uc124\uc815 (datasource.yml)\\n\\nGrafana\ub97c \ucc98\uc74c \uc2e4\ud589\uc744 \ud558\uac8c \ub418\uba74 data source\ub97c \uc815\ud558\ub294 \uacfc\uc815\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc744 \ud558\uc9c0 \uc54a\uc73c\uba74 \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \ub2f9\uc5f0\ud788 \ub300\uc2dc\ubcf4\ub4dc\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc9c0\uc9c0 \uc54a\uc544\uc694. \uc544\ub798 \ud30c\uc77c\uc744 \uc124\uc815\uc744 \ud574\uc8fc\uba74 Grafana\uac00 \uc2e4\ud589\ud560 \ub54c \uc790\ub3d9\uc73c\ub85c Prometheus\ub97c \uc124\uc815\ud574\uc90d\ub2c8\ub2e4.\\n\\n```yaml\\napiVersion: 1\\n\\ndatasources:\\n  - name: Prometheus\\n    type: prometheus\\n    access: proxy\\n    url: http://prometheus:9090\\n    isDefault: true\\n```\\n\\n## \ud83d\udea8 \uc8fc\uc694 \ubb38\uc81c\ub4e4\uacfc \ud574\uacb0\ucc45\\n\\n### 1. mysqld_exporter `access denied` \ubb38\uc81c \ud574\uacb0\\n\\n**\ubb38\uc81c**: mysqld_exporter \uc2e4\ud589 \uc2dc \ub2e4\uc74c \uc624\ub958 \ubc1c\uc0dd\\n\\n```\\n[ERROR] Access denied for user \'exporter\'@\'localhost\'\\n```\\n\\n**\ud574\uacb0\ucc45**:\\n\\nexporter\uac00 \uc811\uadfc\ud560 user\uc640 \ud574\ub2f9 user\uc758 password\ub97c my.cnf\uc5d0 \uc798 \uc124\uc815 \ud574\uc8fc\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. my.cnf\uc5d0 exporter\ub97c \uc124\uc815\uc744 \ud574\ub450\uc5c8\ub294\ub370 mysql user\uc5d0 exporter\uac00 \uc5c6\ub2e4\uba74 \ub2f9\uc5f0\ud788 \uc5d0\ub7ec\uac00 \ub098\uc694.\\n\\n### 2. Grafana\uc5d0\uc11c Prometheus \uc5f0\uacb0 \uc2e4\ud328\\n\\n**\ubb38\uc81c**: Grafana\uc5d0\uc11c `http://localhost:9090`\uc73c\ub85c \uc124\uc815\ud588\ub354\ub2c8 \uc5f0\uacb0 \uc2e4\ud328\\n\\n**\ud574\uacb0\ucc45**: \ub3c4\ucee4 \ucee8\ud14c\uc774\ub108 \ud658\uacbd\uc5d0\uc11c\ub294 \uc11c\ube44\uc2a4 \uc774\ub984\uc73c\ub85c \uc811\uadfc\ud558\ub294 \uac83\uc774 \ud575\uc2ec\uc774\uc5c8\uc2b5\ub2c8\ub2e4.\\n\\n```\\n\u274c http://localhost:9090\\n\u2705 http://prometheus:9090\\n```\\n\\n**\uc774\uc720**: \ub3c4\ucee4 \ucee8\ud14c\uc774\ub108\uc5d0\uc11c `localhost`\ub294 \uc790\uae30 \uc790\uc2e0(\ucee8\ud14c\uc774\ub108 \ub0b4\ubd80)\uc744 \uc758\ubbf8\ud558\ubbc0\ub85c, \uac19\uc740 \ub124\ud2b8\uc6cc\ud06c \ub0b4\uc758 \ub2e4\ub978 \ucee8\ud14c\uc774\ub108\uc5d0 \uc811\uadfc\ud560 \ub54c\ub294 \uc11c\ube44\uc2a4\uba85\uc744 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4!\\n\\n### 3. Grafana \uc124\uc815 \uc790\ub3d9\ud654\\n\\n2\ubc88\uacfc \uac19\uc774 \uc218\ub3d9 \uc124\uc815\uc73c\ub85c \uc124\uc815\ud558\ub294 \uacfc\uc815\uc5d0 \uc788\uc5b4\uc11c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218\ub3c4 \uc788\uace0, \ucee8\ud14c\uc774\ub108\uac00 down \ub41c \uc0c1\ud0dc\uc5d0\uc11c \ub2e4\uc2dc \uc2e4\ud589\uc744 \ud55c\ub2e4\uba74 \ub9e4\ubc88 \ud574\uc8fc\ub294 \uacfc\uc815\uc774 \uadc0\ucc2e\uc544\uc9c8 \uc218 \uc788\uc5b4 data source\ub97c \uc790\ub3d9\ud654 \ud574\uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n`provisioning` \ub514\ub809\ud130\ub9ac\ub97c \ud65c\uc6a9\ud55c \uc790\ub3d9\ud654 \uad6c\ud604:\\n\\n```\\n./grafana/provisioning/\\n\u251c\u2500\u2500 dashboards/     # \ub300\uc2dc\ubcf4\ub4dc \uc790\ub3d9 \ub85c\ub529\\n\u2514\u2500\u2500 datasources/    # \ub370\uc774\ud130\uc18c\uc2a4 \uc790\ub3d9 \uc124\uc815\\n```\\n\\n\uc774\ub807\uac8c \ud558\uba74 \ucee8\ud14c\uc774\ub108 \ucd08\uae30 \uc2e4\ud589 \uc2dc \ubaa8\ub4e0 \uc124\uc815\uc774 \uc790\ub3d9\uc73c\ub85c \uc801\uc6a9\ub428\\n\\n### 4. phpMyAdmin \ucd94\uac00\ub85c \uad00\ub9ac \ud3b8\uc758\uc131 \ud5a5\uc0c1\\n\\n\ud130\ubbf8\ub110 \uae30\ubc18 MySQL \uad00\ub9ac\uc758 \ubd88\ud3b8\ud568\uc744 \ud574\uacb0\ud558\uae30 \uc704\ud574 phpMyAdmin \ucd94\uac00\ud588\uc5b4\uc694.:\\n\\n- \ud3ec\ud2b8: 8080 (\ubcf4\ud1b5 \uc798 \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0 docker ps -a \ub97c \ud65c\uc6a9\ud574\uc11c \ud574\ub2f9 \ud3ec\ud2b8\ub97c \uc7a1\uace0 \uc788\ub294 \ucee8\ud14c\uc774\ub108\uac00 \uc788\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc5b4\uc57c \ud574\uc694.)\\n- \uc2dc\uac01\uc801 \ud14c\uc774\ube14 \uad00\ub9ac\\n- \uc0ac\uc6a9\uc790 \uad8c\ud55c \uc124\uc815 \uac04\ud3b8\ud654\\n\\n### 5. Grafana MySQL Overview Dashboard \ub370\uc774\ud130 \ud45c\uc2dc \ubb38\uc81c\\n\\n**\ubb38\uc81c**: \ubaa8\ub4e0 \ud328\ub110\uc774 `No data` \ud45c\uc2dc\\n\\n**\uc6d0\uc778**: \ud15c\ud50c\ub9bf \ubcc0\uc218\uc640 \ucffc\ub9ac \uac04 \uc5f0\ub3d9 \ubb38\uc81c\uac00 \uc788\uc5c8\uc5b4\uc694.\\n\\n- `$host` \ubcc0\uc218 \uc124\uc815 \uc624\ub958\uac00 \uc788\uc5b4 prometheus\ub85c \ubd80\ud130 \ub370\uc774\ud130\ub97c \uac00\uc9c0\uace0 \uc624\uc9c0 \ubabb\ud574\uc11c No data\uac00 \ubcf4\uc600\uc5b4\uc694.\\n\\n**\ud574\uacb0\ucc45**:\\n\\n1. **$host \ubcc0\uc218 \uc7ac\uc124\uc815**:\\n\\n   - Query type: `Label values`\\n   - Metric: `mysql_global_status_threads_connected`\\n   - Label: `instance`\\n\\n2. **\ubcc0\uc218 \uc0c8\ub85c\uace0\uce68 \uc124\uc815**:\\n   - `On dashboard load`\ub85c \uc124\uc815\\n   - \ub610\ub294 \ud328\ub110\uc5d0\uc11c \uc218\ub3d9 `Run query` \uc2e4\ud589\\n\\n## \ud83d\udcca \ucd5c\uc885 \uad6c\uc131 \uacb0\uacfc\\n\\n[\uc804\uccb4 \ucf54\ub4dc \ubcf4\ub7ec \uac08\ub798\uc694](https://github.com/indianaPoly/mysql-monitoring)\\n\\n\uc124\uc815 \uc644\ub8cc \ud6c4 Grafana \ub300\uc2dc\ubcf4\ub4dc\uc5d0\uc11c \uc2e4\uc2dc\uac04\uc73c\ub85c \ud655\uc778 \uac00\ub2a5\ud55c \uc9c0\ud45c\ub4e4\uc740 \uc544\ub798\uc640 \uac19\uc544\uc694:\\n\\n- **MySQL Uptime**: \uc11c\ubc84 \uac00\ub3d9 \uc2dc\uac04\\n- **Threads Connected/Running**: \uc5f0\uacb0\ub41c \uc2a4\ub808\ub4dc \uc218\\n- **QPS (Queries per Second)**: \ucd08\ub2f9 \ucffc\ub9ac \uc218\\n- **InnoDB Buffer Pool**: \ubc84\ud37c \ud480 \uc0ac\uc6a9\ub7c9\\n- **Connections**: \uc5f0\uacb0 \uc0c1\ud0dc\\n- **Table Locks**: \ud14c\uc774\ube14 \uc7a0\uae08 \ud604\ud669\\n- **Thread Cache**: \uc2a4\ub808\ub4dc \uce90\uc2dc \uc0c1\ud0dc\\n\\n\ub300\uc2dc\ubcf4\ub4dc \uc0c8\ub85c\uace0\uce68 \uac04\uaca9\uc744 `5\ucd08`\ub85c \uc124\uc815\ud558\uc5ec \uc2e4\uc2dc\uac04\uc5d0 \uac00\uae4c\uc6b4 \ubaa8\ub2c8\ud130\ub9c1 \ud658\uacbd \uad6c\ucd95\ud560 \uc218 \uc788\uc5c8\uc2b5\ub2c8\ub2e4! \uc544\ub798\ub294 \uad6c\uc131 \ud6c4 \uacb0\uacfc\ubb3c\uc785\ub2c8\ub2e4.\\n\\n<img src=\\"/img/blog/docker/2025-07-20/img1.png\\" width={600} />"},{"id":"/2025/07/19/terraform/terraform-errorHandling-title","metadata":{"permalink":"/blog/2025/07/19/terraform/terraform-errorHandling-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/terraform/2025-07-19-terraform-errorHandling-title.mdx","source":"@site/blog/terraform/2025-07-19-terraform-errorHandling-title.mdx","title":"Terraform\uc73c\ub85c EKS \ubc30\ud3ec \uc2dc \ubc1c\uc0dd\ud558\ub294 \ub9ac\uc18c\uc2a4 \ucda9\ub3cc \ud574\uacb0 \uac00\uc774\ub4dc","description":"{/ truncate /}","date":"2025-07-19T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Terraform","permalink":"/blog/tags/terraform"}],"readingTime":5.51,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Terraform\uc73c\ub85c EKS \ubc30\ud3ec \uc2dc \ubc1c\uc0dd\ud558\ub294 \ub9ac\uc18c\uc2a4 \ucda9\ub3cc \ud574\uacb0 \uac00\uc774\ub4dc","authors":["hyeonlim"],"tags":["TIL","Terraform"]},"unlisted":false,"prevItem":{"title":"Grafana + Prometheus + MySQL Exporter\ub97c \ud65c\uc6a9\ud55c MySQL \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815\uae30","permalink":"/blog/2025/07/20/docker/MYSQL-monioring-setting-title"},"nextItem":{"title":"Kubernetes Basic(3)","permalink":"/blog/2025/07/17/kubernetes/kubernetes-basic-3-title"}},"content":"{/* truncate */}\\n\\n## \ud83d\udea8 \ubb38\uc81c \uc0c1\ud669\\n\\nTerraform\uc73c\ub85c EKS \ud074\ub7ec\uc2a4\ud130\ub97c \ubc30\ud3ec\ud558\ub358 \uc911 \ub2e4\uc74c\uacfc \uac19\uc740 \uc624\ub958\ub4e4\uc774 \uc5f0\uc18d\uc73c\ub85c \ubc1c\uc0dd\ud588\uc5b4\uc694:\\n\\n```bash\\nError: creating EC2 EIP: operation error EC2: AllocateAddress,\\nhttps response error StatusCode: 400, RequestID: <requiest id>,\\napi error AddressLimitExceeded: The maximum number of addresses has been reached.\\n\\nError: creating KMS Alias (alias/eks/cwave): operation error KMS: CreateAlias,\\nhttps response error StatusCode: 400, RequestID: <requiest id>,\\nAlreadyExistsException: An alias with the name arn:aws:kms:ap-northeast-2:368677659737:alias/eks/cwave already exists\\n\\nError: creating EKS Cluster (cwave): operation error EKS: CreateCluster,\\nhttps response error StatusCode: 409, RequestID: <requiest id>,\\nResourceInUseException: Cluster already exists with name: cwave\\n\\nError: creating IAM Role (efs-csi): operation error IAM: CreateRole,\\nhttps response error StatusCode: 409, RequestID: <requiest id>,\\nEntityAlreadyExists: Role with name efs-csi already exists.\\n```\\n\\n## \ud83d\udd0d \ubb38\uc81c \uc6d0\uc778 \ubd84\uc11d\\n\\n### \uadfc\ubcf8 \uc6d0\uc778: \uac1c\ubc1c \ud658\uacbd \ud63c\ub3d9\uc73c\ub85c \uc778\ud55c \ub9ac\uc18c\uc2a4 \uc911\ubcf5\\n\\n**\uc2e4\uc81c \ubc1c\uc0dd \uacfc\uc815:**\\n\\n1. \uac1c\ubc1c \ud658\uacbd\uc5d0 `local`\uacfc `aws` \ub450 \uac1c\uc758 \ud3f4\ub354\uac00 \uc874\uc7ac\\n2. \uc9c0\uae08\uae4c\uc9c0 local \ud658\uacbd\uacfc aws \ud658\uacbd\uc744 \ucc29\uac01\ud574\uc11c \uac1c\ubc1c\uc744 \uc9c4\ud589\\n3. local \ud658\uacbd\uc5d0\uc11c \uc0dd\uc131\ud55c Terraform \ub9ac\uc18c\uc2a4\ub97c \uc815\ud655\ud558\uac8c \uc0ad\uc81c\ud558\uc9c0 \uc54a\uc74c\\n4. aws \ud3f4\ub354\ub85c \uc774\ub3d9\ud574\uc11c \ub2e4\uc2dc `terraform apply`\ub97c \uc2dc\ub3c4\\n5. **\uacb0\uacfc**: \ub3d9\uc77c\ud55c \ub9ac\uc18c\uc2a4\uba85\uc73c\ub85c \uc778\ud55c \uc911\ubcf5 \uc0dd\uc131 \uc2dc\ub3c4\ub85c \ucda9\ub3cc \ubc1c\uc0dd\ud588\uc5b4\uc694\\n\\n**\ud3f4\ub354 \uad6c\uc870 \uc608\uc2dc:**\\n\\n```\\nproject/\\n\u251c\u2500\u2500 local/          # \ub85c\uceec \uac1c\ubc1c\uc6a9 (\uae30\uc874 \ub9ac\uc18c\uc2a4 \uc794\uc874)\\n\u2502   \u251c\u2500\u2500 main.tf\\n\u2502   \u2514\u2500\u2500 terraform.tfstate\\n\u2514\u2500\u2500 aws/            # AWS \ud658\uacbd\uc6a9 (\uc0c8\ub85c \ubc30\ud3ec \uc2dc\ub3c4)\\n    \u251c\u2500\u2500 main.tf\\n    \u2514\u2500\u2500 terraform.tfstate\\n```\\n\\n### \uc138\ubd80 \uc6d0\uc778\ub4e4\\n\\n#### 1. EIP \ud55c\ub3c4 \ucd08\uacfc \ubb38\uc81c\\n\\nAWS \uacc4\uc815\ub2f9 EIP(Elastic IP) \ud560\ub2f9 \ud55c\ub3c4\uac00 \uc788\uace0 \uc81c\uac00 \ud655\uc778\ud588\uc744 \ub54c\ub294 5\uac1c\uac00 \ud560\ub2f9 \ud55c\ub3c4\uac00 \uc788\uc5c8\uc5b4\uc694.\\n\\n```bash\\n# \ud604\uc7ac EIP \uc0ac\uc6a9\ub7c9 \ud655\uc778\\naws ec2 describe-addresses --region ap-northeast-2\\n```\\n\\n#### 2. \ub9ac\uc18c\uc2a4 \uc911\ubcf5 \ubb38\uc81c\\n\\nEKS \ud074\ub7ec\uc2a4\ud130\ub97c \uc0ad\uc81c\ud588\uc9c0\ub9cc \uad00\ub828 \ub9ac\uc18c\uc2a4\ub4e4(IAM \uc5ed\ud560, KMS \ubcc4\uce6d \ub4f1)\uc740 \uc790\ub3d9\uc73c\ub85c \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc558\uc5b4\uc694.\\n\\n**\uc65c \uc774\ub7f0 \uc77c\uc774 \ubc1c\uc0dd\ud558\ub294\uac00?**\\n\\n- EKS \ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c \uc2dc **IAM \uc5ed\ud560\uc740 \uc790\ub3d9\uc73c\ub85c \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc544\uc694.**\\n- KMS \ubcc4\uce6d\ub3c4 \ub9c8\ucc2c\uac00\uc9c0\ub85c \uc218\ub3d9 \uc0ad\uc81c\uac00 \ud544\uc694\ud574\uc694.\\n\\n#### 3. Terraform \uc0c1\ud0dc \ud30c\uc77c \ubd84\ub9ac\ub85c \uc778\ud55c \ubb38\uc81c\\n\\n- `local/terraform.tfstate`\uc640 `aws/terraform.tfstate`\uac00 \uac01\uac01 \uad00\ub9ac\ub3fc\uc694.\\n- \uc2e4\uc81c AWS \ub9ac\uc18c\uc2a4\ub294 \ub3d9\uc77c\ud558\uc9c0\ub9cc Terraform \uc0c1\ud0dc\ub294 \ubd84\ub9ac\ub418\uc5b4 \uc788\uc5b4\uc694.\\n- \uc0c8\ub85c\uc6b4 \ud3f4\ub354\uc5d0\uc11c \ubc30\ud3ec \uc2dc \uae30\uc874 \ub9ac\uc18c\uc2a4\ub97c \uc778\uc2dd\ud558\uc9c0 \ubabb\ud558\ub294 \ubb38\uc81c\uac00 \uc788\ub294 \uac83\uc744 \ud30c\uc545\ud588\uc5b4\uc694.\\n\\n## \ud83d\udee0\ufe0f \ud574\uacb0 \uacfc\uc815\\n\\n### 1\ub2e8\uacc4: EIP \uc0ac\uc6a9\ub7c9 \ud655\uc778 \ubc0f \ubd84\uc11d\\n\\n```bash\\n# EIP \ubaa9\ub85d\uacfc \uc5f0\uacb0 \uc0c1\ud0dc \ud655\uc778\\naws ec2 describe-addresses --region ap-northeast-2 --output table\\n\\n# \uac01 EIP\uac00 \ubb34\uc5c7\uc5d0 \uc5f0\uacb0\ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\\naws ec2 describe-network-interfaces --region ap-northeast-2 \\\\\\n  --network-interface-ids eni-xxxx eni-yyyy \\\\\\n  --query \'NetworkInterfaces[*].{NetworkInterfaceId:NetworkInterfaceId,Description:Description,Status:Status}\'\\n```\\n\\n**\uacb0\uacfc \ubd84\uc11d:**\\n\\n```json\\n[\\n  {\\n    \\"NetworkInterfaceId\\": \\"eni-id\\",\\n    \\"Description\\": \\"Interface for NAT Gateway nat-id\\",\\n    \\"Status\\": \\"in-use\\"\\n  }\\n  // ... 5\uac1c\uc758 EIP\uac00 \ubaa8\ub450 NAT Gateway\uc5d0 \uc5f0\uacb0\ub428\\n]\\n```\\n\\n### 2\ub2e8\uacc4: Terraform \uc0c1\ud0dc \ud655\uc778\\n\\n```bash\\n# \ud604\uc7ac Terraform\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 EIP \ud655\uc778\\nterraform plan | grep eip\\n```\\n\\n**\uacb0\uacfc:**\\n\\n```\\naws_eip.nat[\\"c\\"]: Refreshing state... [id=eipalloc-id]\\naws_eip.nat[\\"a\\"]: Refreshing state... [id=eipalloc-id]\\n# aws_eip.nat[\\"b\\"] will be created <- \uc774 \ubd80\ubd84\uc774 \ubb38\uc81c!\\n```\\n\\n**\ubc1c\uacac\ud55c \ubb38\uc81c\uc810:**\\n\\n- `nat[\\"a\\"]`\uc640 `nat[\\"c\\"]`\ub294 \uc774\ubbf8 Terraform \uc0c1\ud0dc\uc5d0 \uc874\uc7ac\ud574\uc694.\\n- `nat[\\"b\\"]`\ub9cc \uc0c8\ub85c \uc0dd\uc131\ud558\ub824\uace0 \ud574\uc11c EIP \ud55c\ub3c4 \ucd08\uacfc \ubc1c\uc0dd\uac00 \ubc1c\uc0dd\ud588\uc5b4\uc694.\\n\\n### 3\ub2e8\uacc4: EIP \ubb38\uc81c \ud574\uacb0\\n\\n**\ubc29\ubc95 1: \uae30\uc874 EIP \uc7ac\uc0ac\uc6a9**\\n\\n```bash\\n# \uc0ac\uc6a9 \uac00\ub2a5\ud55c EIP \ud655\uc778 (a, c\uac00 \uc544\ub2cc \uac83\ub4e4)\\n# eipalloc-id\\n# eipalloc-id\\n# eipalloc-id\\n\\n# \ud2b9\uc815 EIP\uac00 \uc5b4\ub5a4 NAT Gateway\uc5d0 \uc5f0\uacb0\ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\\naws ec2 describe-nat-gateways --region ap-northeast-2 \\\\\\n  --query \'NatGateways[?NatGatewayAddresses[0].AllocationId==`eipalloc-id`].{NatGatewayId:NatGatewayId,State:State}\'\\n```\\n\\n**\uacb0\uacfc:**\\n\\n```json\\n[\\n  {\\n    \\"NatGatewayId\\": \\"nat-id\\",\\n    \\"State\\": \\"deleted\\" // \uc774\ubbf8 \uc0ad\uc81c\ub428\\n  },\\n  {\\n    \\"NatGatewayId\\": \\"nat-id\\",\\n    \\"State\\": \\"available\\" // \uc0ac\uc6a9 \uc911\\n  }\\n]\\n```\\n\\n**\ud574\uacb0 \ub2e8\uacc4:**\\n\\n```bash\\n# 1. \uc0ac\uc6a9 \uc911\uc778 NAT Gateway \uc0ad\uc81c\\naws ec2 delete-nat-gateway --nat-gateway-id nat-id --region ap-northeast-2\\n\\n# 2. \uc0ad\uc81c \uc644\ub8cc \ub300\uae30\\naws ec2 describe-nat-gateways --region ap-northeast-2 --nat-gateway-ids nat-id --query \'NatGateways[0].State\'\\n\\n# 3. \ud574\uc81c\ub41c EIP\ub97c Terraform\uc73c\ub85c \uac00\uc838\uc624\uae30\\nterraform import \'aws_eip.nat[\\"b\\"]\' eipalloc-id\\n```\\n\\n### 4\ub2e8\uacc4: \uae30\uc874 \ub9ac\uc18c\uc2a4 Import\\n\\n```bash\\n# EKS \ud074\ub7ec\uc2a4\ud130 \uac00\uc838\uc624\uae30\\nterraform import module.eks.aws_eks_cluster.this[0] cwave\\n\\n# KMS \ubcc4\uce6d \uac00\uc838\uc624\uae30 (\ub530\uc634\ud45c \uc8fc\uc758!)\\nterraform import \'module.eks.module.kms.aws_kms_alias.this[\\"cluster\\"]\' alias/eks/cwave\\n\\n# IAM \uc5ed\ud560\ub4e4 \uac00\uc838\uc624\uae30\\nterraform import module.attach_efs_csi_role.aws_iam_role.this[0] efs-csi\\nterraform import module.ebs_csi_irsa.aws_iam_role.this[0] cwave-ebs-csi-controller\\nterraform import module.lb_controller_role.aws_iam_role.this[0] eks-aws-lb-controller-role\\n```\\n\\n**Import \uc2dc \uc8fc\uc758\uc0ac\ud56d:**\\n\\n- \uc778\ub371\uc2a4\uac00 \uc788\ub294 \ub9ac\uc18c\uc2a4\ub294 \ub530\uc634\ud45c\ub85c \uac10\uc2f8\uc8fc\ub294 \uac83\uc774 \uc911\uc694\ud574\uc694.\\n- \uc815\ud655\ud55c \ub9ac\uc18c\uc2a4 \uc774\ub984\uacfc ID \ud655\uc778 \ud544\uc218\uc785\ub2c8\ub2e4.\\n\\n### 5\ub2e8\uacc4: Terraform \uc801\uc6a9\\n\\n```bash\\n# \uacc4\ud68d \ud655\uc778\\nterraform plan\\n\\n# \ubb38\uc81c\uc5c6\uc73c\uba74 \uc801\uc6a9\\nterraform apply\\n```\\n\\n## \ud83d\udd27 kubectl \uc5f0\uacb0 \ubb38\uc81c \ud574\uacb0\\n\\n\ubc30\ud3ec \uc644\ub8cc \ud6c4 kubectl \uba85\ub839\uc5b4 \uc2e4\ud589 \uc2dc DNS \uc624\ub958 \ubc1c\uc0dd:\\n\\n```bash\\nkubectl get po\\n# Error: dial tcp: lookup .gr7.ap-northeast-2.eks.amazonaws.com on 127.0.0.11:53: no such host\\n```\\n\\n**\ud574\uacb0 \ubc29\ubc95:**\\n\\n\uc5c5\ub370\uc774\ud130\ub97c \uc0c8\ub85c \ud574\uc90c\uc73c\ub85c\uc368 \uae30\uc874 context\ub97c switch\ub97c \uc9c4\ud589\ud574\uc8fc\uba74 \uc815\uc0c1\uc801\uc73c\ub85c \ub3d9\uc791\ud558\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n```bash\\n# kubeconfig \uc5c5\ub370\uc774\ud2b8\\naws eks update-kubeconfig --region ap-northeast-2 --name cwave\\n\\n# \uc5f0\uacb0 \ud14c\uc2a4\ud2b8\\nkubectl get nodes\\nkubectl get pods -A\\n```\\n\\n## \ud83d\udcdd \uad50\ud6c8 \ubc0f \uc608\ubc29 \ubc29\ubc95\\n\\n### 1. \uac1c\ubc1c \ud658\uacbd \uad00\ub9ac \uc6d0\uce59\\n\\n- **\ud658\uacbd\ubcc4 \ud3f4\ub354 \ubd84\ub9ac \uc2dc \uba85\ud655\ud55c \ub124\uc774\ubc0d \uc0ac\uc6a9**\\n- **\ud604\uc7ac \uc791\uc5c5 \uc911\uc778 \ud658\uacbd\uc744 \ud56d\uc0c1 \ud655\uc778**\\n- **\ud658\uacbd \uc804\ud658 \uc2dc \uae30\uc874 \ub9ac\uc18c\uc2a4 \uc815\ub9ac \ud6c4 \uc9c4\ud589**\\n\\n```bash\\n# \ud658\uacbd \ud655\uc778 \uc2b5\uad00\ud654\\npwd                    # \ud604\uc7ac \uc791\uc5c5 \ub514\ub809\ud130\ub9ac \ud655\uc778\\nterraform workspace show  # Terraform \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \ud655\uc778\\naws sts get-caller-identity  # \ud604\uc7ac AWS \uacc4\uc815/\uc5ed\ud560 \ud655\uc778\\n```\\n\\n### 2. \uc548\uc804\ud55c \ud658\uacbd \uc804\ud658 \uc808\ucc28\\n\\n```bash\\n# \uae30\uc874 \ud658\uacbd \uc815\ub9ac\\nterraform destroy -auto-approve\\n\\n# \uc0c1\ud0dc \ud30c\uc77c \ubc31\uc5c5\\ncp terraform.tfstate terraform.tfstate.backup\\n\\n# \uc0c8 \ud658\uacbd\uc73c\ub85c \uc774\ub3d9\\ncd ../aws\\n\\n# \ub9ac\uc18c\uc2a4 \ud655\uc778 \ud6c4 \ubc30\ud3ec\\nterraform plan\\nterraform apply\\n```\\n\\n### 3. \ub9ac\uc18c\uc2a4 \uc815\ub9ac \uc2dc \uc8fc\uc758\uc810\\n\\n- EKS \ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c \uc2dc IAM \uc5ed\ud560, KMS \ubcc4\uce6d \ub4f1\uc740 \uc218\ub3d9\uc73c\ub85c \uc0ad\uc81c\ud574\uc8fc\uc5b4\uc57c \ud574\uc694.\\n- \ub9cc\uc57d \uc0ad\uc81c\ud574\uc8fc\uc5b4\uc57c \ud558\ub294\uac8c \ub9ce\ub2e4\uba74 Terraform import\ub97c \ud65c\uc6a9\ud558\uc5ec \uae30\uc874 \ub9ac\uc18c\uc2a4 \uc7ac\uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n### 4. EIP \uad00\ub9ac\\n\\n- AWS \uacc4\uc815\uc758 EIP \ud55c\ub3c4\ub97c \ubbf8\ub9ac \ud655\uc778\ud558\ub294 \uac83\uc774 \uc911\uc694\ud574\uc694.\\n- \ubd88\ud544\uc694\ud55c EIP\ub294 \uc815\uae30\uc801\uc73c\ub85c \uc815\ub9ac\ud558\uace0 \ud544\uc694\uc2dc AWS Support\ub97c \ud1b5\ud574 \ud55c\ub3c4 \uc99d\uac00 \uc694\uccad\ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.\\n\\n### 5. Terraform \uc0c1\ud0dc \uad00\ub9ac\\n\\n- `terraform plan`\uc73c\ub85c \uc0dd\uc131\ub420 \ub9ac\uc18c\uc2a4\ub97c \ubbf8\ub9ac \ud655\uc778\ud558\ub294 \uc2b5\uad00\uc774 \uc815\ub9d0 \uc911\uc694\ud569\ub2c8\ub2e4.\\n- \uae30\uc874 \ub9ac\uc18c\uc2a4\uc640\uc758 \ucda9\ub3cc \uac00\ub2a5\uc131 \uac80\ud1a0 \ubc0f Import\ub97c \ud65c\uc6a9\ud55c \uae30\uc874 \ub9ac\uc18c\uc2a4 \uc7ac\uc0ac\uc6a9\uc744 \uace0\ub824\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n### 6. \uc548\uc804\ud55c \ubc30\ud3ec \uc804\ub7b5\\n\\n```bash\\n# \ubc30\ud3ec \uc804 \uccb4\ud06c\ub9ac\uc2a4\ud2b8\\nterraform plan                    # \uc0dd\uc131\ub420 \ub9ac\uc18c\uc2a4 \ud655\uc778\\naws ec2 describe-addresses        # EIP \uc0ac\uc6a9\ub7c9 \ud655\uc778\\naws iam list-roles               # \uae30\uc874 IAM \uc5ed\ud560 \ud655\uc778\\naws kms list-aliases             # \uae30\uc874 KMS \ubcc4\uce6d \ud655\uc778\\n```\\n\\n## \ud83c\udfaf \uacb0\ub860\\n\\n\uc774\ubc88 \ubb38\uc81c\uc758 \uadfc\ubcf8 \uc6d0\uc778\uc740 **\uac1c\ubc1c \ud658\uacbd \ud63c\ub3d9\uc73c\ub85c \uc778\ud55c \ub9ac\uc18c\uc2a4 \uc911\ubcf5**\uc774\uc5c8\uc2b5\ub2c8\ub2e4. local\uacfc aws \ud658\uacbd\uc744 \uba85\ud655\ud788 \uad6c\ubd84\ud558\uc9c0 \uc54a\uace0 \uac1c\ubc1c\ud558\ub2e4\uac00, \uae30\uc874 \ub9ac\uc18c\uc2a4\ub97c \uc815\ub9ac\ud558\uc9c0 \uc54a\uc740 \uc0c1\ud0dc\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \ud658\uacbd\uc5d0 \ubc30\ud3ec\ub97c \uc2dc\ub3c4\ud55c \uac83\uc774 \ubb38\uc81c\uc758 \uc2dc\uc791\uc774\uc5c8\uc2b5\ub2c8\ub2e4.\\n\\nTerraform\uc73c\ub85c AWS \ub9ac\uc18c\uc2a4\ub97c \uad00\ub9ac\ud560 \ub54c\ub294 \ub2e4\uc74c \uc0ac\ud56d\ub4e4\uc744 \ubc18\ub4dc\uc2dc \uace0\ub824\ud574\uc57c \ud569\ub2c8\ub2e4:\\n\\n1. **\ud658\uacbd \ubd84\ub9ac\uc640 \uba85\ud655\ud55c \uc2dd\ubcc4**\\n2. **\uae30\uc874 \ub9ac\uc18c\uc2a4\uc640\uc758 \ucda9\ub3cc \uac00\ub2a5\uc131**\\n3. **Terraform Import\ub97c \ud65c\uc6a9\ud55c \uae30\uc874 \ub9ac\uc18c\uc2a4 \uc7ac\uc0ac\uc6a9**\\n\\n\ud2b9\ud788 EKS\uc640 \uac19\uc740 \ubcf5\uc7a1\ud55c \uc11c\ube44\uc2a4\ub294 \uc5ec\ub7ec AWS \uc11c\ube44\uc2a4\uc640 \uc5f0\ub3d9\ub418\uc5b4 \uc788\uc5b4, \uc0ad\uc81c \uc2dc\uc5d0\ub3c4 \uc77c\ubd80 \ub9ac\uc18c\uc2a4\uac00 \ub0a8\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7f0 \uc0c1\ud669\uc5d0\uc11c\ub294 **Terraform Import**\ub97c \ud65c\uc6a9\ud558\uc5ec \uae30\uc874 \ub9ac\uc18c\uc2a4\ub97c \uc7ac\uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uac00\uc7a5 \uc548\uc804\ud558\uace0 \ud6a8\uc728\uc801\uc778 \ud574\uacb0\ucc45\uc785\ub2c8\ub2e4.\\n\\n---\\n\\n**\uad00\ub828 \uba85\ub839\uc5b4 \ubaa8\uc74c:**\\n\\n```bash\\n# \ud658\uacbd \ud655\uc778\\npwd\\nterraform workspace show\\naws sts get-caller-identity\\n\\n# EIP \uad00\ub828\\naws ec2 describe-addresses --region ap-northeast-2\\naws ec2 release-address --allocation-id eipalloc-xxx --region ap-northeast-2\\n\\n# Terraform Import\\nterraform import \'resource_address\' resource_id\\nterraform state list\\nterraform plan\\n\\n# EKS \uad00\ub828\\naws eks update-kubeconfig --region ap-northeast-2 --name cluster-name\\nkubectl config current-context\\n```"},{"id":"/2025/07/17/kubernetes/kubernetes-basic-3-title","metadata":{"permalink":"/blog/2025/07/17/kubernetes/kubernetes-basic-3-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/kubernetes/2025-07-17-kubernetes-basic-3-title.mdx","source":"@site/blog/kubernetes/2025-07-17-kubernetes-basic-3-title.mdx","title":"Kubernetes Basic(3)","description":"{/ truncate /}","date":"2025-07-17T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Kubernetes","permalink":"/blog/tags/kubernetes"}],"readingTime":5.14,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Kubernetes Basic(3)","authors":["hyeonlim"],"tags":["TIL","Kubernetes"]},"unlisted":false,"prevItem":{"title":"Terraform\uc73c\ub85c EKS \ubc30\ud3ec \uc2dc \ubc1c\uc0dd\ud558\ub294 \ub9ac\uc18c\uc2a4 \ucda9\ub3cc \ud574\uacb0 \uac00\uc774\ub4dc","permalink":"/blog/2025/07/19/terraform/terraform-errorHandling-title"},"nextItem":{"title":"\uac1c\ubc1c\ud558\uae30 \uc804 \uc544\uc774\ub514\uc5b4 \ud68c\uc758 \uc774\ub807\uac8c \ud574\ubcf4\uc790.","permalink":"/blog/2025/07/16/etc/idea_meeting-title"}},"content":"{/* truncate */}\\n\\n## Secret\\n\\n- \uc0dd\uc131\ud558\ub294 \ubc29\ubc95\uc740 cli\ub85c \ud558\uac70\ub098 .yml \ud30c\uc77c\uc744 \uc791\uc131\ud574\uc11c \ub9cc\ub4dc\ub294 \ubc29\ubc95\uc774 \uc788\uc5b4\uc694.\\n\\n```bash\\nkubectl create secret generic my-secret \\\\\\n--from-literal=username=admin \\\\\\n--from-literal=password=1234\\n```\\n\\ncli\ub85c \uac12\uc744 \ud655\uc778\uc744 \ud574\uc8fc\ub824\uba74, \uc544\ub798 cli \uba85\ub839\uc744 \ud1b5\ud574\uc11c yml\uc744 \ucd9c\ub825\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n```bash\\nkubectl get secret my-secret -o yaml\\n```\\n\\n<img src=\\"/img/blog/kubernetes/2025-07-17/img1.png\\" />\\n\uc5ec\uae30\uc11c \ucd9c\ub825\ub418\ub294 \ub370\uc774\ud130 \uc5ed\uc2dc base64\ub85c \uc778\ucf54\ub529\uc774 \ub418\uae30 \ub54c\ubb38\uc5d0 \uc774\ub97c \ud655\uc778\ud574\uc8fc\uae30 \uc704\ud574\uc11c\ub294\\n\ubcf5\ud638\ud654\ud574\uc8fc\uc5b4\uc57c \ud574\uc694.\\n\\nyml \ud30c\uc77c\ub85c \ub123\uc5b4\uc904\ub54c\ub294 base64 \uc778\ucf54\ub529\ub41c \uac12\uc744 \ub123\uc5b4\uc8fc\uc5b4\uc57c \ud574\uc694.\\n\\n```yml\\napiVersion: v1\\nkind: Secret\\nmetadata:\\n  name: my-secret2\\ntype: Opaque\\ndata:\\n  username: YWRtaW4= # admin (base64 \uc778\ucf54\ub529)\\n  password: MTIzNA== # 1234 (base64 \uc778\ucf54\ub529)\\n```\\n\\n\uc704\uc640 \uac19\uc774 \uc124\uc815\uc744 \ud558\uace0 \ub09c \uc774\ud6c4\uc5d0 \ud658\uacbd\ubcc0\uc218\ub85c \ub118\uaca8\uc904 \uc218\ub3c4 \uc788\uace0, \ubcfc\ub968\uc73c\ub85c \ub118\uaca8\uc904 \uc218\ub3c4 \uc788\uc5b4\uc694.\\n\\n\ud658\uacbd\ubcc0\uc218\ub85c \ub118\uaca8 \uc904\ub54c\ub294 \uc544\ub798\uc640 \uac19\uc774 key\uac12\uc744 \uc9c0\uc815\ud574\uc11c \ub118\uaca8\uc8fc\uc5b4\uc57c \ud574\uc694.\\n\\n```yml\\nspec:\\n  containers:\\n    - name: mycontainer\\n      image: nginx\\n      env:\\n        - name: USERNAME\\n          valueFrom:\\n            secretKeyRef:\\n              name: my-secret\\n              key: username\\n        - name: PASSWORD\\n          valueFrom:\\n            secretKeyRef:\\n              name: my-secret\\n              key: password\\n```\\n\\n\ubcfc\ub968\uc73c\ub85c \ub118\uaca8\uc8fc\ub294 \uac83\uc740 \ub530\ub85c key\ub97c \uc124\uc815\ud574\uc8fc\ub294 \uac83\uc774 \uc544\ub2c8\ub77c \uc0dd\uc131\ud55c secret\ub97c \uc804\uccb4 \ub118\uaca8\uc8fc\uc5b4\uc694.\\n\\n```yml\\nspec:\\n  containers:\\n    - name: mycontainer\\n      image: nginx\\n      volumeMounts:\\n        - name: secret-volume\\n          mountPath: \\"/etc/secret\\"\\n          readOnly: true\\n  volumes:\\n    - name: secret-volume\\n      secret:\\n        secretName: my-secret\\n```\\n\\n## StateFulSet\\n\\n- \uc0dd\uc131\ub41c Pod\ub9c8\ub2e4 \ubcc4\ub3c4\uc758 \ub514\uc2a4\ud06c \uacf5\uac04\uc744 \uac00\uc838\uc57c\ud558\ub294 \uacbd\uc6b0\uc5d0 \uc8fc\ub85c \uc0ac\uc6a9\ud574\uc694. \ubd84\uc0b0 \uae30\ubc18 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uacbd\uc6b0 \ud638\uc2a4\ud2b8\uba85\uacfc IP \ub4f1\uc774 \ubc14\ub00c\uba74 \uc548\ub3fc\uc694.\\n\\n- ReplicaSet\uc758 \uacbd\uc6b0\uc5d0\ub294 \uc0dd\uc131 \ubc0f \uc0ad\uc81c\uac00 \ub3d9\uc2dc\uc5d0 \uc9c4\ud589\ub418\ub294 \ubc18\uba74\uc5d0, StatefullSet\uc740 \uc21c\ucc28\uc801\uc73c\ub85c \uc9c4\ud589\ub418\uc5b4\uc11c \uc2dc\uac04 \uc870\uc808\uc774 \uac00\ub2a5\ud574\uc694.\\n\\n- Pod\ub97c \uc0ad\uc81c\ud558\ub294 \uacbd\uc6b0 ID \uac12\uc774 \uac00\uc7a5 \ud070 \uac83\ubd80\ud130 \uc0ad\uc81c\uac00 \ub3fc\uc694. \uc81c\uc77c \ub9c8\uc9c0\ub9c9\uc5d0 \uc0dd\uc131\ub41c Pod\uac00 \uba3c\uc800 \uc0ad\uc81c\uac00 \ub418\uace0 \ub9c8\uc2a4\ud130\uc758 \uacbd\uc6b0\uc5d0\ub294 \uac00\uc7a5 \ub9c8\uc9c0\ub9c9\uc5d0 \uc0ad\uc81c\uac00 \ub3fc\uc694.\\n\\n- \uc2a4\ucf00\uc77c\ub9ac\uc5d0\uc11c Pod\uac00 \uc0ad\uc81c\uac00 \ub418\uba74 \ud574\ub2f9 Pod\uac00 \ubb3c\uace0 \uc788\ub294 PVC\ub294 Pod\uc5d0 \ub300\ud55c \uc815\ubcf4\ub97c \uac00\uc9c0\uace0 \uc788\uc5b4\uc694. \ub530\ub77c\uc11c Pod\ub97c \uc0dd\uc131\ud558\uba74 \uc774\uc804\uacfc \ub3d9\uc77c\ud55c ID\ub85c \uc7ac\uc0dd\uc131\uc774 \ub3fc\uc694.\\n\\n\u203c Deployment\ub294 Elastic Block Store\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc544\uc694. \ub9cc\uc57d Deployment\uc5d0 \ub514\uc2a4\ud06c\ub97c \ubd99\ud788\ub77c\uace0 \ud55c\ub2e4\uba74 EFS\ub97c \ubd99\ud600\uc57c \ud574\uc694.\\n\\n## Kustomize / Helm \ucc28\ud2b8\\n\\n2\uac1c\ub97c \uac19\uc774 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc9c0\ub9cc \uac70\uc758 \uac19\uc774 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc544\uc694.\\n\\n### Kustomize\\n\\n- base + overlay\ub97c \uc870\ud569\ud558\uc5ec \ud658\uacbd\ubcc4 \ubc30\ud3ec YAML\uc744 kustomize build \uba85\ub839\uc73c\ub85c \ucd94\ucd9c\ud569\ub2c8\ub2e4.\\n\\n```csharp\\nkustomize/\\n\u251c\u2500\u2500 base/\\n\u2502   \u2514\u2500\u2500 deployment.yaml\\n\u251c\u2500\u2500 overlays/\\n\u2502   \u251c\u2500\u2500 dev/\\n\u2502   \u2502   \u2514\u2500\u2500 kustomization.yaml\\n\u2502   \u251c\u2500\u2500 stage/\\n\u2502   \u2514\u2500\u2500 prod/\\n\u2502   \u2514\u2500\u2500 aws/\\n\u2502   \u2514\u2500\u2500 gcp/\\n\\n```\\n\\n### Helm chart\\n\\n- \uc608\ub97c \ub4e4\uc5b4\uc11c MYSQL \uac1c\ubc1c\uc790\uac00 yml\uc744 \uc81c\uacf5\uc744 \ud558\uace0 \uc18c\ube44\uc790\uac00 \ud658\uacbd\ubcc0\uc218\ub098 \uc124\uc815 \ub4f1\uc744 \ubcc0\uacbd\ud558\uace0 \uc2f6\uc744 \ub54c :\\n\\n  - \uac1c\ubc1c\uc790\uac00 Helm \ucc28\ud2b8\ub97c \ud65c\uc6a9\ud558\uba74 \ubcc0\uacbd \uac00\ub2a5\ud55c \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc81c\uacf5\ud574\uc918\uc694. \uc774\ub97c \ud1b5\ud574\uc11c \uc0ac\uc6a9\uc790\ub294 \ud658\uacbd\ubcc0\uc218\ub098 \uc124\uc815\uc744 \uc27d\uac8c \ubc14\uafc0 \uc218 \uc788\uc5b4\uc694.\\n\\n**\uc124\uce58 \ubc29\ubc95**\\n\\n\uc544\ub798\uc640 \uac19\uc740 \uba85\ub839\uc5b4\ub97c \uc21c\uc11c\ub300\ub85c \uc785\ub825\uc744 \ud574\uc8fc\uba74 helm chart\ub97c \uc124\uce58\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n```bash\\ncurl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3\\n\\nchmod 700 get_helm.sh\\n\\n./get_helm.sh\\n```\\n\\n\uc798 \uc124\uce58\uac00 \ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud558\uae30 \uc704\ud574\uc11c mysql\ub97c \uac80\uc0c9\uc744 \ud574\ubcf4\uba74 \uc798 \ub098\uc624\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n```bash\\nhelm show chart stable/mysql\\n\\napiVersion: v1\\nappVersion: 5.7.30\\ndeprecated: true\\ndescription: DEPRECATED - Fast, reliable, scalable, and easy to use open-source relational\\n  database system.\\nhome: https://www.mysql.com/\\nicon: https://www.mysql.com/common/logos/logo-mysql-170x115.png\\nkeywords:\\n- mysql\\n- database\\n- sql\\nname: mysql\\nsources:\\n- https://github.com/kubernetes/charts\\n- https://github.com/docker-library/mysql\\nversion: 1.6.9\\n```\\n\\n**helm chart \uc0dd\uc131\ud558\uae30**\\n\\n\ud574\ub2f9 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574\uc11c \uc0dd\uc131\ud574\uc8fc\uc138\uc694.\\n\\n```bash\\nhelm create <\uc774\ub984>\\n```\\n\\ntemplates \ud3f4\ub354\uc5d0\uc11c deployment.yml\uc640 service.yml\uc744 \uc0dd\uc131\uc744 \ud574\uc918\uc694. \\\\_helpers.tpl\uc744 \uc81c\uc678\ud55c \ub098\uba38\uc9c0 \ud30c\uc77c\ub4e4\uc740 \uc0ad\uc81c\ub97c \uc9c4\ud589\ud574\uc918\uc694.\\n\\n```yml\\n# deployment.yml\\napiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n  name: {{ .Values.container.name }}\\nspec:\\n  replicas: {{ .Values.replicas }}\\n  selector:\\n    matchLabels:\\n      app: {{ .Values.container.name }}\\n  template:\\n    metadata:\\n      labels:\\n        app: {{ .Values.container.name }}\\n        environment: {{ .Values.environment }}\\n    spec:\\n      containers:\\n        - name: {{ .Values.container.name }}\\n          image: {{ .Values.container.image }}:{{ .Values.container.tag }}\\n          ports:\\n            - containerPort: {{ .Values.container.port }}\\n          env:\\n            - name: environment\\n              value: {{ .Values.environment }}\\n```\\n\\n```yml\\n# service.yml\\napiVersion: v1\\nkind: Service\\nmetadata:\\n  name: {{ .Values.container.name }}-service\\n  labels:\\n    app: {{ .Values.container.name }}\\nspec:\\n  ports:\\n  - port: 80\\n    protocol: TCP\\n    targetPort: {{ .Values.container.port }}\\n  selector:\\n    app: {{ .Values.container.name }}\\n  type: LoadBalancer\\n```\\n\\n\uae30\uc874\uc758 values.yaml\uc744 \uc804\uccb4 \uc0ad\uc81c\ub97c \ud574\uc918\uc694. \uadf8\ub7f0\ub2e4\uc74c\uc5d0 \uc544\ub798\ub97c \ub123\uc5b4\uc918\uc694. \uc774\ub807\uac8c \ud558\uba74 \uc0ac\uc6a9\uc790\ub294 \uc5ec\uae30\uc5d0 \uc9c0\uc815\ub41c \ubcc0\uc218\ub9cc \uac74\ub4e4 \uc218 \uc788\ub2e4\ub294 \uac83\uc744 \uc54c\ub824\uc918\uc694.\\n\\n```yml\\nenvironment: development\\ncontainer:\\n  name: nginx\\n  port: 80\\n  image: nginx\\n  tag: latest\\nreplicas: 2\\n```\\n\\n\uc704\uc5d0\uc11c \uc791\uc5c5\ud55c \uac83\uc744 \uc124\uce58\ub97c \uc9c4\ud589\ud574\uc918\uc694.\\n\\n```bash\\nhelm install nginxstd ./nginxstd\\n```\\n\\n\ud328\ud0a4\uc9c0\ub97c \uc0dd\uc131\ud574\uc8fc\uace0 \ud30c\uc77c\uc744 \uc774\ub3d9\uc2dc\ucf1c\uc90d\ub2c8\ub2e4. \uadf8\ub9ac\uace0 helm repository \ud30c\uc77c\uc744 \uc0dd\uc131\ud574\uc694.\\n\\n```bash\\nhelm package ./nginxstd\\n\\nmkdir prod\\n\\nmv ./nginx-std-0.1.0.tgz ./prod/\\n\\n# \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac \ud30c\uc77c \uc0dd\uc131 (index.yaml)\\nheml repo index ./prod\\n\\n# \ud30c\uc77c \uc0dd\uc131 \ud655\uc778\\ncat ./prod/index.yaml\\n```\\n\\n\uc704 \uc791\uc5c5\uae4c\uc9c0 \ub2e4 \ud588\ub2e4\uba74 Github Repository\ub97c \ub9cc\ub4e4\uc5b4\uc694. \uadf8\ub9ac\uace0 Repository\uc5d0 \uc6b0\ub9ac\uac00 \uc791\uc5c5\ud55c \uac83\uc744 \uc62c\ub824\uc918\uc694. Github\uc5d0 \uc815\uc0c1\uc801\uc73c\ub85c \ub4f1\ub85d\uc774 \uc644\ub8cc\uac00 \ub418\uc5c8\ub2e4\uba74 \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574\uc11c repository\ub97c \ucd94\uac00\uc2dc\ucf1c\uc90d\ub2c8\ub2e4.\\n\\n```bash\\nhelm repo add helm-prod <\uc790\uc2e0 github \uc8fc\uc18c\uc5d0 \uc62c\ub77c\uac00 \uc788\ub294 helm Repository>\\n```\\n\\n---\\n\\n## \uc2e4\uc2b5\\n\\n### MySQL DB Secret \uc0dd\uc131 \ubc0f \uc0ac\uc6a9\\n\\nSecret\ub97c \uc0dd\uc131\ud558\ub294\ub370 \uc694\uad6c\uc870\uac74\uc740 \uc544\ub798\uc640 \uac19\uc544\uc694. \ud574\ub2f9 \ub0b4\uc6a9\uc744 \ub123\uae30 \uc704\ud574\uc11c\ub294 \uadf8\ub300\ub85c \uc791\uc131\ud558\ub294 \uac83\uc774 \uc544\ub2c8\ub77c base64\ub85c \uc778\ucf54\ub529\uc744 \uc9c4\ud589\ud574\uc57c\ud574\uc694.\\n\\n```txt\\nMYSQL_USER: user1\\nMYSQL_PASSWORD: pw1234\\nMYSQL_ROOT_PASSWORD: rootpw9876\\nMYSQL_DATABASE: mydb\\n```\\n\\n\uccab \ubc88\uc9f8\ub85c Secret\ub97c \uc0dd\uc131\uc744 \ud574\uc694.\\n\\n```yml\\napiVersion: v1\\nkind: Secret\\nmetadata:\\n  name: mysql-secret\\n  labels:\\n    app: mysql\\ndata:\\n  MYSQL_USER: dXNlcjE= #user1\\n  MYSQL_PASSWORD: cHcxMjM0 #pw1234\\n  MYSQL_ROOT_PASSWORD: cm9vdHB3OTg3Ng== #rootpw9876\\n  MYSQL_DATABASE: bXlkYg== #mydb\\n```\\n\\n`kubectl apply -f ./\ud30c\uc77c\uc774\ub984` \uba85\ub839\uc5b4\ub85c \uc2e4\ud589\uc744 \ud558\uba74 \uc0dd\uc131\uc774 \ub3fc\uc694.\\n\\n\uc0dd\uc131\uc744 \ud574\uc900\ub2e4\uc74c\uc5d0 \ud658\uacbd\ubcc0\uc218 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud574\uc11c Pod\ub97c \uc0dd\uc131\uc744 \ud574\uc904\uac70\uc5d0\uc694. \uc774 \ub54c secretKeyRef\uc758 \uc774\ub984\uc744 \uc0dd\uc131\ud55c secret\uc758 \uc774\ub984\uc73c\ub85c \uc9c0\uc815\uc744 \ud574\uc8fc\uba74 \ub3fc\uc694.\\n\\n```yml\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  name: mysql-secret-env-pod\\nspec:\\n  containers:\\n    - name: mysql-test\\n      image: mysql:8.0\\n      env:\\n        - name: MYSQL_USER\\n          valueFrom:\\n            secretKeyRef:\\n              name: mysql-secret\\n              key: MYSQL_USER\\n        - name: MYSQL_PASSWORD\\n          valueFrom:\\n            secretKeyRef:\\n              name: mysql-secret\\n              key: MYSQL_PASSWORD\\n        - name: MYSQL_ROOT_PASSWORD\\n          valueFrom:\\n            secretKeyRef:\\n              name: mysql-secret\\n              key: MYSQL_ROOT_PASSWORD\\n        - name: MYSQL_DATABASE\\n          valueFrom:\\n            secretKeyRef:\\n              name: mysql-secret\\n              key: MYSQL_DATABASE\\n```\\n\\n### StatefulSet\\n\\n```yml\\napiVersion: apps/v1\\nkind: StatefulSet\\nmetadata:\\n  name: nodejs-sfs\\nspec:\\n  selector:\\n    matchLabels:\\n      app: nodejs-sfs\\n  serviceName: nodejs-sfs\\n  replicas: 2\\n  template:\\n    metadata:\\n      labels:\\n        app: nodejs-sfs\\n    spec:\\n      containers:\\n        - name: nodejs-sfs\\n          image: hyeonlim/nodejs:sfs\\n          ports:\\n            - name: http\\n              containerPort: 8080\\n          volumeMounts:\\n            - name: data\\n              mountPath: /var/data\\n  volumeClaimTemplates:\\n    - metadata:\\n        name: data\\n      spec:\\n        resources:\\n          requests:\\n            storage: 1Mi\\n        accessModes:\\n          - ReadWriteOnce\\n```\\n\\n\ud574\ub2f9 \uc791\uc5c5\uc744 \ud1b5\ud574\uc11c \uc544\ub798\uc640 \uac19\uc740 \ub9ac\uc2a4\uc18c\ub97c \uac00\uc9c0\ub294 PVC\ub97c \ub9cc\ub4e4\uc5b4\uc8fc\uace0, volumeClaimTemplates\ub97c \ud1b5\ud574\uc11c Pod \ub9c8\ub2e4 \ub3c5\ub9bd\uc801\uc778 PVC\ub97c \ub9cc\ub4e4 \uc218 \uc788\uc5b4\uc694.\\n\\n```yml\\nresources:\\n  requests:\\n    storage: 1Mi\\n  accessModes:\\n    - ReadWriteOnce\\n```\\n\\n\uc704 \uc791\uc5c5\uc774 \ub9c8\ubb34\ub9ac\uac00 \ub418\uace0 \ub098\uba74 load balancer\ub97c \uc124\uc815\ud558\uc5ec \ud2b8\ub798\ud53d\uc744 Pod \ubcc4\ub85c \ubd84\uc0b0\uc744 \uc9c4\ud589\ud574\uc918\uc694.\\n\\n```yml\\napiVersion: v1\\nkind: Service\\nmetadata:\\n  name: nodesjs-sfs-lb\\n  annotations:\\n    service.beta.kubernetes.io/aws-load-balancer-type: external\\n    service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: ip\\n    service.beta.kubernetes.io/aws-load-balancer-scheme: internet-facing\\nspec:\\n  type: LoadBalancer\\n  sessionAffinity: None\\n  ports:\\n    - port: 80\\n      targetPort: 8080\\n  selector:\\n    app: nodejs-sfs\\n```\\n\\n\u2705 \uc911\uc694\ud55c \uc810\\n\\n- StatefulSet Pod\ub9c8\ub2e4 \ub370\uc774\ud130\uac00 \ub2e4\ub974\uba74, \ub85c\ub4dc\ubc38\ub7f0\uc11c\ub85c \uc811\uadfc\ud55c \uc0ac\uc6a9\uc790\ub9c8\ub2e4 \ub2e4\ub978 \uacb0\uacfc\ub97c \ubc1b\uac8c \ub3fc\uc694. \ub530\ub77c\uc11c \uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574\uc11c\\n\\n  - Shared Storage (NFS, S3)\ub97c \uc0ac\uc6a9\ud574\uc694.\\n\\n  - \uc0ac\uc6a9\uc790 \ub9c8\ub2e4 Pod \uc811\uc18d\uc744 \uace0\uc815\uc744 \uc2dc\ud0ac \uc218 \uc788\uc5b4\uc694. sticky session\uc774\ub77c\uace0 \ud574\uc694. \uc544\ub798\uc640 \uac19\uc740 \uc608\uc2dc\ub85c \uc124\uc815\uc744 \ud574\uc904 \uc218 \uc788\uc5b4\uc694.\\n\\n  ```yml\\n  sessionAffinity: ClientIP\\n  ```"},{"id":"/2025/07/16/etc/idea_meeting-title","metadata":{"permalink":"/blog/2025/07/16/etc/idea_meeting-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/etc/2025-07-16-idea_meeting-title.mdx","source":"@site/blog/etc/2025-07-16-idea_meeting-title.mdx","title":"\uac1c\ubc1c\ud558\uae30 \uc804 \uc544\uc774\ub514\uc5b4 \ud68c\uc758 \uc774\ub807\uac8c \ud574\ubcf4\uc790.","description":"{/ truncate /}","date":"2025-07-16T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Etc","permalink":"/blog/tags/etc"}],"readingTime":2.05,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"\uac1c\ubc1c\ud558\uae30 \uc804 \uc544\uc774\ub514\uc5b4 \ud68c\uc758 \uc774\ub807\uac8c \ud574\ubcf4\uc790.","authors":["hyeonlim"],"tags":["TIL","Etc"]},"unlisted":false,"prevItem":{"title":"Kubernetes Basic(3)","permalink":"/blog/2025/07/17/kubernetes/kubernetes-basic-3-title"},"nextItem":{"title":"Kubernetes Basic(2)","permalink":"/blog/2025/07/16/kubernetes/kubernetes-basic-2-title"}},"content":"{/* truncate */}\\n\\ncloudwave\uc5d0\uc11c \uc9c4\ud589\ud588\ub358 idea \ud68c\uc758\uc640 \uad00\ub828\ub41c \ud68c\uace0\uc5d0\uc694. \uc55e\uc73c\ub85c \ub3c4\uc6c0\uc774 \ub420 \uac70 \uac19\uc544\uc11c \uae30\ub85d \ud574\ub450\uc5b4\uc694.\\n\\n## \uc8fc\uc81c\\n\\n`\ub300\ud559\uc0dd\uc744 \uc704\ud55c \uc644\ubcbd\ud55c \uc544\uce68 \ub8e8\ud2f4\uc5d0 \ub300\ud55c \uace0\ubbfc` \uc774\uc5d0\uc694. \uc774 \ub54c \uc218\uba74\uc744 \uc2dc\uac04\uc744 \uc798 \uc9c0\ud0a4\uace0 \ucd94\uac00\uc801\uc73c\ub85c \uac74\uac15\ud55c \ub8e8\ud2f4\uc744 \ub9cc\ub4dc\ub294 \uac83\uc774 \ubaa9\ud45c\uc778 \uac83\uc744 \uc78a\uc9c0 \ub9d0\uc544\uc57c \ud574\uc694.\\n\\n## process\\n\\n1. `07\uc2dc \uae30\uc0c1`, `09\uc2dc \uc790\ub9ac \ucc29\uc11d` \ud574\ub2f9 2\uac1c\uc758 \uc2dc\uc791\uc810\uacfc \ub05d\uc810\uc740 \uace0\uc815\uc744 \ud55c \uc0c1\ud0dc\uc5d0\uc11c \ud1b5\ud559 \uc2dc\uac04\uc774 1\uc2dc\uac04\uc784\uc744 \uace0\ub824\ud574\uc11c \uac01\uc790\uc758 \uc544\uce68 \ub8e8\ud2f4\uc744 \ub9cc\ub4e4\uc5b4\uc694.\\n   ex. \uae30\uc0c1 -> \uc2dd\uc0ac -> \uc637\uc744 \uc785\ub294\ub2e4 -> \uc9d1\uc744 \ub098\uac04\ub2e4 -> \uc9c0\ud558\ucca0\uc744 \ud0c4\ub2e4 -> .. -> \uc790\ub9ac\uc5d0 \ucc29\uc11d\ud55c\ub2e4.\\n\\n   \uc774\ub807\uac8c \uac01\uc790\ub9cc\uc758 \ub8e8\ud2f4\uc744 \ub9cc\ub4e4\uc5c8\uc5b4\uc694.\\n\\n2. \uac01\uc790 \ub9cc\ub4e0 \ub8e8\ud2f4\ub4e4\uc744 \ud300\uc6d0\ub4e4\uc5d0\uac8c \uc124\uba85\uc744 \ud574\uc694. \uc774\ub54c \ud300\uc6d0\ub4e4\uc740 \ubaa8\ub4e0 \uc9c8\ubb38\uc5d0 \ub300\ud574\uc11c \uc758\ubb38\uc744 \uac00\uc9c0\uace0 \ud558\ub098\ud558\ub098 \ubb3c\uc5b4\ubcf4\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\uc744 \ud574\uc694.\\n\\n3. \uadf8\ub9ac\uace0 \ub9cc\ub4e0 \ub8e8\ud2f4 \uc911 \uc81c\uc77c \uad1c\ucc2e\ub2e4 \uc544\ub2c8\uba74 \ud574\ubcf4\uace0 \uc2f6\ub2e4 \ud558\ub294 \uc0ac\ub78c\uc774 \uc190\uc744 \ub4e4\uc5b4\uc694. \ud574\ub2f9 \uc190\uc744 \ub4e0 \uc0ac\ub78c\uc740 \uc774\uc81c Product Owner\uac00 \ub3fc\uc694.\\n\\n4. \uac01\uc790 \ub9cc\ub4e0 \ub8e8\ud2f4\ub4e4\uc744 \ubaa8\ub450 \ud569\uccd0\uc694. \ub3d9\uc77c\ud55c \uce74\ud14c\uace0\ub9ac\uc5d0 \ub300\ud574\uc11c\ub294 \ud558\ub098\uc758 \ubb38\uc81c\ub85c \ucc98\ub9ac\ub97c \ud558\uace0, \ubd84\uc57c\uac00 \ub2e4\ub974\uba74 \ubb34\uc870\uac74 \ubd84\ub9ac \uc2dc\ud0a4\ub294\uac8c \uc911\uc694\ud574\uc694.\\n\\n5. 4\ubc88\uc5d0\uc11c \ub9cc\ub4e0 \uacb0\uacfc\ubb3c\uc744 \ubc14\ud0d5\uc73c\ub85c \ud22c\ud45c\ub97c \uc9c4\ud589\uc744 \ud574\uc694. \uba3c\uc800 PO\uac00 \uc544\ub2cc \uc0ac\ub78c\ub4e4\uc774 x\uac1c\uc758 \ud22c\ud45c\uad8c\uc744 \uac00\uc9c0\uace0 \uaf2d \uc788\uc5b4\uc57c \ud558\ub294 \uac83\ub4e4\uc5d0 \ub300\ud574\uc11c \ud22c\ud45c\ub97c \uc9c4\ud589\ud574\uc694. \uadf8\ub9ac\uace0 PO\ub294 \ud22c\ud45c\uad8c\uc758 \uc218\uc640 \uad00\uacc4 \uc5c6\uc774 \ud22c\ud45c\ub97c \ud558\ub294\ub370 \uc774 \ub54c PO\uac00 \uc120\ud0dd\ud55c \uac83\uc740 \ubb34\uc870\uac74 \ucc44\ud0dd\uc774 \ub418\uae30 \ub54c\ubb38\uc5d0 PO\uc758 \uc120\ud0dd\uc73c\ub85c \uc81c\ud488\uc758 \ubc29\ud5a5\uc131\uc774 \ubc14\ub014 \uc218\ub3c4 \uc788\uc5b4\uc694.\\n\\n6. \ud22c\ud45c\ub97c \ud55c \uac83\uc744 \ubc14\ud0d5\uc73c\ub85c 4\ubc88\uc5d0 \ub9cc\ub4e0 \ud750\ub984 \ubc11\uc5d0 \uac80\uc740 \uc904\uc744 \ud558\ub098 \ub9cc\ub4e4\uace0, \ud574\ub2f9 \ud504\ub85c\uc138\uc2a4\uc5d0\uc11c \ucd9c\ubc1c \uc2dc\uac04\uc744 07\uc2dc 30\ubd84\uc5d0 \ucd9c\ubc1c\ud558\ub294 \uac83\uc73c\ub85c \ubcc0\uacbd\uc744 \ud588\uc744 \ub54c, 5\ubc88\uc758 \uacb0\uacfc\uc5d0\uc11c \uaf2d \ud544\uc694 \uc5c6\ub294 \uac83\ub4e4\uc744 \uc544\ub798 \uce78\uc73c\ub85c \ub0b4\ub824\uc694. \uc774 \ub54c PO\uc758 \uc120\ud0dd\uc740 \uc808\ub300 \ub0b4\ub9ac\uc9c0 \uc54a\uc544\uc694.\\n\\n7. 6\ubc88\uc758 \uacb0\uacfc\ubb3c \ubc11\uc5d0 \uac80\uc740 \uc904\uc744 \ud558\ub098 \ub610 \ub9cc\ub4e4\uace0, \uadf8 \ub2e4\uc74c\uc5d0 \ud574\ub2f9 \ud504\ub85c\uc138\uc2a4\ub97c \ucd9c \uc2dc\uac04\uc774 07\uc2dc 50\ubd84\uc774\ub77c\uace0 \ud588\uc744 \ub54c \uaf2d \ud544\uc694\ud55c \uac83\ub4e4\ub9cc \ub0a8\uae30\uace0 \ub098\uba38\uc9c0\ub294 \ub0b4\ub9ac\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\uc744 \ud574\uc694.\\n\\n## \uc6b0\ub9ac\uac00 \ud588\ub358 \uac83\uc5d0 \ub300\ud55c \uacb0\uacfc\ubb3c\\n\\n- \uadf8\ub7ec\uba74 \ucd1d 3\uac1c\uc758 \uc601\uc5ed\uc774 \ub098\uc624\uac8c \ub418\ub294\ub370 \uc774 \ub54c 07\uc2dc 50\ubd84\uc77c \ub54c \uaf2d \ud558\ub294 \uac83\uc774 MVP\uac00 \ub418\uace0 \uc774\ub294 fix\uac00 \ub3fc\uc694. \uadf8\ub9ac\uace0 \uc544\ub9ac 07\uc2dc 30\ubd84\uc5d0 \uc9c4\ud589\ud558\ub294 \uac83\uc774 release 1 \ub418\uace0 \uadf8 \uc774\ud6c4\ub294 release 2\uac00 \ub3fc\uc694.\\n\\n- \uc6b0\ub9ac\ub294 \ud574\ub2f9 \uacfc\uc815\uc744 \ud574\uc624\uba74\uc11c \uae30\ub2a5\uc744 \uc2dc\uac04 \uc21c\uc73c\ub85c \ud45c\uc2dc\ub97c \ud588\uc5b4\uc694. \uc65c\ub0d0\ud558\uba74 \uc644\ub8cc \uc2dc\uac04\uc740 \uace0\uc815\uc774 \ub418\uc5b4\uc788\uae30 \ub54c\ubb38\uc774\uc5d0\uc694. \ub610\ud55c \ubc1c\uc0b0\ud558\ub294 \uacfc\uc815\uc744 \uac70\uce58\uace0, \ub3d9\uc77c\ud55c \uce74\ud14c\uace0\ub9ac\uc5d0 \ub300\ud574\uc11c \uc758\uacac\uc744 \ud569\uce58\uba74\uc11c \uc218\ub834\ud558\ub294 \uacfc\uc815\uc744 \uac70\ucce4\uc5b4\uc694.\\n\\n- \uc5ec\uae30\uc11c \uc911\uc694\ud55c \uac83\uc740 \uac01 release\ub294 1\uac1c\uc758 \uae30\ub2a5\uc744 \ud574\uc57c\ud574\uc694. \uc989 \uc790\ub3d9\ucc28\ub97c \ub9cc\ub4dc\ub294 MVP\uac00 \uc788\uc5c8\ub2e4\uace0 \ud55c\ub2e4\uba74. \ub2e4\uc74c release\ub294 \ubc14\ud034\ub97c \ub9cc\ub4dc\ub294 \uac83\uc774 \uc544\ub2c8\ub77c \uc624\ud1a0\ubc14\uc774\ub098 \ud639\uc740 \ub2e4\ub978 \uae30\ub2a5\uc744 \ud558\ub294 \uac83\uc774 \ub9cc\ub4e4\uc5b4\uc838\uc57c \ud558\ub294 \uac83\uc744 \uc758\ubbf8\ud574\uc694.\\n\\n- \ub610\ud55c \uc5ec\uae30\uc11c \uc6b0\ub9ac\ub294 \uc544\uc9c1 \uc548\uc815\ud55c\uac8c \uc788\ub294\ub370 \ubc14\ub85c \ud398\ub974\uc18c\ub098\uc5d0\uc694. \ub300\ud559\uc0dd\uc744 \ud0c0\uac9f\uc73c\ub85c \ud588\ub294\ub370 \uc5b4\ub5a4 \ub300\ud559\uc0dd\uc744 \ud0c0\uac9f\uc73c\ub85c \ud588\ub294\uc9c0 \uae30\uc900\uc774 \uc5c6\uc5b4\uc694. \ud398\ub974\uc18c\ub098\uac00 \uc5c6\ub2e4\uba74 \uc81c\ud488\uc774 \uc5b4\ub5a0\ud55c \ubc29\ud5a5\uc73c\ub85c \ub098\uc544\uac00\ub294\uc9c0\uc5d0 \ub300\ud574\uc11c \ubd88\uba85\ud655\ud574\uc9c0\uace0 \ud504\ub85c\uc81d\ud2b8\uac00 \uc6d0\ud558\ub294 \ubc29\ud5a5\uc131\uc73c\ub85c \ud758\ub7ec\uac00\uc9c0 \ubabb\ud560 \uc218 \uc788\uc5b4\uc694."},{"id":"/2025/07/16/kubernetes/kubernetes-basic-2-title","metadata":{"permalink":"/blog/2025/07/16/kubernetes/kubernetes-basic-2-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/kubernetes/2025-07-16-kubernetes-basic-2-title.mdx","source":"@site/blog/kubernetes/2025-07-16-kubernetes-basic-2-title.mdx","title":"Kubernetes Basic(2)","description":"{/ truncate /}","date":"2025-07-16T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Kubernetes","permalink":"/blog/tags/kubernetes"}],"readingTime":4.01,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Kubernetes Basic(2)","authors":["hyeonlim"],"tags":["TIL","Kubernetes"]},"unlisted":false,"prevItem":{"title":"\uac1c\ubc1c\ud558\uae30 \uc804 \uc544\uc774\ub514\uc5b4 \ud68c\uc758 \uc774\ub807\uac8c \ud574\ubcf4\uc790.","permalink":"/blog/2025/07/16/etc/idea_meeting-title"},"nextItem":{"title":"kubernetes Basic (1)","permalink":"/blog/2025/07/15/kubernetes/kubernetes-basic-1-title"}},"content":"{/* truncate */}\\n\\n## volume\\n\\n- `Persistent Volume Access Mode`\uc758 \ubaa8\ub378\uc740 \uc544\ub798 4\uac1c\uc758 \ubaa8\ub4dc\uac00 \uc788\uc5b4\uc694.\\n\\n  - ReadWriteOnce (RWO)\\n  - ReadOnlyMany (ROX) : \ub85c\uadf8\ub97c \uc8fc\ub85c \uc77d\uc744 \ub54c \uc0ac\uc6a9\ud574\uc694.\\n  - ReadWriteMany (RWX) : \ubd84\uc0b0\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0\uc11c \uc8fc\ub85c \uc0ac\uc6a9\ud574\uc694.\\n  - ReadWriteOncePOD (RWOP)\\n\\n- \ucee8\ud14c\uc774\ub108\ub294 \ubcfc\ub968\uc744 \ub9c8\uc6b4\ud2b8\ub97c \ud558\uba74 POD \uc548\uc5d0\uc11c\ub294 \uacf5\uc720\uac00 \uac00\ub2a5\ud574\uc838\uc694. \ub178\ub4dc \uc785\uc7a5\uc5d0\uc11c \ubcf4\uba74 \ud574\ub2f9 \ub178\ub4dc\uc5d0 \uc18d\ud574\uc788\ub294 POD\uc5d0 \ub300\ud574\uc11c\ub294 \uac19\uc774 \uc77d\uace0 \uc4f8 \uc218 \uc788\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud574\uc694.\\n\\n- pv-w-pvc \uc640 pv-w-sc\uc758 \ucc28\uc774\uc810\uc744 \uc544\uc2dc\ub098\uc694?\\n\\n  - pv-w-pvc\ub294 AWS\uc758 Elastic Blokc Store \uc758 \ub514\uc2a4\ud06c \uc911 \ud558\ub098\ub97c \ubcfc\ub968\uc73c\ub85c \uc124\uc815\ud574\uc694. zone\uc5d0 \ud574\ub2f9\ud558\ub294 \ubcfc\ub968\uc744 \uc124\uc815\ud558\uace0 \ud574\ub2f9 \ubcfc\ub968\uc744 pv\ub85c \ud574\uc57c\uc9c0\ub9cc k8s\uac00 \ud574\ub2f9 \ubcfc\ub968\uc744 \uc778\uc2dd\uc744 \ud574\uc694.\\n    pvc\ub97c \uc124\uc7a5\ud558\uae30 \uc704\ud574\uc11c\ub294 storageClassName\uc744 \ube48\ubb38\uc790\uc5f4\ub85c \ub450\uba74 \ub3fc\uc694.\\n    - pvc\ub294 pod\uc640 \uc0c1\uad00\uc774 \uc5c6\uc5b4\uc694. pod\uac00 \uc0ad\uc81c\ub41c\ub2e4\uace0 \ud574\uc11c pvc\uac00 \uc0ad\uc81c\ub418\ub294 \uac83\uc740 \uc544\ub2c8\uc5d0\uc694.\\n\\n  ```yml\\n  spec:\\n  storageClassName: \\"\\"\\n  ```\\n\\n  - pv-w-sc\ub294 sc(aws\uc5d0\uc11c\ub294 gp2\ub77c\uace0 \ud574\uc694.)\ub97c \uc124\uc815\ub9cc \ud574\ub450\uba74 pv-w-pvc\uc758 \uacfc\uc815\uc744 \uc790\ub3d9\uc73c\ub85c \uc124\uc815\ud574\uc694. \uc774\ud6c4 \uacfc\uc815\uc740 pvc\uc640 \ub3d9\uc77c\ud558\uac8c \uc9c4\ud589\uc774 \ub418\uc694. \uc774\ub807\uac8c \uc9c4\ud589\uc744 \ub514\uc2a4\ud06c\ub97c \uc0ad\uc81c\ud558\uace0 \uc0dd\uc131\ud558\ub294 \ucc45\uc784\uc774 \uac1c\ubc1c\uc790\ub85c \uc5ed\ud560\uc774 \ub118\uc5b4\uac00\uba74\uc11c \uad00\ub9ac\uc790\uc758 \uad00\ub9ac \ubd80\ub2f4\uc774 \uc904\uc5b4\ub4e4\uc5b4\uc694.\\n    - gp2\ub97c default\ub97c \uc124\uc815\ud558\uae30 \uc704\ud574\uc11c\ub294 \uc544\ub798\uc640 \uac19\uc740 \uba85\ub839\uc5b4\ub97c \uc791\uc131\uc744 \ud574\uc918\uc694.\\n\\n  ```bash\\n    kubectl patch storageclass gp2 -p \'{\\"metadata\\": {\\"annotations\\":{\\"storageclass.kubernetes.io/is-default-class\\":\\"true\\"}}}\'\\n\\n  ```\\n\\n  - \ub530\ub77c\uc11c pvc\ub294 \uc815\uc801 \ud504\ub85c\ube44\uc800\ub2dd\uc774\ub77c\uace0 \ud558\uace0, sc\ub294 \ub3d9\uc801 \ud504\ub85c\ube44\uc800\ub2dd\uc774\ub77c\uace0 \ud574\uc694.\\n\\n## CICD\\n\\n- AWS\uc5d0\ub294 code deploy(CI), commit, code pipe line(CD) \uc774\ub807\uac8c 3\uac00\uc9c0\uc758 \uc11c\ube44\uc2a4\uac00 \uc788\uc5b4\uc694.\\n  - commit\uc740 \uace7 \uc5c6\uc5b4\uc9c8 \uc608\uc815\uc774\uc5d0\uc694.\\n  - code deploy\ub97c \uc0ac\uc6a9\ud558\ub824\uba74 \uc0b0\ucd9c\ub41c \uacb0\uacfc\ubb3c(\uc555\ucd95 \ud30c\uc77c)\uc744 S3\uc5d0 \uc800\uc7a5\uc744 \ud574\uc57c\ud574\uc694. - app.spec.yml \ud30c\uc77c\uc774 \uc788\uc5b4\uc57c \ud574\uc5ec.\\n\\n### CI: continuous Integration\\n\\nCI\uc758 \uc21c\uc11c\ub294 \uc544\ub798\uc640 \uac19\uc544\uc694.\\n\\n```\\n\ube4c\ub4dc -> \ud14c\uc2a4\ud2b8(\ud14c\uc2a4\ud2b8\uc758 \uc885\ub958\uc5d0\ub294 \uc720\ub2db \ud14c\uc2a4\ud2b8, e2e \ud14c\uc2a4\ud2b8, \ubd80\ud558 \ud14c\uc2a4\ud2b8\uac00 \uc788\uc5b4\uc694) -> \ucde8\uc57d\uc810 \uac80\uc0ac (\ucf54\ub4dc \uc815\uc801 \ubd84\uc11d) -> \ucf54\ub4dc \ub9ac\ubdf0 | \ucf54\ub4dc \ucee8\ubc34\uc158\\n```\\n\\n- \uc608\uc804\uc5d0\ub294 \ucd5c\uc885\uc0b0\ucd9c\ubb3c\uc774 Artifact\uc774 \ub098\uc654\uc5b4\uc694. Artifact\ub294 .jar \uc774\ub7f0\uac8c \uc788\uc5b4\uc694.\\n- \uc694\uc998\uc5d0\ub294 \ucd5c\uc885\uc0b0\ucd9c\ubb3c\uc774 container image\uac00 \ub098\uc640\uc694.\\n\\n### CD: continuous Delivery, Deployment\\n\\n- Delivery\ub294 \ub9c8\uc9c0\ub9c9 \ubc30\ud3ec\ub294 \uc0ac\ub9bc\uc774 \uc9c1\uc811 \uc9c4\ud589\uc744 \ud574\uc694. \ud558\uc9c0\ub9cc Deployment\ub294 \ubc30\ud3ec\ud558\ub294 \uc804\uacfc\uc815\uc774 \uc790\ub3d9\uc73c\ub85c \uc774\ub8e8\uc5b4\uc838\uc694.\\n\\n- \uc8fc\ub85c \uc0ac\uc6a9\ub418\ub294 CI,CD \ud234\uc740 github action, gitlab runner, Jenkins, CircleCI pipe, bitbucket pipeline \ub4f1\uc774 \ud65c\uc6a9\uc774 \ub3fc\uc694.\\n\\n  - github action : \ub9ce\uc774 \uc0ac\uc6a9\ub418\ub294 \uc774\uc720\ub294 \uc811\uadfc\ud558\uae30 \uc27d\uae30 \ub54c\ubb38\uc774\uc5d0\uc694. \ucf54\ub4dc\uac00 \uacf5\uac1c\uac00 \ub418\uc5b4\uc788\uc5b4 \ubcf4\uc548\uc0c1 \ubb38\uc81c\uac00 \uc788\uc744 \uac70 \uac19\uc9c0\ub9cc \ub9e4\uc77c fetch\uac00 \uc774\ub8e8\uc5b4\uc9c0\uae30 \ub54c\ubb38\uc5d0 \ubcf4\uc548\uc0c1 \uc548\uc804\ud574\uc694.\\n  - gitlab runner : \uc124\uce58\ud574\uc11c \uc0ac\uc6a9\uc744 \ud574\uc694. (\uacf5\uacf5\uae30\uad00 \uac19\uc740\ub370\uc5d0\uc11c \uc8fc\ub85c \uc0ac\uc6a9\ud574\uc694.)\\n  - Circle CI : \uc624\ud508\uc18c\uc2a4 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ub9ce\uc774 \uc0ac\uc6a9\ud574\uc694.\\n  - Jenkins: \uc2a4\ud06c\ub9bd\ud2b8\ud615\uc73c\ub85c \uc791\uc131\ub418\uae30 \ub54c\ubb38\uc5d0 \uba85\ub839\ud615\uc774\uc5d0\uc694.\\n\\n- CD\ub9cc \uc804\ubb38\uc801\uc73c\ub85c \ud558\ub294 \ub3c4\uad6c\ub4e4\uc774 \uc788\ub294\ub370 \ub098\uc628 \uc774\uc720\ub294 \ucee8\ud14c\uc774\ub108\uac00 \ub098\uc624\uba74\uc11c \ubc30\ud3ec \uc804\ub7b5\uc774 \ub2e4\uc591\ud558\uac8c \uc0dd\uacbc\uae30 \ub54c\ubb38\uc774\uc5d0\uc694.\\n\\n  - ArgoCD (\uc81c\uc77c \ube60\ub974\ub2e4\ub294 \uc810 \ub54c\ubb38\uc5d0 \uc81c\uc77c \ub9ce\uc774 \uc0ac\uc6a9\ud574\uc694.)\\n  - FluxCD\\n  - Spinnake (\ub300\uaddc\ubaa8 \uc2dc\uc2a4\ud15c\uc774 \uc801\ud569\ud574\uc694.)\\n  - JenkinsX\\n\\n---\\n\\n# \uc2e4\uc2b5\\n\\n### \ub79c\ub364\uc73c\ub85c \uba85\uc5b8\uc744 \ubcf4\uc5ec\uc8fc\ub294 \uac04\ub2e8\ud55c \uc11c\ube44\uc2a4(empty dir)\\n\\n\uc18d\ub3c4\uac00 \ub290\ub9ac\ub2e4\uace0 \ud55c\ub2e4\uba74 \uc774\uac83\uc744 \uc0ac\uc6a9\ud574\uc11c \ube60\ub974\uac8c \ucc98\ub9ac\ud560 \uc218 \uc788\uc5b4\uc694.\\nmedium: Memory\ub97c \uc124\uc815\uc744 \ud558\uba74 OS\uc758 \uba54\ubaa8\ub9ac \uae30\ubc18 \ud30c\uc77c\uc2dc\uc2a4\ud15c\uc744 \uc0ac\uc6a9\ud574\uc694. \ub530\ub77c\uc11c \ub514\uc2a4\ud06c\ubcf4\ub2e4 \ub354 \ube60\ub978 I/O \uc131\ub2a5\uc744 \uc81c\uacf5\ud574\uc694.\\n\\n```yml\\nvolumes:\\n  - name: cache-volume\\n    emptyDir:\\n      medium: Memory\\n      sizeLimit: 64Mi\\n```\\n\\n\ud574\ub2f9 \ud504\ub85c\uc81d\ud2b8\uc758 \uacbd\uc6b0 context\ub294 aws\ub85c \uc124\uc815\uc774 \ub418\uc5b4\uc788\uc5b4\uc694.\\n\\n\uc65c \ud574\ub2f9 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub294 emptyDir\uc774 \uc801\uc808\ud560\uae4c\uc694?\\n\\n- \uba85\uc5b8 \ub370\uc774\ud130\ub4e4\uc740 \ud718\ubc1c\uc131/\uc784\uc2dc \ucf58\ud150\uce20\uc774\ubbc0\ub85c, Pod\uac00 \uc7ac\uc2dc\uc791\ub418\uba74 \uc0c8\ub85c \uc0dd\uc131\ub418\uc5b4\ub3c4 \ubb34\ubc29\ud574\uc694.\\n- html-generator\uac00 \uc0dd\uc131\ud558\uace0, nginx\uac00 \uc77d\uc5b4\uc57c\ud558\ubbc0\ub85c \uacf5\uc720 \uc2a4\ud1a0\ub9ac\uc9c0\uac00 \ud544\uc694\ud574\uc694. \uadf8\ub7f0\ub370 \uc678\ubd80 \uc2a4\ud1a0\ub9ac\uc9c0 \uc5f0\ub3d9\uc774 \ubd88\ud544\uc694\ud558\uae30 \ub54c\ubb38\uc774\uae30\ub3c4 \ud574\uc694.\\n- \uc18d\ub3c4 \uc5ed\uc2dc \ube60\ub974\ub2e4\ub294 \uc7a5\uc810\uc774 \uc788\uc5b4\uc694.\\n\\n```yml (fortune-deploy.yml)\\napiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n  name: fortune-deployment\\n  labels:\\n    app: fortune\\nspec:\\n  replicas: 3\\n  selector:\\n    matchLabels:\\n      app: fortune\\n  template:\\n    metadata:\\n      labels:\\n        app: fortune\\n    spec:\\n      containers:\\n        - image: <\uc774\ubbf8\uc9c0\ub97c \uac00\uc838\uc640\uc57c\ud574\uc694.>\\n          name: html-generator\\n          volumeMounts:\\n            - name: html\\n              mountPath: /var/htdocs\\n        - image: nginx:alpine\\n          name: web-server\\n          volumeMounts:\\n            - name: html\\n              mountPath: /usr/share/nginx/html\\n              readOnly: true\\n          ports:\\n            - containerPort: 80\\n              protocol: TCP\\n      volumes:\\n        - name: html\\n          emptyDir: {}\\n```\\n\\n```yml\\n# fortune-lb.yml\\napiVersion: v1\\nkind: Service\\nmetadata:\\n  name: fortune-lb\\n  # annotations\uc744 \uc124\uc815 \ud574\uc8fc\uc9c0 \uc54a\uc73c\uba74 aws\uc5d0\uc11c\ub294 \uc678\ubd80\uc5d0 \uc811\uc18d\uc744 \ud5c8\uc6a9\ud558\uc9c0 \uc54a\uc544\uc694.\\n  annotations:\\n    # VPC \uc678\ubd80 \uc811\uc18d\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d \ud574\uc694.\\n    service.beta.kubernetes.io/aws-load-balancer-type: external\\n\\n    # \ub178\ub4dc\uac00 \uc544\ub2c8\ub77c POD IP\ub85c \uc9c1\uc811 \uc804\ub2ec\ud574\uc694.\\n    service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: ip\\n\\n    # \uacf5\uc778 IP\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4\uc694.\\n    service.beta.kubernetes.io/aws-load-balancer-scheme: internet-facing\\nspec:\\n  selector:\\n    app: fortune\\n  ports:\\n    - port: 80\\n      targetPort: 80\\n  type: LoadBalancer\\n```\\n\\n### Docker ARG vs Yaml ENV vs CONFIGMAP ENV \ube44\uad50 \uc2e4\uc2b5\\n\\nDocker ARG\uc758 \uacbd\uc6b0\uc5d0\ub294 args\ub97c \uc124\uc815\ud558\uc5ec \ub118\uaca8\uc904 \uc218 \uc788\uc5b4\uc694.\\n\\n```Dockerfile\\ncontainers:\\n  - image: hyeonlim/fortune:args\\n    args: [\\"5\\"]\\n    name: html-generator\\n```\\n\\nyml\uc744 \ud1b5\ud574\uc11c\ub3c4 args\ub97c \uc124\uc815\ud574\uc904 \uc218 \uc788\uc5b4\uc694. \uc124\uc815\uc740 yml \ud30c\uc77c\uc5d0 \uc544\ub798\uc640 \uac19\uc774 \uc124\uc815\uc744 \ud574\uc8fc\uba74 \ub3fc\uc694.\\n\\n```yml\\nenv:\\n# \ucee8\ud14c\uc774\ub108\uc758 \ub9e4\uac1c\ubcc0\uc218\uac00 \uc544\ub2c8\ub77c \ud658\uacbd\ubcc0\uc218\ub85c \ub4e4\uc5b4\uac00\uc694. \ub530\ub77c\uc11c \ud6a8\uc728\uc801\uc73c\ub85c \uc804\ub2ec\uc744 \ud560 \uc218 \uc788\uc5b4\uc694.\\n- name: INTERVAL\\n    value: \\"30\\"\\n```\\n\\nCONFIGMAP\uc744 \uc0dd\uc131\uc744 \ud574\uc904 \uc218 \uc788\uc5b4\uc694. \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \ud655\uc778\ub3c4 \uac00\ub2a5\ud574\uc694.\\n\\n```bash\\nkubectl create configmap fortune-config --from-literal=sleep-interval=7\\n\\nkubectl get cm fortune-config\\n```\\n\\n\uc544\ub798 \uc0ac\uc9c4\uc758 cli\ub97c \uc785\ub825\ud558\uac8c \ub418\uba74 \uc0ac\uc9c4\uacfc \uac19\uc774 \uac12\uc774 \ub4e4\uc5b4\uac00 \uc788\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694.\\n\\n<img src=\\"/img/blog/kubernetes/2025-07-16/img1.png\\" />\\n\\n- Kubernetes Pod\uc5d0\uc11c ConfigMap\uc758 \uac12\uc744 \ud658\uacbd \ubcc0\uc218\ub85c \uc8fc\uc785\ud560 \ub54c \uc0ac\uc6a9\ud558\uc9c0\ub9cc \ubaa9\uc801\uacfc \ubc94\uc704\uac00 \ub2ec\ub77c\uc694.\\n\\n<img src=\\"/img/blog/kubernetes/2025-07-16/img2.png\\" />\\n\\n    - \ud574\ub2f9 \uc0ac\uc9c4\uc5d0\uc11c\ub294 \ud2b9\uc815 Key\ub9cc \ud658\uacbd \ubcc0\uc218\ub85c \uc8fc\uc785\uc774 \ub418\uace0 \uac1c\ubcc4 \ud658\uacbd \ubcc0\uc218 \uc124\uc815\uc774 \ud544\uc694\ud560 \ub54c \uc8fc\ub85c \uc0ac\uc6a9\ud574\uc694.\\n\\n<img src=\\"/img/blog/kubernetes/2025-07-16/img3.png\\" />\\n\\n    - \ud574\ub2f9 \uc0ac\uc9c4\uc740 ConfigMap\uc758 \ubaa8\ub4e0 Key\ub97c \ud658\uacbd \ubcc0\uc218\ub85c \uc790\ub3d9 \uc8fc\uc785\ud574\uc694. \ubaa8\ub4e0 \uc124\uc815\uc744 \ud55c\uaebc\ubc88\uc5d0 \uc8fc\uc785\ud558\uace0 \uc2f6\uc744 \ub54c \uc0ac\uc6a9\ud574\uc694."},{"id":"/2025/07/15/kubernetes/kubernetes-basic-1-title","metadata":{"permalink":"/blog/2025/07/15/kubernetes/kubernetes-basic-1-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/kubernetes/2025-07-15-kubernetes-basic-1-title.mdx","source":"@site/blog/kubernetes/2025-07-15-kubernetes-basic-1-title.mdx","title":"kubernetes Basic (1)","description":"{/ truncate /}","date":"2025-07-15T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Kubernetes","permalink":"/blog/tags/kubernetes"}],"readingTime":5.12,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"kubernetes Basic (1)","authors":["hyeonlim"],"tags":["TIL","Kubernetes"]},"unlisted":false,"prevItem":{"title":"Kubernetes Basic(2)","permalink":"/blog/2025/07/16/kubernetes/kubernetes-basic-2-title"},"nextItem":{"title":"Docker Basic(1)","permalink":"/blog/2025/07/14/docker/docker-basic-1-title"}},"content":"{/* truncate */}\\n\\n## Deployment\\n\\n### 1. RECREATE (\uc7ac\uac00\ub3d9 \ubc29\uc2dd: v1 \u2192 v2)\\n\\n\ud2b9\uc9d5: \uc11c\ube44\uc2a4 \uc911\ub2e8 \ubc1c\uc0dd\\n\\n\uc7a5\uc810: \uc124\uc815\uc774 \uc26c\uc6c0\\n\\n\ube44\uace0: \ud604\uc5c5\uc5d0\uc11c \uac00\uc7a5 \ud754\ud788 \uc0ac\uc6a9\ub418\uba70, \uc11c\ube44\uc2a4 \uc911\ub2e8\uc744 \uac10\uc218\ud574\uc57c \ud558\ub294 \ubc29\uc2dd\\n\\n### 2. RAMPED (Rolling Update)\\n\\n\ud2b9\uc9d5: \uc21c\ucc28\uc801\uc73c\ub85c \uc5f0\uacb0 \uc2dc\ub3c4 \u2192 \ubb34\uc911\ub2e8 \uc11c\ube44\uc2a4 \uc81c\uacf5\\n\\n\uc124\uc815 \ubc29\ubc95:\\n\\n```yml\\ntype: RollingUpdate\\n\\nmaxSurge: \uc608) 1 \u2192 replicas + maxSurge \ub9cc\ud07c pod \uc0dd\uc131 \uac00\ub2a5\\n\\nmaxUnavailable: \uc608) 1 \u2192 replicas \uc911 \ub3d9\uc2dc\uc5d0 \uc911\ub2e8 \uac00\ub2a5\ud55c pod \uc218\\n\\n\u21d2 \uc704 2\uac1c\uc758 \uc635\uc158\uc744 \ud1b5\ud574\uc11c \uc7ac\uac00\ub3d9 \uc18d\ub3c4\ub97c \uc81c\uc5b4\ud560 \uc218 \uc788\uc74c\\n```\\n\\n\ucd94\uac00 \uc124\uc815:Sticky session: \ubc84\uc804 \uac04 \uc774\ub3d9 \ubc29\uc9c0\\n\\n### 3. Blue / Green \ubc30\ud3ec\\n\\n\ud2b9\uc9d5: selector\uc758 \ubc84\uc804 \ubcc0\uacbd\uc73c\ub85c \uc804\uccb4 \uad50\uccb4\\n\\n\uc0ac\uc6a9 \ubaa9\uc801:\uac1c\ubc1c \ubc84\uc804\uc744 \uc6b4\uc601\uc5d0 \ubc14\ub85c \ubc18\uc601\ud574\uc57c \ud558\ub294 \uc0c1\ud669\\n\\n### 4. Canary \ubc30\ud3ec\\n\\n\ud2b9\uc9d5: ramped\uc640 \uc720\uc0ac\ud558\uc9c0\ub9cc, \uc77c\ubd80 \ud2b8\ub798\ud53d\uc73c\ub85c \uba3c\uc800 \uc548\uc815\uc131 \uac80\uc99d \ud6c4 \uc804\uccb4 \uc774\uc804\\n\\n\uc124\uc815: replicas: 9(v1), 1(v2) \uc124\uc815, RouteRule\uc758 route \u2192 weight \uc124\uc815\uc73c\ub85c \uc190\uc27d\uac8c \uc124\uc815 \uac00\ub2a5\\n\\n### 5. A/B \ud14c\uc2a4\ud2b8\\n\\n\ud2b9\uc9d5 : header, cookie \uae30\ubc18\uc73c\ub85c \uc0ac\uc6a9\uc790 \uadf8\ub8f9 \ubd84\ub9ac\\n\\n\uc0ac\uc6a9 \ubaa9\uc801: UI\ub098 \uae30\ub2a5 \uac1c\uc120\uc758 \ud6a8\uacfc\ub97c \ud655\uc778\ud558\uace0\uc790 \ud560 \ub54c (\uc0c8\ub85c\uc6b4 UI\uac00 \uad6c\ub9e4\uc728\uc744 \ub192\uc774\ub294\uc9c0 \ud655\uc778)\\n\\n\uc124\uc815: match\uc5d0 header \uc870\uac74 \ucd94\uac00\\n\\n### 6. Shadow \ud2b8\ub798\ud53d (\ubbf8\ub7ec\ub9c1)\\n\\n\uc0ac\uc6a9 \ubaa9\uc801: \uae30\uc874 \uc131\ub2a5 \uac1c\uc120\uc744 \uc704\ud574 (\uc608\uc2dc : Monolith \u2192 Microservice \uad6c\uc870 \uc804\ud658 \uc2dc \uc720\uc6a9)\\n\\n\uc124\uc815: mirror \uc124\uc815\uc73c\ub85c \uc2e4\uc81c \uc694\uccad\uc744 \ubcf5\uc81c\ud558\uc5ec \ud14c\uc2a4\ud2b8 \ud658\uacbd\uc73c\ub85c \uc804\ub2ec\\n\\n---\\n\\n## Service\\n\\n\ucfe0\ubc84\ub124\ud2f0\uc2a4\uc758 \uc11c\ube44\uc2a4\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \ub124\ud2b8\uc6cc\ud06c\uc774\ub2e4. (\ubb3c\ub9ac\uc801\uc778 \uac83\uc774 \uc544\ub2c8\ub2e4.)\\n\\n(\ucfe0\ubc84\ub124\ud2f0\uc2a4\uc758 pod\uac00 \uc8fd\uace0 \ub2e4\ub978 \ub178\ub4dc\ub85c \uc774\ub3d9\ud558\uba74 IP\uac00 \ubcc0\ub3d9\uc774\ub418\ub294\ub370, \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc548\uc5d0\ub294 \uaddc\uce59 \uae30\ubc18\uc758 DNS \uc11c\ubc84\uc2a4\uac00 \uc788\ub2e4.)\\n\\n### cluster IP\\n\\n\ub514\ud3f4\ud2b8 \uc11c\ube44\uc2a4, layer4 => \ub0b4\ubd80\uc5d0\ub9cc \uc811\uc18d\uc774 \uac00\ub2a5\ud558\ub2e4.\\n\\n### Node Port\\n\\n\ud2b8\ub798\ud53d\uc774 \uc624\uba74 \ub178\ub4dc\uc758 \ud2b9\uc815 \ud3ec\ud2b8\uc5d0 \ub3c4\ucc29\ud558\uace0, \ud074\ub7ec\uc2a4\ud130 IP\ub85c \uac00\uace0 \uc774\ub97c \ubd84\uae30 \uc2dc\ud0a8\ub2e4.\\n\\n- \uac1c\ubc1c\uc790\ub4e4\uc774 \ud655\uc778\ud558\uae30 \uc704\ud574\uc11c \uc8fc\ub85c \uc0ac\uc6a9\ud558\uace0 \uc6ec\ub9cc\ud558\uba74 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294\ub2e4.\\n- \ub178\ub4dc\ub97c \ub9cc\ub4dc\ub294 \uc774\uc720\ub294?\\n  - \ud2b8\ub798\ud53d\uc774 \ubab0\ub9ac\ub294 \uac83\uc744 \ubc18\uc751\ud558\uae30 \uc704\ud568\uc774\ub2e4.\\n  - \uc5b4\ub5a4 \ub178\ub4dc\uc5d0 \uaddc\uce59\uc744 \uc801\uc6a9\ud574\uc11c \uc791\uc5c5\ud558\uae30 \uc704\ud568\uc774\ub2e4.\\n\\n### Load Balancer\\n\\n\ud2b8\ub798\ud53d\uc774 \ub4e4\uc5b4\uc624\uba74 \ub098\ub188. cluster ip\uc640 \ub2e4\ub978 \uc810\uc740 cluster ip\ub294 \ub0b4\ubd80\uc5d0 \uc788\uace0 \ub85c\ub4dc\ubc38\ub7f0\uc11c\ub294 \uc678\ubd80\uc5d0 \uc704\uce58\ud574\uc788\ub2e4.\\n\\n### Ingress\\n\\n\uc678\ubd80\uc5d0 \uc704\uce58\uc5d0 \uc788\uc74c. \ub85c\ub4dc \ubc38\ub7f0\uc11c\uc640\uc758 \ucc28\uc774\uc810\uc740 \ub85c\ub4dc \ubc38\ub7f0\uc11c\ub294 layer4\uc774\uace0 Ingress\ub294 layer7\uc774\ub2e4. (layer1~layer7\uae4c\uc9c0 \ud655\uc778\uc744 \ud574\ubcfc \uc218 \uc788\ub2e4.)\\n\\n\uc0ac\uc6a9\uc790\uac00 xxx.xxx.xxx.com\uc774 \uc811\uc18d\uc744 \ud558\uba74\\nigw\ub97c \ud1b5\ud574 ingress(\ud37c\ube14\ub9ad \ub3c4\uba54\uc778\uc774 \uc790\ub3d9 \ud65c\ub3d9, ALB, NLB)\uc5d0 \ub4e4\uc5b4\uc624\uace0 k8s \uc11c\ube44\uc2a4\uc5d0 \uc811\uc18d\uc774 \ub41c\ub2e4. \uccab \ubc88\uc9f8 \uaecd\ub370\uae30\ub294 replicaset \ub450 \ubc88\uc9f8 \uaecd\ub370\uae30\ub294 deployment\\ningress\ub9cc \uc0dd\uc131\ud558\ub294 \uac83\uc774 \uc544\ub2c8\ub77c \ub0b4\ubd80 \uc11c\ube44\uc2a4\ub97c \uc0dd\uc131\ud574\uc57c \ud1b5\uc2e0\uc774 \ub41c\ub2e4.\\n\\n\ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc548\uc5d0 LB controller\uac00 ingress\ub97c \uc0dd\uc131\ud558\uace0, \uc0c1\ud0dc\ub97c \uac10\uc2dc\ud55c\ub2e4. \uadf8\ub9ac\uace0 \uc0ad\uc81c\ub3c4 \ud574\uc900\ub2e4.\\n\\n- ingress\ub97c \uc0ad\uc81c\ud558\uace0 \ud14c\ub77c\ud3fc\uc744 \uc0ad\uc81c\ud558\ub294 \uac83\uc774 \ub354 \ube60\ub974\ub2e4. ingress\ub294 \uc678\ubd80 \uc11c\ube44\uc2a4\uc774\uae30 \ub54c\ubb38\uc774\ub2e4.\\n\\n\u2705 **\uc65c ELB IP\uac00 3\uac1c \ub098\uc624\ub294\uac00?**\\n\\n<img src=\\"/img/blog/kubernetes/2025-07-15/img1.png\\" alt=\\"\uc124\uba85\\" width=\\"600\\" />\\n\\nAWS\uc5d0\uc11c Network Load Balancer(NLB)\ub294 **\uc11c\ube0c\ub137\uc774 \uc874\uc7ac\ud558\ub294 \ubaa8\ub4e0 \uac00\uc6a9\uc601\uc5ed(AZ)** \uc5d0 **\uc790\ub3d9\uc73c\ub85c\\nIP\ub97c \ud560\ub2f9**\ud569\ub2c8\ub2e4. \uc774\ub294 \uace0\uac00\uc6a9\uc131(High Availability)\uc744 \ubcf4\uc7a5\ud558\uae30 \uc704\ud55c \uae30\ubcf8 \ub3d9\uc791\uc774\ub2e4.\\n\\n1. \uc11c\uc6b8 \ub9ac\uc804(`ap-northeast-2`)\uc5d0\uc11c VPC \uc0dd\uc131\\n\\n- \uc544\ub798\uc640 \uac19\uc774 **3\uac1c\uc758 \ud504\ub77c\uc774\ube57 \uc11c\ube0c\ub137 \uc0dd\uc131**:\\n\\n```hcl\\nvariable \\"private_subnet_cidrs\\" {\\n  type = map(string)\\n  default = {\\n    a = \\"10.1.4.0/24\\"  // ap-northeast-2a (8\uce35)\\n    b = \\"10.1.5.0/24\\"  // ap-northeast-2b (9\uce35)\\n    c = \\"10.1.6.0/24\\"  // ap-northeast-2c (10\uce35)\\n  }\\n}\\n```\\n\\n2. EKS \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131\\n\\n<img src=\\"/img/blog/kubernetes/2025-07-15/img2.png\\" alt=\\"\uc124\uba85\\" width=\\"600\\" />-\\n\\nEKS\ud074\ub7ec\uc2a4\ud130\ub97c \uc0dd\uc131\ud558\uba74 \ub178\ub4dc \uadf8\ub8f9\uc744 \uad6c\uc131 - \ub178\ub4dc\ub294 2\uac1c\uc5d0\ub9cc \ubc30\uce58\uac00 \ub41c\ub2e4.\\n\\n3. Ingress \uc0dd\uc131\\n\\n- Ingress \ub9ac\uc18c\uc11c\ub97c \uc0dd\uc131\uc744 \ud558\uba74 AWS\uc5d0\uc11c NLB \uc790\ub3d9 \uc0dd\uc131\\n- NLB\ub294 \uc5f0\uacb0\ub41c \uc11c\ube0c\ub137\uc5d0 \uc788\ub294 \ubaa8\ub4e0 AZ\uc5d0 IP\ub97c \ud560\ub2f9\\n\\n### Headless service\\n\\n\uc544\ub798\uc640 \uac19\uc774 \uc124\uc815\uc744 \ud558\uba74 headless service\uac00 \ub41c\ub2e4.\\n\\n```yml\\nclusterIP: None\\n```\\n\\nHeadless\ub97c \ud558\uba74 pod\ub85c \uac00\ub294\uac8c \uc544\ub2c8\ub77c pod\uc758 backend\uc758 IP\uc8fc\uc18c\ub97c \uc900\ub2e4.\\n\\n\uc5b4\ub514\uc5d0 \uc4f0\ub294\uc9c0? \uc65c \uc4f0\ub294\uc9c0?\\n\ubd84\uc0b0\ud615 \ub370\uc774\ud130 \uc800\uc7a5 \uc11c\ube44\uc2a4(DB, Messeage Queue, InMemory DB)\\n\\n1. \ud074\ub77c\uc774\uc5b8\ud2b8 \uc5f0\uacb0\\n2. \uba87 \uac1c\uac00 \uc0b4\uc544\uc788\ub294\uc9c0 \ud655\uc778\ud558\uae30 \uc704\ud574\uc11c\\n3. **\ud2b9\uc815 \ub178\ub4dc\uc758 \ub370\uc774\ud130\ub97c \ud655\uc778\ud574\uc57c\ud560 \ub54c -> \uc774\uac8c \ud575\uc2ec**\\n\\n\ubd84\uc0b0\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4 (Cassandra, Mongo, Redis)\uc5d0 \uc800\uc7a5\uc774 \ub420 \ub54c \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\uae30 \uc704\ud574\uc11c\ub294 Hash Algorithm\uc744 \uc4f4\ub2e4. \uc774 \ub54c \ub178\ub4dc\uc5d0 \uc800\uc7a5\uc744 \ud558\uae30 \uc704\ud574\uc11c\ub294 \ub178\ub4dc\uc758 \uc815\ubcf4\ub97c \uc54c\uc57c\uc544\ud558\ub294\ub370 \uc5b4\ub97c \ub54c \ub178\ub4dc\uc758 \uc815\ubcf4\ub97c \ubc18\ud658\ud558\uae30 \uc704\ud574\uc11c Headless\ub97c \uc774\uc6a9\ud55c\ub2e4.\\n\\n- Hash Algorithm\uc744 \uc0ac\uc6a9\ud560 \ub54c Node\uc758 \uac2f\uc218\uac00 \uc57d 10 \uc774\uc0c1\uc758 \uc18c\uc218\uc778 \uacbd\uc6b0\uc5d0 even\ud558\uac8c \uac12\uc774 \ubd84\uc0b0\uc774 \ub418\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4.\\n\\n### volume\\n\\ndocker image layer\uc5d0 hash \uac12\uc774 \uc788\ub294 \uc774\uc720\ub294 ?\\n\\n\uac00\uc0c1 \uba38\uc2e0\uc758 \ub514\uc2a4\ud06c\ub97c \uc4f0\uac8c \ub41c\ub2e4\uba74, \ud558\ub098\ub9cc \uc218\uc815\ud574\ub3c4 \uc804\uccb4\uac00 \ubcc0\uacbd\uc774 \ub41c\ub2e4. \uc774 \ub54c docker \uc758 layer\ub97c \uc0dd\uac01\uc744 \ud558\uba74 \uce90\uc2dc\ub97c \ud560 \uc218 \uc788\ub2e4\ub294 \uc810\uc774\ub2e4. \ub530\ub77c\uc11c \ubcc0\uacbd\uc774 \ub418\uba74 \ud574\uc2dc \uac12\uc774 \ubc14\ub01c\uc73c\ub85c \uc778\ud574\uc11c \ubcc0\uacbd \uc0ac\ud56d\uc744 \ud30c\uc545 \uac00\ub2a5\ud558\ub2e4.\\n\\n\ucee8\ud14c\uc774\ub108\uac00 \uc885\ub8cc\ub41c\ub2e4\uba74? \ub2e4 \uc0ac\ub77c\uc9d0.\\n-> \ucee8\ud14c\uc774\ub108\uac00 \uc885\ub8cc\ub418\uc5b4\ub3c4 \ub370\uc774\ud130\ub97c \uc720\uc9c0\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc740 \uc678\ubd80 \ub514\uc2a4\ud06c \ubcfc\ub968\uc744 \ub9c8\uc6b4\ud2b8 \ud558\ub294 \uac83\uc785\ub2c8\ub2e4.\\n\\n- EmptyDir: Pod\uac00 \uc885\ub8cc\ub418\uba74 \uc601\uad6c\uc801\uc73c\ub85c \uc0ad\uc81c\ub429\ub2c8\ub2e4. (\uc989 Pod\uc640 \ub3d9\uc77c\ud55c LifeCycle\uc744 \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4.) --\x3e \uadf8\ub7f0\ub370 \uc65c \uc4f8\uae4c\uc694? \ub300\uaddc\ubaa8 \uae30\ubc18 \uc815\ub82c \uc791\uc5c5, Pod \ub0b4\uc758 \ucee8\ud14c\uc774\ub108 \uac04 \ud30c\uc77c \uad50\ud658\uc744 \ud558\uae30 \uc704\ud568\uc774\uc5d0\uc694.\\n\\n- HostPath: pod\uac00 \uc885\ub8cc\ub418\uc5b4\ub3c4 \uc0c1\ud0dc\uac00 \uc720\uc9c0\uac00 \ub429\ub2c8\ub2e4. \ub2e4\ub9cc Pod\ub294 \ud56d\uc0c1 \ub2e4\ub978 \ub178\ub4dc\ub85c \uc774\ub3d9 \uac00\ub2a5\uc131\uc774 \uc874\uc7ac\ud558\uae30 \ub54c\ubb38\uc5d0 \uc5d0\ub7ec\uac00 \ub0a0 \uc218 \uc788\ub2e4\ub294 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n- persistent volume(PV)\\n  - block disk (\ub178\ud2b8\ubd81 c drive) : \ub3d9\uc2dc\uc5d0 \uc77d\uc744 \uc218\ub294 \uc788\uc9c0\ub9cc, \uc4f8 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. | \uc21c\uc11c\uac00 \uc81c\uc77c \ube60\ub985\ub2c8\ub2e4.\\n  - network file disk(systme) = NFS : \uc5ec\ub7ec \uc0ac\uc6a9\uc790\uac00 \uc811\uadfc\ud558\uc5ec \ub3d9\uc2dc\uc5d0 \uc4f8 \uc218 \uc788\uace0, \uc77d\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. | 2\uc21c\uc704\\n  - object dist (aws S3) : 3\uc21c\uc704 => \ub300\uaddc\ubaa8 \uc791\uc5c5\uc740 \uc5ec\uae30\uc11c \uc9c4\ud589\uc744 \ud569\ub2c8\ub2e4. \uc65c \uadf8\ub7f4\uae4c\uc694? Append only, \ud30c\uc77c\uc744 \uc5f4\uc5b4\uc11c \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. => \uc65c \uadf8\ub7f4\uae4c\uc694? \ubd84\uc0b0 \uc791\uc5c5\uc5d0 \uc720\ub9ac\ud558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. (\uc5f0\uc0b0 \uc911\uc5d0 \ubcc0\uacbd\uc744 \ud558\uba74 \ucc98\uc74c\ubd80\ud130 \ub2e4\uc2dc \ud574\uc57c\ud558\ub294\ub370, \uc774\ub7f0 \uc791\uc5c5\uc744 \uc560\ucd08\uc5d0 \ub2eb\uc544\ubc84\ub9bd\ub2c8\ub2e4.)\\n\\n---\\n\\n## \uc2e4\uc2b5\\n\\n### 1. HTTPD \ubc30\ud3ec \u2192 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \u2192 \ub864\ubc31 \u2192 \uc0ad\uc81c\\n\\n\uc544\ub798 \ud30c\uc77c \ud1b5\ud574\uc11c httpd\ub97c \uc124\uce58\ud55c\ub2e4.\\n\\n```yml\\napiVersion: apps/v1\\nkind: Deployment\\nmetadata:\\n  name: httpd-deployment\\n  labels:\\n    app: httpd\\nspec:\\n  replicas: 3\\n  selector:\\n    matchLabels:\\n      app: httpd\\n  template:\\n    metadata:\\n      labels:\\n        app: httpd\\n    spec:\\n      containers:\\n        - name: httpd\\n          image: httpd:2.4\\n          ports:\\n            - containerPort: 80\\n```\\n\\n**1. Deployment**\\n\\n```bash\\nkubectl apply -f ./deploy-practice.yml\\n```\\n\\n- httpd-deployment \ub77c\ub294 \uc774\ub984\uc758 deployment\uac00 \uc0dd\uc131\uc774 \ub41c\ub2e4.\\n- POD\ub294 \uae30\ubcf8 \uc124\uc815\uc5d0 \ub530\ub77c\uc11c \uc801\uc6a9\uc774 \ub41c\ub2e4.\\n\\n**2. \ubcc0\uacbd \uc0ac\uc720(Revision 1) \uc8fc\uc11d(Annotation) \ucd94\uac00**\\n\\n```bash\\nkubectl annotate deploy httpd-deployment kubernetes.io/change-cause=\\"first\\"\\n```\\n\\n- \uae30\ub85d\uc5d0 \\"first\\"\ub77c\ub294 \uc124\uba85\uc744 \ucd94\uac00\ud55c\ub2e4.\\n- rollout history \uc5d0 Revision 1\ub85c \uae30\ub85d\uc774 \ub41c\ub2e4.\\n\\n**3. \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \ubc0f \ubcc0\uacbd \uc0ac\uc720 \ub4f1\ub85d (Revision 2)**\\n\\n```bash\\nkubectl set image deploy httpd-deployment httpd=httpd:latest\\n\\nkubectl annotate deploy httpd-deployment kubernetes.io/change-cause=\\"update latest\\"\\n\\n```\\n\\n- httpd \ucee8\ud130\uc774\ub108\uc758 \uc774\ubbf8\uc9c0\uac00 httpd:latest\ub85c \uc5c5\ub370\uc774\ud2b8\uac00 \ub41c\ub2e4.\\n- update latest \ub85c \uc8fc\uc11d \ucd94\uac00\uac00 \ub41c\ub2e4.\\n\\n**4. \ub864\uc544\uc6c3 \uc0c1\ud0dc \ud655\uc778 \ubc0f \ud30c\ub4dc \ud655\uc778**\\n\\n```bash\\nkubectl rollout status deploy httpd-deployment\\n\\nkubectl get pods -l app=httpd\\n```\\n\\n- \ud30c\ub4dc\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ubc30\ud3ec\uac00 \ub41c\ub2e4.\\n\\n**5. Scale out**\\n\\n```bash\\nkubectl scale deploy httpd-deployment --replicas=5\\n```\\n\\n- \ub808\ud50c\ub9ac\uce74 \uc218\uac00 5\uac1c\ub85c \uc99d\uac00\uac00 \ub41c\ub2e4. \uae30\uc874\uc5d0\uc11c 2\uac1c \ucd94\uac00\uac00 \ub41c\ub2e4.\\n\\n**6. Rollback**\\n\\n```bash\\nkubectl rollout undo deploy httpd-deployment\\n\\nkubectl annotate deploy httpd-deployment kubernetes.io/change-cause=\\"rollback\\"\\n```\\n\\n- \uc774\uc804 \ube44\uc804\uc73c\ub85c \ub864\ubc31\uc774 \uc9c4\ud589\uc774 \ub41c\ub2e4.\\n- \ub864\ubc31 \uc0ac\uc720\ub294 rollback\uc73c\ub85c \uae30\ub85d"},{"id":"/2025/07/14/docker/docker-basic-1-title","metadata":{"permalink":"/blog/2025/07/14/docker/docker-basic-1-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/docker/2025-07-14-docker-basic-1-title.mdx","source":"@site/blog/docker/2025-07-14-docker-basic-1-title.mdx","title":"Docker Basic(1)","description":"{/ truncate /}","date":"2025-07-14T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Docker","permalink":"/blog/tags/docker"}],"readingTime":1.79,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Docker Basic(1)","authors":["hyeonlim"],"tags":["TIL","Docker"]},"unlisted":false,"prevItem":{"title":"kubernetes Basic (1)","permalink":"/blog/2025/07/15/kubernetes/kubernetes-basic-1-title"},"nextItem":{"title":"Docker Basic(2)","permalink":"/blog/2025/07/10/docker/docker-basic-2-title"}},"content":"{/* truncate */}\\n\\ncloudwave 6\uae30 \uc218\uc5c5\uc5d0\uc11c \ub4e4\uc740 \ub0b4\uc6a9\uc744 \uc815\ub9ac\ud55c \uae00\uc785\ub2c8\ub2e4.\\n\\n> [Docker DOCS](https://docs.docker.com/manuals/)\\n\\n### Docker\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\\n\\n\ub3c4\ucee4\ub97c \ud65c\uc6a9\ud558\ub294 \uc774\uc720\ub294 \ud06c\uac8c \ubcf4\uba74 \uc11c\ube44\uc2a4\uc758 \ucd94\uc0c1\ud654\uc785\ub2c8\ub2e4. HOST \ud658\uacbd\uacfc \uc11c\ube44\uc2a4\ub97c \uaca9\ub9ac \uc2dc\ud0b4\uc73c\ub85c\uc11c\\n\\n1. \uc11c\ube44\uc2a4\ub97c \ud3b8\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n2. \uaca9\uc790\uc758 \uc5ed\ud560\ub85c \uc774\ub4e4\uc744 \uc870\ub9bd\ud558\uc5ec \uc0c8\ub85c\uc6b4 \uacb0\uacfc\ubb3c\uc744 \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n\uc774\uc640 \uac19\uc740 \uc774\uc810\uc774 \uc788\uc5b4 \ub3c4\ucee4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n\\n### Dockerfile\\n\\n```Dockerfile\\n# BASE_IMAGE\uc5d0 @\ub97c \ud65c\uc6a9\ud55c tag\ub97c \uc9c0\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 latest\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n# FROM\uc740 \uae30\ubcf8\uc801\uc73c\ub85c \ud55c \ubc88\ub9cc \uc0ac\uc6a9\uc774 \ub418\ub294\ub370 2\ubc88 \uc774\uc0c1 \uc0ac\uc6a9\uc5d0 \ub300\ud574\uc11c\ub294 \uc544\ub798\uc5d0\uc11c \uc124\uba85\uc744 \ud558\uaca0\uc2b5\ub2c8\ub2e4.\\nFROM BASE_IMAGE\\n\\n# \ucee8\ud14c\uc774\ub108 \ub0b4\uc758 working directory\ub97c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\\nWORKDIR <\uacbd\ub85c>\\n\\n# \ud3ec\ud2b8\ub97c \uc678\ubd80\ub85c \ub178\ucd9c\uc744 \ud569\ub2c8\ub2e4.\\nEXPOSE <\ud3ec\ud2b8\ubc88\ud638>\\n\\n# ADD\uc758 \uacbd\uc6b0\uc5d0\ub294 github\uacfc \uac19\uc740 RemotePath\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.\\n# \ub123\uace0\uc790 \ud558\ub294 \ud30c\uc77c: \uc0c1\ub300 \uacbd\ub85c\\n# \ucee8\ud14c\uc774\ub108 \ub0b4 \uacbd\ub85c : \uc808\ub300 \uacbd\ub85c \uc0ac\uc6a9\\nADD <\ub123\uace0\uc790\ud558\ub294 \ud30c\uc77c\uc758 \uacbd\ub85c> <\ucee8\ud14c\uc774\ub108 \ub0b4 \uacbd\ub85c>\\nCOPY <\ub123\uace0\uc790\ud558\ub294 \ud30c\uc77c\uc758 \uacbd\ub85c> <\ucee8\ud14c\uc774\ub108 \ub0b4 \uacbd\ub85c>\\n\\n# \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc\ud558\ub294 \uacfc\uc815\uc5d0 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\\nRUN <\uba85\ub839\uc5b4>\\n\\n# CMD \uac19\uc740 \uacbd\uc6b0\uc5d0\ub294 docker run\uc2dc \ubcc0\uacbd\uc774 \uac00\ub2a5\ud558\uc9c0\ub9cc ENTRYPOINT\ub294 \ubcc0\uacbd\uc774 \ubd88\uac00\ub2a5\ud558\ub2e4.\\nCMD <\uba85\ub839\uc5b4 \uc815\uc758>\\nENTRYPOINT <\ud544\uc218 \uc2e4\ud589 \uba85\ub839\uc5b4>\\n```\\n\\n- \uc774\ubbf8\uc9c0\uc5d0\uc11c\ub294 tag\uc640 digest\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. tag\uc758 \uacbd\uc6b0\uc5d0\ub294 \uc2dc\uc810\uc5d0 \ub530\ub77c\uc11c \uc774\ubbf8\uc9c0\uac00 \uc0c1\uc774\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc digest\ub294 \uc644\uc804\ud788 \uace0\uc815\uc774 \ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4.\\n\\n- \ud1b5\uc6a9\ub418\uc9c4 \uc54a\uc9c0\ub9cc **ARG\uc640 \uac19\uc740 \uba85\ub839\uc5b4\ub97c \uc81c\uc678**\ud55c\ub2e4\uba74 \ud55c\uc904\uc758 \ub3c4\ucee4 \ud30c\uc77c \uba85\ub839\uc5b4 \ud55c \uc904\ub9c8\ub2e4 \ub808\uc774\uc5b4\uac00 \ub418\uba70, \ub808\uc774\uc5b4\ub4dc\ub974\uc778 \uae30\ubcf8\uc801\uc73c\ub85c Read Only \uc0c1\ud0dc\ub97c \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4.\\n\\n  > ARG \uac12\uc744 Application \ub0b4\ubd80\uc5d0\uc11c \uc0ac\uc6a9\uc744 \ud558\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \uad73\uc774 Layer\ub85c \ub9cc\ub4e4 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\\n- \ub808\uc774\uc5b4\uc758 \ucd5c\uc0c1\ub2e8\uc5d0\ub294 **container layer**\uac00 \uc874\uc7ac\ud558\ub294\ub370 \ud574\ub2f9 \ub808\uc774\uc5b4\ub294 Read Write \uc0c1\ud0dc\ub97c \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4. \ucee8\ud14c\uc774\ub108\uac00 \uc0ad\uc81c\uac00 \ub41c\ub2e4\uba74 container layer \uc5ed\uc2dc \uc0ad\uc81c\uac00 \ub429\ub2c8\ub2e4.\\n\\n### Dockerfile \uc774\ubbf8\uc9c0 \uc0dd\uc131\\n\\n> docker build \uc2dc\uc5d0 -f \ub85c Dockerfile\uc744 \uc9c0\uc815\ud574\uc8fc\uc9c0 \uc54a\uc73c\uba74 \uae30\ubcf8\uc801\uc73c\ub860 Dockerfile\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n\\nDockerfile\uc758 \ubaa9\uc801\uc740 \uc774\ubbf8\uc9c0\ub97c \ub9cc\ub4dc\ub294 \uac83\uc785\ub2c8\ub2e4.\\n\\n### Multi Stage\\n\\n\uc544\ub798 \uc608\uc2dc\ub294 golang\uc744 image\ub97c \ud65c\uc6a9\ud558\uc5ec Go application\uc744 \ucef4\ud30c\uc77c\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \uc704\uc758 \uacb0\uacfc\ubb3c\uc744 Scratch \uc774\ubbf8\uc9c0\ub85c \uac00\uc838\uc640 Scratch\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4.\\n\\n```Dockerfile\\nFROM golang:1.19-alpine as build\\nWORKDIR /app\\nCOPY src ./\\nRUN CGO_ENABLED=0 go build -o main\\n\\nFROM scratch as release\\nCOPY --from=build /app/main /app/\\nWORKDIR /app\\nCMD [\\"/app/main\\"]\\n```\\n\\n\uccab \ubc88\uc9f8\ub85c \uc0ac\uc6a9\ub41c FROM\uc740 \uc784\uc2dc\ub85c \uc4f0\uc774\uace0 \ubc84\ub824\uc9d1\ub2c8\ub2e4. --from\uc744 \ud65c\uc6a9\ud574\uc11c \uccab \ubc88\uc9f8 FROM\uc758 \uacb0\uacfc\ubb3c\uc744 \ub123\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub807\uac8c \uc2e4\ud589\uc744 \ud558\uac8c\ub418\uba74 alpine\ubcf4\ub2e4 scratch \uc774\ubbf8\uc9c0\uc758 \ud06c\uae30\uac00 \uc791\ub2e4\ub294 \uc774\uc810\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4.\\n\\nProduction \ud658\uacbd\uc5d0\uc11c\ub294 \ubcf4\uc548\uc131 \uc99d\ub300 \ubc0f \uc774\ubbf8\uc9c0 \uacbd\ub7c9\ud654\ub97c \uc704\ud574 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc774 \uc788\uc2b5\ub2c8\ub2e4."},{"id":"/2025/07/10/docker/docker-basic-2-title","metadata":{"permalink":"/blog/2025/07/10/docker/docker-basic-2-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/docker/2025-07-10-docker-basic-2-title.mdx","source":"@site/blog/docker/2025-07-10-docker-basic-2-title.mdx","title":"Docker Basic(2)","description":"{/ truncate /}","date":"2025-07-10T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Docker","permalink":"/blog/tags/docker"}],"readingTime":0.82,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Docker Basic(2)","authors":["hyeonlim"],"tags":["TIL","Docker"]},"unlisted":false,"prevItem":{"title":"Docker Basic(1)","permalink":"/blog/2025/07/14/docker/docker-basic-1-title"}},"content":"{/* truncate */}\\n\\ncloudwave 6\uae30 \uc218\uc5c5\uc5d0\uc11c \ub4e4\uc740 \ub0b4\uc6a9\uc744 \uc815\ub9ac\ud55c \uae00\uc785\ub2c8\ub2e4.\\n\\n### Docker Network\\n\\n\ub124\ud2b8\uc6cc\ud06c\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\ub294 Data \uc1a1\uc218\uc2e0 \ubc0f \uc811\uadfc \uc81c\uc5b4\ub97c \ud558\uae30 \uc704\ud568\uc785\ub2c8\ub2e4.\\n\\n```\\ndocker network create [OPTIONS] NETWORK\\n```\\n\\n\uc8fc\uc694 \uc635\uc158\uc5d0\ub294 --driver(-d), --label\uc774 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n--driver\uc758 \uc885\ub958\\n\\n- bridge : \ub3d9\uc77c\ud55c host \ucef4\ud4e8\ud130 \ub0b4\uc5d0\uc11c \ucee8\ud14c\uc774\ub108\ub07c\ub9ac \ud1b5\uc2e0\ud558\uae30 \uc704\ud574\uc11c \uc0ac\uc6a9\uc744 \ud569\ub2c8\ub2e4\\n- host : \ucee8\ud14c\uc774\ub108\uac00 host\uc640 \ub3d9\uc77c\ud55c \ub124\ud2b8\uc6cc\ud06c\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. (\uc778\uc2a4\ud134\uc2a4 \ubcc4\ub85c \ud55c\uac1c\ub9cc \uc0dd\uc131)\\n- none\\n\\n```bash\\ndocker network connect [OPTIONS] NETWORK CONTAINER\\n```\\n\\n\uc8fc\uc694 \uc635\uc158\uc5d0\ub294 --alias, --ip\uac00 \uc788\uc2b5\ub2c8\ub2e4.\\n--alias\ub294 \ub124\ud2b8\uc6cc\ud06c alias\ub97c \ucd94\uac00\ud558\ub294 \uac83\uc73c\ub85c \uc77c\uc885\uc758 \ucd94\uc0c1\ud654\uc785\ub2c8\ub2e4.\\n\\n\ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \uc81c\uac70\ud558\uae30 \uc704\ud574\uc11c\ub294 `disconnect`\ub97c \uc4f0\uace0, \uc0ad\uc81c\ub97c \ud558\uae30 \uc704\ud574\uc11c\ub294 `rm`\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \ubaa8\ub4e0 \ub124\ud2b8\uc6cc\ud06c\ub97c \uc0ad\uc81c\ud558\uae30 \uc704\ud574\uc11c\ub294 `prune`\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n\\n### buildx\\n\\n\ub3d9\uc77c\ud55c \uae30\ub2a5\uc5d0 \ub2e4\ub978 \uc544\ud0a4\ud14d\ucc98\ub97c \ube4c\ub4dc\ud558\uae30 \uc704\ud574\uc11c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n\\n**Multi-platform\uc6a9 builder \uc0dd\uc131**\\n\\n\ud50c\ub7ab\ud3fc \uc635\uc158\uc744 \ud1b5\ud574\uc11c \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc\ud560 \uc218 \uc788\ub294 \ube4c\ub354\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```bash\\ndocker buildx create --driver docker-container --name multi-builder --platform linux/amd64,linux/arm64\\n```\\n\\n**\uc774\ubbf8\uc9c0 \ube4c\ub4dc\ud558\uae30**\\n\\n\ud50c\ub7ab\ud3fc \uc635\uc158\uc744 \ud65c\uc6a9\ud558\uc5ec \uac01 \uc544\ud0a4\ud14d\ucc98\uc5d0 \ub9de\ub294 \uc774\ubbf8\uc9c0\ub97c \uc81c\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```bash\\ndocker buildx build --platform linux/amd64,linux/arm64 -t <\uc774\ub984\ud0dc\uadf8 \uc124\uc815> .\\n```"}]}}')}}]);