"use strict";(self.webpackChunktil=self.webpackChunktil||[]).push([[657],{2417:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>t});var s=r(8720),l=r(4848),a=r(8453);const i={title:"Grafana + Prometheus + MySQL Exporter\ub97c \ud65c\uc6a9\ud55c MySQL \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815\uae30",authors:["hyeonlim"],tags:["TIL","Docker"]},o=void 0,d={authorsImageUrls:[void 0]},t=[{value:"\ud83c\udfd7\ufe0f \uc804\uccb4 \uc544\ud0a4\ud14d\ucc98",id:"\ufe0f-\uc804\uccb4-\uc544\ud0a4\ud14d\ucc98",level:2},{value:"\ud83d\udcc1 \ud504\ub85c\uc81d\ud2b8 \uad6c\uc870",id:"-\ud504\ub85c\uc81d\ud2b8-\uad6c\uc870",level:2},{value:"\ud83d\udc33 Docker Compose \uc124\uc815",id:"-docker-compose-\uc124\uc815",level:2},{value:"\ud83d\udd27 \uc8fc\uc694 \uc124\uc815 \ud30c\uc77c\ub4e4",id:"-\uc8fc\uc694-\uc124\uc815-\ud30c\uc77c\ub4e4",level:2},{value:"1. mysqld_exporter \uc124\uc815 (my.cnf)",id:"1-mysqld_exporter-\uc124\uc815-mycnf",level:3},{value:"2. Prometheus \uc124\uc815 (prometheus.yml)",id:"2-prometheus-\uc124\uc815-prometheusyml",level:3},{value:"3. Grafana \ub370\uc774\ud130\uc18c\uc2a4 \uc790\ub3d9 \uc124\uc815 (datasource.yml)",id:"3-grafana-\ub370\uc774\ud130\uc18c\uc2a4-\uc790\ub3d9-\uc124\uc815-datasourceyml",level:3},{value:"\ud83d\udea8 \uc8fc\uc694 \ubb38\uc81c\ub4e4\uacfc \ud574\uacb0\ucc45",id:"-\uc8fc\uc694-\ubb38\uc81c\ub4e4\uacfc-\ud574\uacb0\ucc45",level:2},{value:"1. mysqld_exporter <code>access denied</code> \ubb38\uc81c \ud574\uacb0",id:"1-mysqld_exporter-access-denied-\ubb38\uc81c-\ud574\uacb0",level:3},{value:"2. Grafana\uc5d0\uc11c Prometheus \uc5f0\uacb0 \uc2e4\ud328",id:"2-grafana\uc5d0\uc11c-prometheus-\uc5f0\uacb0-\uc2e4\ud328",level:3},{value:"3. Grafana \uc124\uc815 \uc790\ub3d9\ud654",id:"3-grafana-\uc124\uc815-\uc790\ub3d9\ud654",level:3},{value:"4. phpMyAdmin \ucd94\uac00\ub85c \uad00\ub9ac \ud3b8\uc758\uc131 \ud5a5\uc0c1",id:"4-phpmyadmin-\ucd94\uac00\ub85c-\uad00\ub9ac-\ud3b8\uc758\uc131-\ud5a5\uc0c1",level:3},{value:"5. Grafana MySQL Overview Dashboard \ub370\uc774\ud130 \ud45c\uc2dc \ubb38\uc81c",id:"5-grafana-mysql-overview-dashboard-\ub370\uc774\ud130-\ud45c\uc2dc-\ubb38\uc81c",level:3},{value:"\ud83d\udcca \ucd5c\uc885 \uad6c\uc131 \uacb0\uacfc",id:"-\ucd5c\uc885-\uad6c\uc131-\uacb0\uacfc",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:["\n",(0,l.jsx)(n.p,{children:"\ucd5c\uadfc\uc5d0 \uc778\ud504\ub77c \uad00\ub828\ub41c \uc218\uc5c5\uc744 \uc9c4\ud589\ud558\uba74\uc11c \ub0b4 \uc2a4\uc2a4\ub85c \ud560 \uc218 \uc788\ub294 \ud504\ub85c\uc81d\ud2b8\uac00 \ubb54\uc9c0, \uc5b4\ub5bb\uac8c \ud558\uba74 \uc624\ud508\uc18c\uc2a4\ub4e4\uc744 \uc798 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc744\uc9c0 \uace0\ubbfc\uc744 \ud574\ubcf4\uc558\uc2b5\ub2c8\ub2e4. \uadf8 \uacb0\uacfc DB\ub97c \ub9cc\ub4e4\uace0 DB\uc5d0 \ub370\uc774\ud130\uac00 \ub9ce\uc774 \ubab0\ub9ac\uac8c \ub418\uc5c8\uc744 \ub54c \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \ud750\ub984\uc744 \ub9cc\ub4e4\uba74 \uc88b\uaca0\ub2e4 \uc0dd\uac01\uc744 \ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.p,{children:"\ub530\ub77c\uc11c MySQL\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\uae30 \uc704\ud574 Prometheus\uc640 Grafana\ub97c \uc5f0\ub3d9\ud574 \ub300\uc2dc\ubcf4\ub4dc\ub97c \uad6c\uc131\ud558\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\ud588\uc2b5\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 \uadf8 \uc804\uccb4 \uacfc\uc815\uc744 \uc815\ub9ac\ud574\ubd24\uc5b4\uc694."}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-\uc804\uccb4-\uc544\ud0a4\ud14d\ucc98",children:"\ud83c\udfd7\ufe0f \uc804\uccb4 \uc544\ud0a4\ud14d\ucc98"}),"\n",(0,l.jsx)(n.p,{children:"\ucd94\ud6c4\uc5d0 \uc880 \ub354 \ubcf5\uc7a1\ud55c \uc544\ud0a4\ud14d\ucc98\ub3c4 \ub9cc\uc838\ubcf4\uba74\uc11c \uacc4\uc18d\ud574\uc11c \ud655\uc7a5\ud574\ub098\uac00\ubcf4\uba74 \uc88b\uc744\uac70 \uac19\uc740 \uc0dd\uac01\uc774\ub4ed\ub2c8\ub2e4!"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"MySQL \u2190 mysqld_exporter \u2192 Prometheus \u2192 Grafana\n  \u2191\nphpMyAdmin (\uad00\ub9ac\uc6a9)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"-\ud504\ub85c\uc81d\ud2b8-\uad6c\uc870",children:"\ud83d\udcc1 \ud504\ub85c\uc81d\ud2b8 \uad6c\uc870"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"grafana/\n\u251c\u2500\u2500 provisioning/\n\u2502   \u251c\u2500\u2500 dashboards/\n\u2502   \u2502   \u2514\u2500\u2500 dashboard.yml\n\u2502   \u2514\u2500\u2500 datasources/\n\u2502       \u2514\u2500\u2500 datasource.yml\n\u251c\u2500\u2500 mysql/\n\u2502   \u2514\u2500\u2500 mysql_data/\n\u251c\u2500\u2500 mysqld-exporter/\n\u2502   \u2514\u2500\u2500 my.cnf\n\u251c\u2500\u2500 prometheus/\n\u2502   \u2514\u2500\u2500 prometheus.yml\n\u251c\u2500\u2500 .env\n\u2514\u2500\u2500 docker-compose.yml\n"})}),"\n",(0,l.jsx)(n.h2,{id:"-docker-compose-\uc124\uc815",children:"\ud83d\udc33 Docker Compose \uc124\uc815"}),"\n",(0,l.jsx)(n.p,{children:"\uc804\uccb4 \uc2a4\ud0dd\uc744 \ud55c \ubc88\uc5d0 \uad00\ub9ac\ud558\uae30 \uc704\ud574 \ub2e4\uc74c\uacfc \uac19\uc774 docker-compose.yml\uc744 \uad6c\uc131\ud588\uc5b4\uc694."}),"\n",(0,l.jsxs)(n.p,{children:["\ubcfc\ub968 \uc124\uc815\uc2dc \ud30c\uc77c \uc704\uce58 \uc2e4\uc218\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574\uc11c \ud558\ub098\uc758 \ud30c\uc77c \ub0b4\uc5d0\uc11c \uad00\ub828\ub41c \ud30c\uc77c\ub4e4\uc744 \ubaa8\ub450 \uad00\ub9ac\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4.(\uc774\ub807\uac8c \ud558\ub2c8\uae50 \ud655\uc2e4\ud788 \uc0c1\ub300\uacbd\ub85c\ub85c \uad00\ub9ac\ud558\uae30 \uc27d\ub2e4\ub294 \uc810\uc774 \uc88b\uc558\uc2b5\ub2c8\ub2e4.) \uadf8\ub9ac\uace0 $","\ub85c \ud45c\uc2dc\ud55c \ub0b4\uc6a9\uc5d0 \ub300\ud574\uc11c\ub294 \uc911\uc694\ud30c\uc77c\uc774\uae30 \ub54c\ubb38\uc5d0 .env\ub85c \ud30c\uc77c\uc744 \uc124\uc815\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4. .env \ud30c\uc77c\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc740 \uc544\ub798\uc5d0 \ubcf4\uba74 \ud655\uc778\ud560 \uc218 \uc788\uc5b4\uc694."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'version: "3.8"\n\nservices:\n  mysql:\n    image: mysql:8.0\n    container_name: mysql\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}\n      MYSQL_DATABASE: ${MYSQL_DATABASE}\n    volumes:\n      - ./mysql/mysql_data:/var/lib/mysql\n    ports:\n      - "3306:3306"\n\n  phpmyadmin:\n    image: phpmyadmin/phpmyadmin\n    container_name: phpmyadmin\n    platform: linux/amd64\n    ports:\n      - "8080:80"\n    environment:\n      PMA_HOST: mysql\n      PMA_PORT: 3306\n    depends_on:\n      - mysql\n\n  mysqld-exporter:\n    image: prom/mysqld-exporter\n    container_name: mysqld_exporter\n    volumes:\n      - ./mysqld-exporter/my.cnf:/etc/mysql/my.cnf:ro\n    depends_on:\n      - mysql\n    ports:\n      - "9104:9104"\n    command: ["--config.my-cnf=/etc/mysql/my.cnf"]\n\n  prometheus:\n    image: prom/prometheus\n    container_name: prometheus\n    volumes:\n      - ./prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n    ports:\n      - "9090:9090"\n    depends_on:\n      - mysqld-exporter\n\n  grafana:\n    image: grafana/grafana\n    container_name: grafana\n    environment:\n      GF_SECURITY_ADMIN_USER: ${GF_SECURITY_ADMIN_USER}\n      GF_SECURITY_ADMIN_PASSWORD: ${GF_SECURITY_ADMIN_PASSWORD}\n    volumes:\n      - ./grafana/provisioning/dashboards:/etc/grafana/provisioning/dashboards\n      - ./grafana/provisioning/datasources:/etc/grafana/provisioning/datasources\n    ports:\n      - "3000:3000"\n    depends_on:\n      - prometheus\n\nvolumes:\n  mysql_data:\n'})}),"\n",(0,l.jsx)(n.p,{children:".env \uc124\uc815 \ud30c\uc77c\uc774\uc5d0\uc694. MYSQL\uc5d0\uc11c root\ub85c \uc811\uadfc\ud560 \ub54c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 password\uc640 \uc0ac\uc6a9\ud560 database\ub97c \uc9c0\uc815\uc744 \ud574\uc90d\ub2c8\ub2e4. Grafana\uc640 \uac19\uc740 \uacbd\uc6b0\uc5d0\ub294 \ube44\ubc00\ubc88\ud638\ub97c \uc124\uc815\ud574\uc8fc\uc9c0 \uc54a\uc73c\uba74 \uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\uac00 admin\uc73c\ub85c \uc124\uc815\uc774 \ub418\uc5b4\uc788\uc5b4\uc694. \uadf8\ub9ac\uace0 \ube44\ubc00\ubc88\ud638\ub97c \ubcc0\uacbd\ud558\ub77c\ub294 \uba54\uc138\uc9c0\uac00 \ub098\uc624\ub294\ub370 docker \ucee8\ud14c\uc774\ub108\ub97c \ub0b4\ub9ac\uace0 \ub2e4\uc2dc \uc2e4\ud589\uc744 \ud558\uac8c \ub418\uba74 \uacc4\uc18d\ud574\uc11c \ube44\ubc00\ubc88\ud638\ub97c \uc124\uc815\ud558\ub77c\ub294 \ucc3d\uc774 \ub098\uc640\uc11c \uc124\uc815\ud574\uc8fc\ub294\uac8c \ud3b8\ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-.env",children:"MYSQL_ROOT_PASSWORD=\nMYSQL_DATABASE=\n\nGF_SECURITY_ADMIN_USER=\nGF_SECURITY_ADMIN_PASSWORD=\n"})}),"\n",(0,l.jsx)(n.h2,{id:"-\uc8fc\uc694-\uc124\uc815-\ud30c\uc77c\ub4e4",children:"\ud83d\udd27 \uc8fc\uc694 \uc124\uc815 \ud30c\uc77c\ub4e4"}),"\n",(0,l.jsx)(n.h3,{id:"1-mysqld_exporter-\uc124\uc815-mycnf",children:"1. mysqld_exporter \uc124\uc815 (my.cnf)"}),"\n",(0,l.jsx)(n.p,{children:"\uc5ec\uae30\uc11c \uc911\uc694\ud55c \uc810\uc740 user\uc640 password\ub294 \ub0b4\uac00 \uc811\uadfc\ud558\uace0\uc790\ud558\ub294 mysql\uc758 \ub0b4\uc6a9\uc774\uc5b4\uc57c \ub3fc\uc694. \uc989 user\uc5d0 exporter\uac00 \uc124\uc815\uc774 \ub418\uc5b4 \uc788\uc9c0 \uc54a\uc73c\uba74 access denied\uac00 \uc124\uc815\uc774 \ub420 \uc218 \uc788\uc5b4\uc694. \uc774\ub97c \uc720\uc758\ud574\uc11c \uc791\uc131\ud574\uc8fc\uc5b4\uc57c \ud574\uc694. \uc544\ub798 \ub0b4\uc6a9\uc5d0\uc11c \uc774\uc640 \uad00\ub828\ub41c \ubb38\uc81c \ud574\uacb0\uc744 \uc801\uc5b4\ub450\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"[client]\nuser=exporter\npassword=exporter_password\n"})}),"\n",(0,l.jsx)(n.h3,{id:"2-prometheus-\uc124\uc815-prometheusyml",children:"2. Prometheus \uc124\uc815 (prometheus.yml)"}),"\n",(0,l.jsx)(n.p,{children:"Prometheus\uac00 \ud0c0\uac9f\uc73c\ub85c \ud558\ub294 mysqld-expoert\ub97c \uc124\uc815\uc744 \ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'global:\n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: "mysqld-exporter"\n    static_configs:\n      - targets: ["mysqld-exporter:9104"]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"3-grafana-\ub370\uc774\ud130\uc18c\uc2a4-\uc790\ub3d9-\uc124\uc815-datasourceyml",children:"3. Grafana \ub370\uc774\ud130\uc18c\uc2a4 \uc790\ub3d9 \uc124\uc815 (datasource.yml)"}),"\n",(0,l.jsx)(n.p,{children:"Grafana\ub97c \ucc98\uc74c \uc2e4\ud589\uc744 \ud558\uac8c \ub418\uba74 data source\ub97c \uc815\ud558\ub294 \uacfc\uc815\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc744 \ud558\uc9c0 \uc54a\uc73c\uba74 \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \ub2f9\uc5f0\ud788 \ub300\uc2dc\ubcf4\ub4dc\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc9c0\uc9c0 \uc54a\uc544\uc694. \uc544\ub798 \ud30c\uc77c\uc744 \uc124\uc815\uc744 \ud574\uc8fc\uba74 Grafana\uac00 \uc2e4\ud589\ud560 \ub54c \uc790\ub3d9\uc73c\ub85c Prometheus\ub97c \uc124\uc815\ud574\uc90d\ub2c8\ub2e4."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: 1\n\ndatasources:\n  - name: Prometheus\n    type: prometheus\n    access: proxy\n    url: http://prometheus:9090\n    isDefault: true\n"})}),"\n",(0,l.jsx)(n.h2,{id:"-\uc8fc\uc694-\ubb38\uc81c\ub4e4\uacfc-\ud574\uacb0\ucc45",children:"\ud83d\udea8 \uc8fc\uc694 \ubb38\uc81c\ub4e4\uacfc \ud574\uacb0\ucc45"}),"\n",(0,l.jsxs)(n.h3,{id:"1-mysqld_exporter-access-denied-\ubb38\uc81c-\ud574\uacb0",children:["1. mysqld_exporter ",(0,l.jsx)(n.code,{children:"access denied"})," \ubb38\uc81c \ud574\uacb0"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\ubb38\uc81c"}),": mysqld_exporter \uc2e4\ud589 \uc2dc \ub2e4\uc74c \uc624\ub958 \ubc1c\uc0dd"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"[ERROR] Access denied for user 'exporter'@'localhost'\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\ud574\uacb0\ucc45"}),":"]}),"\n",(0,l.jsx)(n.p,{children:"exporter\uac00 \uc811\uadfc\ud560 user\uc640 \ud574\ub2f9 user\uc758 password\ub97c my.cnf\uc5d0 \uc798 \uc124\uc815 \ud574\uc8fc\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. my.cnf\uc5d0 exporter\ub97c \uc124\uc815\uc744 \ud574\ub450\uc5c8\ub294\ub370 mysql user\uc5d0 exporter\uac00 \uc5c6\ub2e4\uba74 \ub2f9\uc5f0\ud788 \uc5d0\ub7ec\uac00 \ub098\uc694."}),"\n",(0,l.jsx)(n.h3,{id:"2-grafana\uc5d0\uc11c-prometheus-\uc5f0\uacb0-\uc2e4\ud328",children:"2. Grafana\uc5d0\uc11c Prometheus \uc5f0\uacb0 \uc2e4\ud328"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\ubb38\uc81c"}),": Grafana\uc5d0\uc11c ",(0,l.jsx)(n.code,{children:"http://localhost:9090"}),"\uc73c\ub85c \uc124\uc815\ud588\ub354\ub2c8 \uc5f0\uacb0 \uc2e4\ud328"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\ud574\uacb0\ucc45"}),": \ub3c4\ucee4 \ucee8\ud14c\uc774\ub108 \ud658\uacbd\uc5d0\uc11c\ub294 \uc11c\ube44\uc2a4 \uc774\ub984\uc73c\ub85c \uc811\uadfc\ud558\ub294 \uac83\uc774 \ud575\uc2ec\uc774\uc5c8\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\u274c http://localhost:9090\n\u2705 http://prometheus:9090\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\uc774\uc720"}),": \ub3c4\ucee4 \ucee8\ud14c\uc774\ub108\uc5d0\uc11c ",(0,l.jsx)(n.code,{children:"localhost"}),"\ub294 \uc790\uae30 \uc790\uc2e0(\ucee8\ud14c\uc774\ub108 \ub0b4\ubd80)\uc744 \uc758\ubbf8\ud558\ubbc0\ub85c, \uac19\uc740 \ub124\ud2b8\uc6cc\ud06c \ub0b4\uc758 \ub2e4\ub978 \ucee8\ud14c\uc774\ub108\uc5d0 \uc811\uadfc\ud560 \ub54c\ub294 \uc11c\ube44\uc2a4\uba85\uc744 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4!"]}),"\n",(0,l.jsx)(n.h3,{id:"3-grafana-\uc124\uc815-\uc790\ub3d9\ud654",children:"3. Grafana \uc124\uc815 \uc790\ub3d9\ud654"}),"\n",(0,l.jsx)(n.p,{children:"2\ubc88\uacfc \uac19\uc774 \uc218\ub3d9 \uc124\uc815\uc73c\ub85c \uc124\uc815\ud558\ub294 \uacfc\uc815\uc5d0 \uc788\uc5b4\uc11c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218\ub3c4 \uc788\uace0, \ucee8\ud14c\uc774\ub108\uac00 down \ub41c \uc0c1\ud0dc\uc5d0\uc11c \ub2e4\uc2dc \uc2e4\ud589\uc744 \ud55c\ub2e4\uba74 \ub9e4\ubc88 \ud574\uc8fc\ub294 \uacfc\uc815\uc774 \uadc0\ucc2e\uc544\uc9c8 \uc218 \uc788\uc5b4 data source\ub97c \uc790\ub3d9\ud654 \ud574\uc904 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"provisioning"})," \ub514\ub809\ud130\ub9ac\ub97c \ud65c\uc6a9\ud55c \uc790\ub3d9\ud654 \uad6c\ud604:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"./grafana/provisioning/\n\u251c\u2500\u2500 dashboards/     # \ub300\uc2dc\ubcf4\ub4dc \uc790\ub3d9 \ub85c\ub529\n\u2514\u2500\u2500 datasources/    # \ub370\uc774\ud130\uc18c\uc2a4 \uc790\ub3d9 \uc124\uc815\n"})}),"\n",(0,l.jsx)(n.p,{children:"\uc774\ub807\uac8c \ud558\uba74 \ucee8\ud14c\uc774\ub108 \ucd08\uae30 \uc2e4\ud589 \uc2dc \ubaa8\ub4e0 \uc124\uc815\uc774 \uc790\ub3d9\uc73c\ub85c \uc801\uc6a9\ub428"}),"\n",(0,l.jsx)(n.h3,{id:"4-phpmyadmin-\ucd94\uac00\ub85c-\uad00\ub9ac-\ud3b8\uc758\uc131-\ud5a5\uc0c1",children:"4. phpMyAdmin \ucd94\uac00\ub85c \uad00\ub9ac \ud3b8\uc758\uc131 \ud5a5\uc0c1"}),"\n",(0,l.jsx)(n.p,{children:"\ud130\ubbf8\ub110 \uae30\ubc18 MySQL \uad00\ub9ac\uc758 \ubd88\ud3b8\ud568\uc744 \ud574\uacb0\ud558\uae30 \uc704\ud574 phpMyAdmin \ucd94\uac00\ud588\uc5b4\uc694.:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud3ec\ud2b8: 8080 (\ubcf4\ud1b5 \uc798 \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0 docker ps -a \ub97c \ud65c\uc6a9\ud574\uc11c \ud574\ub2f9 \ud3ec\ud2b8\ub97c \uc7a1\uace0 \uc788\ub294 \ucee8\ud14c\uc774\ub108\uac00 \uc788\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc5b4\uc57c \ud574\uc694.)"}),"\n",(0,l.jsx)(n.li,{children:"\uc2dc\uac01\uc801 \ud14c\uc774\ube14 \uad00\ub9ac"}),"\n",(0,l.jsx)(n.li,{children:"\uc0ac\uc6a9\uc790 \uad8c\ud55c \uc124\uc815 \uac04\ud3b8\ud654"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"5-grafana-mysql-overview-dashboard-\ub370\uc774\ud130-\ud45c\uc2dc-\ubb38\uc81c",children:"5. Grafana MySQL Overview Dashboard \ub370\uc774\ud130 \ud45c\uc2dc \ubb38\uc81c"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\ubb38\uc81c"}),": \ubaa8\ub4e0 \ud328\ub110\uc774 ",(0,l.jsx)(n.code,{children:"No data"})," \ud45c\uc2dc"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\uc6d0\uc778"}),": \ud15c\ud50c\ub9bf \ubcc0\uc218\uc640 \ucffc\ub9ac \uac04 \uc5f0\ub3d9 \ubb38\uc81c\uac00 \uc788\uc5c8\uc5b4\uc694."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"$host"})," \ubcc0\uc218 \uc124\uc815 \uc624\ub958\uac00 \uc788\uc5b4 prometheus\ub85c \ubd80\ud130 \ub370\uc774\ud130\ub97c \uac00\uc9c0\uace0 \uc624\uc9c0 \ubabb\ud574\uc11c No data\uac00 \ubcf4\uc600\uc5b4\uc694."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\ud574\uacb0\ucc45"}),":"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"$host \ubcc0\uc218 \uc7ac\uc124\uc815"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Query type: ",(0,l.jsx)(n.code,{children:"Label values"})]}),"\n",(0,l.jsxs)(n.li,{children:["Metric: ",(0,l.jsx)(n.code,{children:"mysql_global_status_threads_connected"})]}),"\n",(0,l.jsxs)(n.li,{children:["Label: ",(0,l.jsx)(n.code,{children:"instance"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\ubcc0\uc218 \uc0c8\ub85c\uace0\uce68 \uc124\uc815"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"On dashboard load"}),"\ub85c \uc124\uc815"]}),"\n",(0,l.jsxs)(n.li,{children:["\ub610\ub294 \ud328\ub110\uc5d0\uc11c \uc218\ub3d9 ",(0,l.jsx)(n.code,{children:"Run query"})," \uc2e4\ud589"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"-\ucd5c\uc885-\uad6c\uc131-\uacb0\uacfc",children:"\ud83d\udcca \ucd5c\uc885 \uad6c\uc131 \uacb0\uacfc"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://github.com/indianaPoly/mysql-monitoring",children:"\uc804\uccb4 \ucf54\ub4dc \ubcf4\ub7ec \uac08\ub798\uc694"})}),"\n",(0,l.jsx)(n.p,{children:"\uc124\uc815 \uc644\ub8cc \ud6c4 Grafana \ub300\uc2dc\ubcf4\ub4dc\uc5d0\uc11c \uc2e4\uc2dc\uac04\uc73c\ub85c \ud655\uc778 \uac00\ub2a5\ud55c \uc9c0\ud45c\ub4e4\uc740 \uc544\ub798\uc640 \uac19\uc544\uc694:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"MySQL Uptime"}),": \uc11c\ubc84 \uac00\ub3d9 \uc2dc\uac04"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Threads Connected/Running"}),": \uc5f0\uacb0\ub41c \uc2a4\ub808\ub4dc \uc218"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"QPS (Queries per Second)"}),": \ucd08\ub2f9 \ucffc\ub9ac \uc218"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"InnoDB Buffer Pool"}),": \ubc84\ud37c \ud480 \uc0ac\uc6a9\ub7c9"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Connections"}),": \uc5f0\uacb0 \uc0c1\ud0dc"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Table Locks"}),": \ud14c\uc774\ube14 \uc7a0\uae08 \ud604\ud669"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Thread Cache"}),": \uc2a4\ub808\ub4dc \uce90\uc2dc \uc0c1\ud0dc"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\ub300\uc2dc\ubcf4\ub4dc \uc0c8\ub85c\uace0\uce68 \uac04\uaca9\uc744 ",(0,l.jsx)(n.code,{children:"5\ucd08"}),"\ub85c \uc124\uc815\ud558\uc5ec \uc2e4\uc2dc\uac04\uc5d0 \uac00\uae4c\uc6b4 \ubaa8\ub2c8\ud130\ub9c1 \ud658\uacbd \uad6c\ucd95\ud560 \uc218 \uc788\uc5c8\uc2b5\ub2c8\ub2e4! \uc544\ub798\ub294 \uad6c\uc131 \ud6c4 \uacb0\uacfc\ubb3c\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsx)("img",{src:"/img/blog/docker/2025-07-20/img1.png",width:600})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>o});var s=r(6540);const l={},a=s.createContext(l);function i(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(a.Provider,{value:n},e.children)}},8720:e=>{e.exports=JSON.parse('{"permalink":"/blog/2025/07/20/docker/MYSQL-monioring-setting-title","editUrl":"https://github.com/indianaPoly/indianapoly.github.io/blog/docker/2025-07-20-MYSQL-monioring-setting-title.mdx","source":"@site/blog/docker/2025-07-20-MYSQL-monioring-setting-title.mdx","title":"Grafana + Prometheus + MySQL Exporter\ub97c \ud65c\uc6a9\ud55c MySQL \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815\uae30","description":"{/ truncate /}","date":"2025-07-20T00:00:00.000Z","tags":[{"inline":true,"label":"TIL","permalink":"/blog/tags/til"},{"inline":true,"label":"Docker","permalink":"/blog/tags/docker"}],"readingTime":4.2,"hasTruncateMarker":true,"authors":[{"name":"\uace0\ud604\ub9bc","title":"\ud504\ub860\ud2b8\uc5d4\ub4dc | \ube14\ub85d\uccb4\uc778 Developer","url":"https://www.linkedin.com/in/%ED%98%84%EB%A6%BC-%EA%B3%A0-b53602221/","socials":{"github":"https://github.com/indianaPoly"},"imageURL":"https://ifh.cc/g/GagTYM.jpg","key":"hyeonlim","page":null}],"frontMatter":{"title":"Grafana + Prometheus + MySQL Exporter\ub97c \ud65c\uc6a9\ud55c MySQL \ubaa8\ub2c8\ud130\ub9c1 \uc124\uc815\uae30","authors":["hyeonlim"],"tags":["TIL","Docker"]},"unlisted":false,"nextItem":{"title":"Terraform\uc73c\ub85c EKS \ubc30\ud3ec \uc2dc \ubc1c\uc0dd\ud558\ub294 \ub9ac\uc18c\uc2a4 \ucda9\ub3cc \ud574\uacb0 \uac00\uc774\ub4dc","permalink":"/blog/2025/07/19/terraform/terraform-errorHandling-title"}}')}}]);